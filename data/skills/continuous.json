{
  "id": "a613417ef2a81129",
  "slug": "continuous",
  "name": "Continuous",
  "description": "Context management for Claude Code. Hooks maintain state via ledgers and handoffs. MCP execution without context pollution. Agent orchestration with isolated context windows.",
  "author": "parcadei",
  "authorAvatar": "https://avatars.githubusercontent.com/u/227596144?v=4",
  "repoUrl": "https://github.com/parcadei/Continuous-Claude",
  "repoFullName": "parcadei/Continuous-Claude",
  "stars": 6,
  "forks": 0,
  "category": "ai-ml",
  "categories": [
    "ai-ml"
  ],
  "tags": [
    "agents",
    "claude-code",
    "claude-code-cli",
    "claude-code-hooks",
    "claude-code-mcp",
    "claude-code-skills",
    "claude-code-subagents",
    "claude-skills",
    "mcp"
  ],
  "tier": 3,
  "status": "active",
  "createdAt": "2025-12-23T00:12:49Z",
  "updatedAt": "2025-12-25T03:39:44Z",
  "lastCommitAt": "2025-12-25T03:39:40Z",
  "source": "github-topic",
  "collectedAt": "2025-12-25T03:40:51.871Z",
  "authorUrl": "https://github.com/parcadei",
  "license": "NOASSERTION",
  "readme": "# Continuous Claude\n\nSession continuity, token-efficient MCP execution, and agentic workflows for Claude Code.\n\n---\n\n## Table of Contents\n\n- [Architecture Overview](#architecture-overview)\n- [The Problem](#the-problem) / [The Solution](#the-solution)\n- [Quick Start](#quick-start) (project or global install)\n- [How to Talk to Claude](#how-to-talk-to-claude)\n- [Skills vs Agents](#skills-vs-agents)\n- [MCP Code Execution](#mcp-code-execution)\n- [Continuity System](#continuity-system)\n- [Hooks System](#hooks-system)\n- [Reasoning History](#reasoning-history)\n- [Braintrust Session Tracing](#braintrust-session-tracing-optional) + [Compound Learnings](#compound-learnings)\n- [Artifact Index](#artifact-index) (handoff search, outcome tracking)\n- [TDD Workflow](#tdd-workflow)\n- [Code Quality (qlty)](#code-quality-qlty)\n- [Directory Structure](#directory-structure)\n- [Environment Variables](#environment-variables)\n- [Glossary](#glossary)\n- [Troubleshooting](#troubleshooting)\n- [Acknowledgments](#acknowledgments)\n\n---\n\n## Architecture Overview\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                            CLAUDE CODE SESSION                              â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚                                                                             â”‚\nâ”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚\nâ”‚   â”‚ SessionStartâ”‚â”€â”€â”€â–¶â”‚   Working   â”‚â”€â”€â”€â–¶â”‚  PreCompact â”‚â”€â”€â”€â–¶â”‚ SessionEnd â”‚  â”‚\nâ”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â”‚\nâ”‚          â”‚                  â”‚                  â”‚                  â”‚         â”‚\nâ”‚          â–¼                  â–¼                  â–¼                  â–¼         â”‚\nâ”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚\nâ”‚   â”‚Load Ledger   â”‚   â”‚PostToolUse   â”‚   â”‚Auto-Handoff  â”‚   â”‚Mark       â”‚   â”‚\nâ”‚   â”‚Load Handoff  â”‚   â”‚UserPrompt    â”‚   â”‚Block Manual  â”‚   â”‚Outcome    â”‚   â”‚\nâ”‚   â”‚Surface       â”‚   â”‚SubagentStop  â”‚   â”‚              â”‚   â”‚Cleanup    â”‚   â”‚\nâ”‚   â”‚Learnings     â”‚   â”‚              â”‚   â”‚              â”‚   â”‚Learn      â”‚   â”‚\nâ”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚\nâ”‚                                                                             â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                â”‚                â”‚                â”‚                â”‚\n                â–¼                â–¼                â–¼                â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                              DATA LAYER                                     â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚                                                                             â”‚\nâ”‚  thoughts/                    .claude/cache/                                â”‚\nâ”‚  â”œâ”€â”€ ledgers/                 â”œâ”€â”€ artifact-index/                           â”‚\nâ”‚  â”‚   â””â”€â”€ CONTINUITY_*.md          â””â”€â”€ context.db (SQLite+FTS5)             â”‚\nâ”‚  â””â”€â”€ shared/                  â”œâ”€â”€ learnings/                                â”‚\nâ”‚      â”œâ”€â”€ handoffs/                â””â”€â”€ <date>_<session>.md                   â”‚\nâ”‚      â”‚   â””â”€â”€ <session>/       â””â”€â”€ braintrust_sessions/                      â”‚\nâ”‚      â”‚       â””â”€â”€ *.md             â””â”€â”€ <session>.json                        â”‚\nâ”‚      â””â”€â”€ plans/                                                             â”‚\nâ”‚          â””â”€â”€ *.md             .git/claude/                                  â”‚\nâ”‚                               â””â”€â”€ commits/                                  â”‚\nâ”‚                                   â””â”€â”€ <hash>/reasoning.md                   â”‚\nâ”‚                                                                             â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                â”‚                                        â”‚\n                â–¼                                        â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚          SKILLS                   â”‚  â”‚           AGENTS                   â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚                                   â”‚  â”‚                                   â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚\nâ”‚  â”‚ continuity_ledgerâ”‚ Save state  â”‚  â”‚  â”‚ plan-agent       â”‚ Create plan â”‚\nâ”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚\nâ”‚  â”‚ create_handoff   â”‚ End session â”‚  â”‚  â”‚ validate-agent   â”‚ Check tech  â”‚\nâ”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚\nâ”‚  â”‚ resume_handoff   â”‚ Resume work â”‚  â”‚  â”‚ implement_plan   â”‚ Execute     â”‚\nâ”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚\nâ”‚  â”‚ commit           â”‚ Git commit  â”‚  â”‚  â”‚ research-agent   â”‚ Research    â”‚\nâ”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚\nâ”‚  â”‚ tdd-workflow     â”‚ Red/Green   â”‚  â”‚  â”‚ debug-agent      â”‚ Debug       â”‚\nâ”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚\nâ”‚  â”‚ compound-learn   â”‚ Make rules  â”‚  â”‚  â”‚ rp-explorer      â”‚ Codebase    â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚\nâ”‚                                   â”‚  â”‚                                   â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                â”‚                                        â”‚\n                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                                     â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                           SCRIPTS (MCP Execution)                           â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚                                                                             â”‚\nâ”‚  Artifact Index              Braintrust              MCP Tools              â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚\nâ”‚  â”‚ artifact_index   â”‚        â”‚ braintrust_       â”‚    â”‚ perplexity_      â”‚   â”‚\nâ”‚  â”‚ artifact_query   â”‚        â”‚    analyze        â”‚    â”‚    search        â”‚   â”‚\nâ”‚  â”‚ artifact_mark    â”‚        â”‚ (--learn,         â”‚    â”‚ nia_docs         â”‚   â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚  --sessions)      â”‚    â”‚ firecrawl_scrape â”‚   â”‚\nâ”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ github_search    â”‚   â”‚\nâ”‚                                                      â”‚ morph_search     â”‚   â”‚\nâ”‚                                                      â”‚ ast_grep_find    â”‚   â”‚\nâ”‚                                                      â”‚ qlty_check       â”‚   â”‚\nâ”‚                                                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚\nâ”‚                                                                             â”‚\nâ”‚  Executed via: uv run python -m runtime.harness scripts/<script>.py        â”‚\nâ”‚                                                                             â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                                     â”‚\n                                     â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                        EXTERNAL SERVICES (Optional)                         â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚                                                                             â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚\nâ”‚  â”‚Braintrustâ”‚  â”‚Perplexityâ”‚  â”‚ Firecrawlâ”‚  â”‚   Morph  â”‚  â”‚   Nia    â”‚      â”‚\nâ”‚  â”‚ Tracing  â”‚  â”‚  Search  â”‚  â”‚  Scrape  â”‚  â”‚ WarpGrep â”‚  â”‚   Docs   â”‚      â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚\nâ”‚                                                                             â”‚\nâ”‚  Local-only: git, ast-grep, qlty                                           â”‚\nâ”‚  License required: repoprompt (Pro for MCP tools)                          â”‚\nâ”‚                                                                             â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n### Data Flow: Session Lifecycle\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                         THE CONTINUITY LOOP                                 â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\n  1. SESSION START                     2. WORKING\n  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n  â”‚                    â”‚               â”‚                    â”‚\n  â”‚  Ledger loaded â”€â”€â”€â”€â”¼â”€â”€â–¶ Context    â”‚  PostToolUse â”€â”€â”€â”€â”€â”€â”¼â”€â”€â–¶ Index handoffs\n  â”‚  Handoff loaded    â”‚               â”‚  UserPrompt â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â–¶ Skill hints\n  â”‚  Learnings shown   â”‚               â”‚  SubagentStop â”€â”€â”€â”€â”€â”¼â”€â”€â–¶ Agent reports\n  â”‚                    â”‚               â”‚                    â”‚\n  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n           â”‚                                    â”‚\n           â”‚                                    â–¼\n           â”‚                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n           â”‚                           â”‚ 3. PRE-COMPACT     â”‚\n           â”‚                           â”‚                    â”‚\n           â”‚                           â”‚  Auto-handoff â”€â”€â”€â”€â”€â”¼â”€â”€â–¶ thoughts/\n           â”‚                           â”‚  Block manual      â”‚\n           â”‚                           â”‚                    â”‚\n           â”‚                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n           â”‚                                    â”‚\n           â”‚                                    â–¼\n           â”‚                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n           â”‚                           â”‚ 4. SESSION END     â”‚\n           â”‚                           â”‚                    â”‚\n           â”‚                           â”‚  Mark outcome â”€â”€â”€â”€â”€â”¼â”€â”€â–¶ artifact.db\n           â”‚                           â”‚  Extract learnings â”¼â”€â”€â–¶ cache/\n           â”‚                           â”‚  Cleanup           â”‚\n           â”‚                           â”‚                    â”‚\n           â”‚                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n           â”‚                                    â”‚\n           â”‚                                    â”‚\n           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—€â”€â”€â”€â”€â”€â”€ /clear â—€â”€â”€â”€â”€â”€â”€â”˜\n                          Fresh context + state preserved\n```\n\n### The 3-Step Agent Flow\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                    PLAN â†’ VALIDATE â†’ IMPLEMENT                              â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\n  \"Design a feature\"          \"Ready to implement\"        \"Execute the plan\"\n         â”‚                           â”‚                           â”‚\n         â–¼                           â–¼                           â–¼\n  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n  â”‚ plan-agent   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚validate-agentâ”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚implement_planâ”‚\n  â”‚              â”‚           â”‚              â”‚           â”‚              â”‚\n  â”‚ Research     â”‚           â”‚ RAG-judge    â”‚           â”‚ Orchestrate  â”‚\n  â”‚ Design       â”‚           â”‚ WebSearch    â”‚           â”‚ Task agents  â”‚\n  â”‚ Write plan   â”‚           â”‚ Flag issues  â”‚           â”‚ TDD workflow â”‚\n  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n         â”‚                           â”‚                           â”‚\n         â–¼                           â–¼                           â–¼\n  thoughts/shared/           Validation report         thoughts/shared/\n  plans/*.md                 (in context)              handoffs/session/*.md\n```\n\n---\n\n## The Problem\n\nWhen Claude Code runs low on context, it compacts (summarizes) the conversation. Each compaction is lossy. After several, you're working with a summary of a summary of a summary. Signal degrades into noise.\n\n```\nSession Start: Full context, high signal\n    â†“ work, work, work\nCompaction 1: Some detail lost\n    â†“ work, work, work\nCompaction 2: Context getting murky\n    â†“ work, work, work\nCompaction 3: Now working with compressed noise\n    â†“ Claude starts hallucinating context\n```\n\n## The Solution\n\n**Clear, don't compact.** Save state to a ledger, wipe context, resume fresh.\n\n```\nSession Start: Fresh context + ledger loaded\n    â†“ focused work\nComplete task, save to ledger\n    â†“ /clear\nFresh context + ledger loaded\n    â†“ continue with full signal\n```\n\n**Why this works:**\n- Ledgers are lossless - you control what's saved\n- Fresh context = full signal\n- Agents spawn with clean context, not degraded summaries\n\n---\n\n## Quick Start\n\n**Which option?**\n- Just trying it on ONE project? â†’ Start with Option 1\n- Want it on ALL your projects? â†’ Do Option 2 (global), then Option 3 (per-project)\n\n### Option 1: Use in This Project\n\n```bash\n# Clone\ngit clone https://github.com/parcadei/claude-continuity-kit.git\ncd claude-continuity-kit\n\n# Install Python deps\nuv sync\n\n# Configure (optional - add API keys for extra features)\ncp .env.example .env\n\n# Start\nclaude\n```\n\n**Works immediately** - hooks are pre-bundled, no `npm install` needed.\n\n### Option 2: Install Globally (Use in Any Project)\n\n```bash\n# After cloning and syncing\n./install-global.sh\n```\n\nThis installs skills, agents, rules, and hooks to `~/.claude/`. Now you can use continuity, handoffs, and all other features from any project.\n\n### Option 3: Initialize a New Project\n\nAfter global install, set up any project for full continuity support:\n\n```bash\ncd your-project\n~/.claude/scripts/init-project.sh\n# Or if you cloned this repo:\n./init-project.sh\n```\n\nThis creates:\n- `thoughts/` - Plans, handoffs, ledgers (gitignored)\n- `.claude/cache/artifact-index/` - Local search database\n- Adds `.claude/cache/` to `.gitignore`\n\n### What's Optional?\n\nAll external services are optional. Without API keys:\n- **Continuity system**: Works (no external deps)\n- **TDD workflow**: Works (no external deps)\n- **Session tracing**: Disabled (needs BRAINTRUST_API_KEY)\n- **Web search**: Disabled (needs PERPLEXITY_API_KEY)\n- **Code search**: Falls back to grep (MORPH_API_KEY speeds it up)\n\nSee `.env.example` for the full list of optional services.\n\n---\n\n## How to Talk to Claude\n\nThis kit responds to natural language triggers. Say certain phrases and Claude activates the right skill or spawns an agent.\n\n### Session Management\n\n| Say This | What Happens |\n|----------|--------------|\n| \"save state\", \"update ledger\", \"before clear\" | Updates continuity ledger, preserves state for `/clear` |\n| \"done for today\", \"wrap up\", \"create handoff\" | Creates detailed handoff doc for next session |\n| \"resume work\", \"continue from handoff\", \"pick up where\" | Loads handoff, analyzes context, continues |\n\n### Planning & Implementation\n\n| Say This | What Happens |\n|----------|--------------|\n| \"create plan\", \"design\", \"architect\", \"greenfield\" | Spawns **plan-agent** to create implementation plan |\n| \"validate plan\", \"before implementing\", \"ready to implement\" | Spawns **validate-agent** (RAG-judge + WebSearch) |\n| \"implement plan\", \"execute plan\", \"run the plan\" | Spawns **implement_plan** with agent orchestration |\n| \"verify implementation\", \"did it work\", \"check code\" | Runs **validate_plan** to verify against plan |\n\n**The 3-step flow:**\n```\n1. plan-agent     â†’ Creates plan in thoughts/shared/plans/\n2. validate-agent â†’ RAG-judge (past precedent) + WebSearch (best practices)\n3. implement_plan â†’ Executes with task agents, creates handoffs\n```\n\n### Code Quality\n\n| Say This | What Happens |\n|----------|--------------|\n| \"implement\", \"add feature\", \"fix bug\", \"refactor\" | **TDD workflow** activates - write failing test first |\n| \"lint\", \"code quality\", \"auto-fix\", \"check code\" | Runs **qlty-check** (70+ linters, auto-fix) |\n| \"commit\", \"push\", \"save changes\" | Runs **commit** skill (removes Claude attribution) |\n| \"describe pr\", \"create pr\" | Generates PR description from changes |\n\n### Codebase Exploration\n\n| Say This | What Happens |\n|----------|--------------|\n| \"brownfield\", \"existing codebase\", \"repoprompt\" | Spawns **rp-explorer** - uses RepoPrompt for token-efficient exploration |\n| \"how does X work\", \"trace\", \"data flow\", \"deep dive\" | Spawns **codebase-analyzer** for detailed analysis |\n| \"find files\", \"where are\", \"which files handle\" | Spawns **codebase-locator** (super grep/glob) |\n| \"find examples\", \"similar pattern\", \"how do we do X\" | Spawns **codebase-pattern-finder** |\n| \"explore\", \"get familiar\", \"overview\" | Spawns **explore** agent with configurable depth |\n\n**rp-explorer uses RepoPrompt tools** (requires Pro license - $14.99/mo or $349 lifetime):\n- **Context Builder** - Deep AI-powered exploration (async, 30s-5min)\n- **Codemaps** - Function/class signatures without full file content (10x fewer tokens)\n- **Slices** - Read specific line ranges, not whole files\n- **Search** - Pattern matching with context lines\n- **Workspaces** - Switch between projects\n\n*Free tier available with basic features (32k token limit, no MCP server)*\n\n### Research\n\n| Say This | What Happens |\n|----------|--------------|\n| \"research\", \"investigate\", \"find out\", \"best practices\" | Spawns **research-agent** (uses MCP tools) |\n| \"research repo\", \"analyze this repo\", \"clone and analyze\" | Spawns **repo-research-analyst** |\n| \"docs\", \"documentation\", \"library docs\", \"API reference\" | Runs **nia-docs** for library documentation |\n| \"web search\", \"look up\", \"latest\", \"current info\" | Runs **perplexity-search** for web research |\n\n### Debugging\n\n| Say This | What Happens |\n|----------|--------------|\n| \"debug\", \"investigate issue\", \"why is it broken\" | Spawns **debug-agent** (logs, code search, git history) |\n| \"not working\", \"error\", \"failing\", \"what's wrong\" | Same - triggers debug-agent |\n\n### Code Search\n\n| Say This | What Happens |\n|----------|--------------|\n| \"search code\", \"grep\", \"find in code\", \"find text\" | Runs **morph-search** (20x faster than grep) |\n| \"ast\", \"find all calls\", \"refactor\", \"codemod\" | Runs **ast-grep-find** (structural search) |\n| \"search github\", \"find repo\", \"github issue\" | Runs **github-search** |\n\n### Learning & Insights\n\n| Say This | What Happens |\n|----------|--------------|\n| \"compound learnings\", \"turn learnings into rules\" | Runs **compound-learnings** - transforms session learnings into skills/rules |\n| \"analyze session\", \"what happened\", \"session insights\" | Runs **braintrust-analyze** to review traces |\n| \"recall\", \"what was tried\", \"past reasoning\" | Searches **reasoning history** |\n\n### Other\n\n| Say This | What Happens |\n|----------|--------------|\n| \"scrape\", \"fetch url\", \"crawl\" | Runs **firecrawl-scrape** |\n| \"create skill\", \"skill triggers\", \"skill system\" | Runs **skill-developer** meta-skill |\n| \"codebase structure\", \"file tree\", \"signatures\" | Runs **repoprompt** for code maps |\n\n---\n\n## Skills vs Agents\n\n**Skills** run in current context. Quick, focused, minimal token overhead.\n\n**Agents** spawn with fresh context. Use for complex tasks that would degrade in a compacted context. They return a summary and optionally create handoffs.\n\n### When to Use Agents\n\n- Brownfield exploration â†’ `rp-explorer` first\n- Multi-step research â†’ `research-agent`\n- Complex debugging â†’ `debug-agent`\n- Implementation with handoffs â†’ `implement_plan`\n\n### Agent Orchestration\n\nFor large implementations, `implement_plan` spawns task agents:\n\n```\nimplement_plan (orchestrator)\n    â”œâ”€â”€ task-agent (task 1) â†’ handoff-01.md\n    â”œâ”€â”€ task-agent (task 2) â†’ handoff-02.md\n    â””â”€â”€ task-agent (task 3) â†’ handoff-03.md\n```\n\nEach task agent:\n1. Reads previous handoff\n2. Does its work with TDD\n3. Creates handoff for next agent\n4. Returns summary to orchestrator\n\n---\n\n## MCP Code Execution\n\nTools are executed via scripts, not loaded into context. This saves tokens.\n\n```bash\n# Example: run a script\nuv run python -m runtime.harness scripts/qlty_check.py --fix\n\n# Available scripts\nls scripts/\n```\n\n### Adding MCP Servers\n\n1. Edit `mcp_config.json` (or `.mcp.json`)\n2. Add API keys to `.env`\n3. Run `uv run mcp-generate`\n\n```json\n{\n  \"mcpServers\": {\n    \"my-server\": {\n      \"type\": \"stdio\",\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"my-mcp-server\"],\n      \"env\": { \"API_KEY\": \"${MY_API_KEY}\" }\n    }\n  }\n}\n```\n\n---\n\n## Continuity System\n\n### Ledger (within session)\n\nBefore running `/clear`:\n```\n\"Update the ledger, I'm about to clear\"\n```\n\nCreates/updates `CONTINUITY_CLAUDE-<session>.md` with:\n- Goal and constraints\n- What's done, what's next\n- Key decisions\n- Working files\n\nAfter `/clear`, the ledger loads automatically.\n\n### Handoff (between sessions)\n\nWhen done for the day:\n```\n\"Create a handoff, I'm done for today\"\n```\n\nCreates `thoughts/handoffs/<session>/handoff-<timestamp>.md` with:\n- Detailed context\n- Recent changes with file:line references\n- Learnings and patterns\n- Next steps\n\nNext session:\n```\n\"Resume from handoff\"\n```\n\n---\n\n## Hooks System\n\nHooks are the backbone of continuity. They intercept Claude Code lifecycle events and automate state preservation.\n\n### StatusLine (Context Indicator)\n\nThe colored status bar shows context usage in real-time:\n\n```\n45.2K 23% | main U:3 | âœ“ Fixed auth â†’ Add tests\n â†‘     â†‘      â†‘   â†‘        â†‘           â†‘\n â”‚     â”‚      â”‚   â”‚        â”‚           â””â”€â”€ Current focus (from ledger)\n â”‚     â”‚      â”‚   â”‚        â””â”€â”€ Last completed item\n â”‚     â”‚      â”‚   â””â”€â”€ Uncommitted changes (Staged/Unstaged/Added)\n â”‚     â”‚      â””â”€â”€ Git branch\n â”‚     â””â”€â”€ Context percentage used\n â””â”€â”€ Token count\n```\n\n**Color coding:**\n\n| Color | Range | Meaning |\n|-------|-------|---------|\n| ğŸŸ¢ Green | < 60% | Normal - full continuity info shown |\n| ğŸŸ¡ Yellow | 60-79% | Warning - consider creating handoff soon |\n| ğŸ”´ Red | â‰¥ 80% | Critical - shows `âš ` icon, prompts handoff |\n\nThe StatusLine writes context % to `/tmp/claude-context-pct-{SESSION_ID}.txt` (per-session to avoid multi-instance conflicts).\n\n### Hook Events\n\n| Event | When | What This Kit Does |\n|-------|------|-------------------|\n| **SessionStart** | New session, `/clear`, compact | Loads ledger + latest handoff into context |\n| **PreCompact** | Before context compaction | Creates auto-handoff, blocks manual compact |\n| **UserPromptSubmit** | Before processing user message | Shows skill suggestions, context warnings |\n| **PostToolUse** | After Edit/Write/Bash | Tracks modified files for auto-summary |\n| **SubagentStop** | Agent finishes | Logs agent completion |\n| **SessionEnd** | Session closes | Cleanup temp files |\n\n### SessionStart Hook\n\nRuns on: `resume`, `clear`, `compact`\n\n**What it does:**\n1. Finds most recent `CONTINUITY_CLAUDE-*.md` ledger\n2. Extracts Goal and current focus (\"Now:\")\n3. Finds latest handoff (task-*.md or auto-handoff-*.md)\n4. Injects ledger + handoff into system context\n\n**Result:** After `/clear`, Claude immediately knows:\n- What you're working on\n- What's done vs pending\n- Recent decisions and learnings\n\n### PreCompact Hook\n\nRuns: Before any compaction\n\n**Auto-compact (trigger: auto):**\n1. Parses transcript to extract tool calls and responses\n2. Generates detailed `auto-handoff-<timestamp>.md` with:\n   - Files modified\n   - Recent tool outputs\n   - Current work state\n3. Saves to `thoughts/handoffs/<session>/`\n\n**Manual compact (trigger: manual):**\n- Blocks compaction\n- Prompts you to run `/continuity_ledger` first\n\n### UserPromptSubmit Hook\n\nRuns: Every message you send\n\n**Two functions:**\n\n1. **Skill activation** - Scans your message for keywords defined in `skill-rules.json`. Shows relevant skills:\n   ```\n   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n   ğŸ¯ SKILL ACTIVATION CHECK\n   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\n   âš ï¸ CRITICAL SKILLS (REQUIRED):\n     â†’ create_handoff\n\n   ğŸ“š RECOMMENDED SKILLS:\n     â†’ commit\n   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n   ```\n\n2. **Context warnings** - Reads context % and shows tiered warnings:\n   - 70%: `Consider handoff when you reach a stopping point.`\n   - 80%: `Recommend: /create_handoff then /clear soon`\n   - 90%: `CONTEXT CRITICAL: Run /create_handoff NOW!`\n\n### How Hooks Work\n\nHooks are **pre-bundled** - no runtime dependencies needed. Shell wrappers call bundled JS:\n\n```bash\n# .claude/hooks/session-start-continuity.sh\n#!/bin/bash\nset -e\ncd \"$CLAUDE_PROJECT_DIR/.claude/hooks\"\ncat | node dist/session-start-continuity.mjs\n```\n\n**For developers** who want to modify hooks:\n```bash\ncd .claude/hooks\nvim src/session-start-continuity.ts  # Edit source\n./build.sh                            # Rebuild dist/\n```\n\n**Note on latency:** Some hooks (especially `SessionEnd` and `Stop`) may add 1-3 seconds of latency as they finalize traces and extract learnings. This is expected - the hooks run fire-and-forget processes that don't block the next session.\n\nHooks receive JSON input and return JSON output:\n\n```typescript\n// Input varies by event type\ninterface SessionStartInput {\n  source: 'startup' | 'resume' | 'clear' | 'compact';\n  session_id: string;\n}\n\n// Output controls behavior\ninterface HookOutput {\n  result: 'continue' | 'block';  // Block stops the action\n  message?: string;               // Shown to user\n  hookSpecificOutput?: {          // Injected into context\n    additionalContext: string;\n  };\n}\n```\n\n### Registering Hooks\n\nHooks are configured in `.claude/settings.json`:\n\n```json\n{\n  \"statusLine\": {\n    \"type\": \"command\",\n    \"command\": \"$CLAUDE_PROJECT_DIR/.claude/scripts/status.sh\"\n  },\n  \"hooks\": {\n    \"SessionStart\": [{\n      \"matcher\": \"clear\",\n      \"hooks\": [{\n        \"type\": \"command\",\n        \"command\": \"$CLAUDE_PROJECT_DIR/.claude/hooks/session-start-continuity.sh\"\n      }]\n    }]\n  }\n}\n```\n\n**Matcher patterns:** Use `|` for multiple triggers: `\"Edit|Write|Bash\"`\n\n---\n\n## Reasoning History\n\nThe system captures what was tried during development - build failures, fixes, experiments. This creates searchable memory across sessions.\n\n**How it works:**\n\n1. **During work** - The `/commit` skill tracks what was attempted\n2. **On commit** - `generate-reasoning.sh` saves attempts to `.git/claude/commits/<hash>/reasoning.md`\n3. **Later** - \"recall what was tried\" searches past reasoning for similar problems\n\n**Scripts in `.claude/scripts/`:**\n\n| Script | Purpose |\n|--------|---------|\n| `generate-reasoning.sh` | Captures attempts after each commit |\n| `search-reasoning.sh` | Finds past solutions to similar problems |\n| `aggregate-reasoning.sh` | Combines reasoning across commits |\n| `status.sh` | StatusLine - shows context %, git status, focus |\n\n**Example:**\n```\n\"recall what was tried for authentication bugs\"\nâ†’ Searches .git/claude/commits/*/reasoning.md\nâ†’ Returns: \"In commit abc123, tried X but failed because Y, fixed with Z\"\n```\n\nThis is why `/commit` matters - it's not just git, it's building Claude's memory.\n\n---\n\n## Braintrust Session Tracing (Optional)\n\nTrack every session with Braintrust for learning from past work.\n\n### What It Provides\n\n1. **Session traces** - Every turn, tool call, and LLM response logged\n2. **Automatic learnings** - At session end, extracts \"What Worked/Failed/Patterns\"\n3. **Artifact Index integration** - Handoffs linked to trace IDs for correlation\n\n### Architecture\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                        BRAINTRUST TRACING ARCHITECTURE                      â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\n                             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n                             â”‚   Braintrust    â”‚\n                             â”‚     Cloud       â”‚\n                             â”‚  (braintrust.   â”‚\n                             â”‚      dev)       â”‚\n                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                                      â”‚\n              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n              â”‚                       â”‚                       â”‚\n              â–¼                       â–¼                       â–¼\n      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n      â”‚   Project A  â”‚       â”‚   Project B  â”‚       â”‚   Project C  â”‚\n      â”‚   (traces)   â”‚       â”‚   (traces)   â”‚       â”‚   (traces)   â”‚\n      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\n\n                    WITHIN A PROJECT: Session Trace Structure\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                                                                             â”‚\nâ”‚   SESSION (root span) â”€â”€â”€ created by SessionStart hook                      â”‚\nâ”‚   â”‚                                                                         â”‚\nâ”‚   â”œâ”€â”€ TURN 1 (task span) â”€â”€â”€ created by UserPromptSubmit hook              â”‚\nâ”‚   â”‚   â”‚                                                                     â”‚\nâ”‚   â”‚   â”œâ”€â”€ LLM Call (llm span) â”€â”€â”€ created by Stop hook                     â”‚\nâ”‚   â”‚   â”‚   â””â”€â”€ input: [user message], output: [assistant + tool_use]        â”‚\nâ”‚   â”‚   â”‚                                                                     â”‚\nâ”‚   â”‚   â”œâ”€â”€ Tool: Read file.ts (tool span) â”€â”€â”€ PostToolUse hook              â”‚\nâ”‚   â”‚   â”œâ”€â”€ Tool: Edit file.ts (tool span) â”€â”€â”€ PostToolUse hook              â”‚\nâ”‚   â”‚   â”‚                                                                     â”‚\nâ”‚   â”‚   â””â”€â”€ LLM Call (llm span) â”€â”€â”€ created by Stop hook                     â”‚\nâ”‚   â”‚       â””â”€â”€ input: [tool results], output: [assistant response]          â”‚\nâ”‚   â”‚                                                                         â”‚\nâ”‚   â”œâ”€â”€ TURN 2 (task span)                                                   â”‚\nâ”‚   â”‚   â””â”€â”€ ... (same structure)                                             â”‚\nâ”‚   â”‚                                                                         â”‚\nâ”‚   â””â”€â”€ TURN N (task span)                                                   â”‚\nâ”‚                                                                             â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\n\n                    CROSS-SESSION: The Learning Loop\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                                                                             â”‚\nâ”‚   SESSION 1                SESSION 2                SESSION 3               â”‚\nâ”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚\nâ”‚   â”‚  Work   â”‚              â”‚  Work   â”‚              â”‚  Work   â”‚             â”‚\nâ”‚   â”‚   +     â”‚              â”‚   +     â”‚              â”‚   +     â”‚             â”‚\nâ”‚   â”‚ Traces  â”‚              â”‚ Traces  â”‚              â”‚ Traces  â”‚             â”‚\nâ”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜             â”‚\nâ”‚        â”‚                        â”‚                        â”‚                  â”‚\nâ”‚        â–¼                        â–¼                        â–¼                  â”‚\nâ”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚\nâ”‚   â”‚SessionEnd              â”‚SessionEnd              â”‚SessionEnd             â”‚\nâ”‚   â”‚--learn  â”‚              â”‚--learn  â”‚              â”‚--learn  â”‚             â”‚\nâ”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜             â”‚\nâ”‚        â”‚                        â”‚                        â”‚                  â”‚\nâ”‚        â–¼                        â–¼                        â–¼                  â”‚\nâ”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚\nâ”‚   â”‚                .claude/cache/learnings/                      â”‚           â”‚\nâ”‚   â”‚  â”œâ”€â”€ 2025-12-24_session-1.md  (What Worked, What Failed)    â”‚           â”‚\nâ”‚   â”‚  â”œâ”€â”€ 2025-12-24_session-2.md  (Key Decisions, Patterns)     â”‚           â”‚\nâ”‚   â”‚  â””â”€â”€ 2025-12-25_session-3.md                                â”‚           â”‚\nâ”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚\nâ”‚                              â”‚                                              â”‚\nâ”‚                              â–¼                                              â”‚\nâ”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚\nâ”‚                     â”‚  SessionStart   â”‚                                     â”‚\nâ”‚                     â”‚  (next session) â”‚                                     â”‚\nâ”‚                     â”‚                 â”‚                                     â”‚\nâ”‚                     â”‚ Surfaces recent â”‚                                     â”‚\nâ”‚                     â”‚ learnings (48h) â”‚                                     â”‚\nâ”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚\nâ”‚                                                                             â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\n\n                    HANDOFF â†” TRACE CORRELATION\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                                                                             â”‚\nâ”‚   Handoff File (thoughts/shared/handoffs/session/task-01.md)               â”‚\nâ”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚\nâ”‚   â”‚ ---                                                         â”‚           â”‚\nâ”‚   â”‚ root_span_id: abc-123-main  â—„â”€â”€â”€â”€ Links to Braintrust traceâ”‚           â”‚\nâ”‚   â”‚ turn_span_id: def-456-turn  â—„â”€â”€â”€â”€ Span that created it     â”‚           â”‚\nâ”‚   â”‚ session_id: abc-123-main                                    â”‚           â”‚\nâ”‚   â”‚ ---                                                         â”‚           â”‚\nâ”‚   â”‚ # Task: Implement feature X                                 â”‚           â”‚\nâ”‚   â”‚ ...                                                         â”‚           â”‚\nâ”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚\nâ”‚                              â”‚                                              â”‚\nâ”‚                              â”‚ Query by span_id                             â”‚\nâ”‚                              â–¼                                              â”‚\nâ”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚\nâ”‚   â”‚                    Braintrust Trace                         â”‚           â”‚\nâ”‚   â”‚  - See exact tool calls that produced the handoff           â”‚           â”‚\nâ”‚   â”‚  - Review token usage and timing                            â”‚           â”‚\nâ”‚   â”‚  - Debug what went wrong in failed sessions                 â”‚           â”‚\nâ”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚\nâ”‚                                                                             â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n### Built on braintrust-claude-plugin\n\nThis kit extends the [official Braintrust Claude plugin](https://github.com/braintrustdata/braintrust-claude-plugin), which provides a single `stop_hook.sh` for basic session tracing. We've enhanced it with:\n\n| Original Plugin | Our Enhancements |\n|-----------------|------------------|\n| `stop_hook.sh` only | Full hook suite (6 hooks) |\n| Basic session logging | Hierarchical span structure |\n| No learning extraction | Auto-extracts learnings at session end |\n| No cross-session memory | Surfaces learnings at session start |\n| No handoff correlation | Links handoffs to trace IDs |\n\n**Our additions:**\n\n| Hook | Purpose |\n|------|---------|\n| `common.sh` | Shared utilities (UUID, timestamps, state management) |\n| `session_start.sh` | Creates root span for the session |\n| `user_prompt_submit.sh` | Creates turn spans, reconciles interrupted sessions |\n| `post_tool_use.sh` | Logs tool spans with input/output |\n| `stop_hook.sh` | Enhanced - creates LLM spans with full conversation context |\n| `session_end.sh` | Triggers `braintrust_analyze.py --learn` for auto-learning |\n\n**Key improvements:**\n\n1. **Hierarchical tracing** - Session â†’ Turn â†’ Tool/LLM spans (not flat logs)\n2. **Cross-session learning** - Extracts patterns from past sessions\n3. **Artifact correlation** - Handoffs linked to traces via `root_span_id`\n4. **Multi-project support** - Each project gets its own trace namespace\n5. **Fix for large content** - Uses temp files to avoid shell argument limits\n\n### Enabling Braintrust\n\n1. **Get API key** from [braintrust.dev](https://braintrust.dev)\n\n2. **Add to environment:**\n   ```bash\n   echo 'BRAINTRUST_API_KEY=\"sk-...\"' >> ~/.claude/.env\n   ```\n\n3. **Hooks are pre-configured** - The plugin is bundled in `.claude/plugins/braintrust-tracing/`\n\n### How It Works\n\n| Hook | What It Does |\n|------|--------------|\n| **SessionStart** | Creates root span for the session trace |\n| **UserPromptSubmit** | Creates turn span, reconciles interrupted turns |\n| **PostToolUse** | Logs tool spans with input/output |\n| **Stop** | Finalizes current turn span |\n| **SessionEnd** | Closes session trace, triggers `--learn` |\n\n### The Learning Loop\n\n```\n1. You work â†’ Braintrust traces every interaction\n2. /clear or exit â†’ SessionEnd triggers braintrust_analyze.py --learn\n3. LLM extracts: What Worked, What Failed, Key Decisions, Patterns\n4. Saves to: .claude/cache/learnings/<date>_<session_id>.md\n5. Next session â†’ SessionStart surfaces learnings from last 48h\n```\n\n### Artifact Index + Braintrust\n\nHandoffs are automatically linked to Braintrust traces:\n\n```yaml\n# Handoff frontmatter (auto-injected by PostToolUse hook)\nroot_span_id: abc-123-main    # Braintrust trace ID\nturn_span_id: def-456-turn    # Span that created this handoff\nsession_id: abc-123-main      # Claude session ID\n```\n\nThis enables:\n- **Trace â†’ Handoff** correlation (what work produced this handoff?)\n- **Session family queries** (all handoffs from session X)\n- **RAG-enhanced judging** (Artifact Index precedent for plan validation)\n\n### Disabling Braintrust\n\nRemove or comment out the Braintrust hooks in `.claude/settings.json`:\n```json\n{\n  \"hooks\": {\n    \"SessionStart\": [\n      // Comment out the braintrust-tracing hooks\n    ]\n  }\n}\n```\n\n### Scripts\n\n| Script | Purpose |\n|--------|---------|\n| `braintrust_analyze.py --sessions N` | List recent sessions |\n| `braintrust_analyze.py --replay <id>` | View session trace |\n| `braintrust_analyze.py --learn` | Extract learnings from last session |\n| `braintrust_analyze.py --learn --session-id <id>` | Learn from specific session |\n\n### Compound Learnings\n\nAfter several sessions, you accumulate learnings in `.claude/cache/learnings/`. Run the `/compound-learnings` skill to transform these into permanent rules:\n\n```\n\"compound my learnings\"\nâ†’ Analyzes .claude/cache/learnings/*.md\nâ†’ Identifies recurring patterns\nâ†’ Creates new rules in .claude/rules/\nâ†’ Archives processed learnings\n```\n\nThis closes the loop: **sessions â†’ learnings â†’ rules â†’ better sessions**.\n\n---\n\n## Artifact Index\n\nA local SQLite database that indexes handoffs and plans for fast search.\n\n### What It Does\n\n- **Indexes handoffs** with full-text search (FTS5)\n- **Tracks session outcomes** (SUCCEEDED, PARTIAL, FAILED)\n- **Links to Braintrust traces** for correlation\n- **Surfaces unmarked handoffs** at session start\n\n### How It Works\n\n```\n1. Create handoff â†’ PostToolUse hook indexes it immediately\n2. Session ends â†’ Prompts you to mark outcome\n3. Next session â†’ SessionStart surfaces unmarked handoffs\n4. Mark outcomes â†’ Improves future session recommendations\n```\n\n### Marking Outcomes\n\nAfter completing work, mark the outcome:\n\n```bash\n# List unmarked handoffs\nuv run python scripts/artifact_query.py --unmarked\n\n# Mark an outcome\nuv run python scripts/artifact_mark.py \\\n  --handoff abc123 \\\n  --outcome SUCCEEDED\n```\n\n**Outcomes:** SUCCEEDED | PARTIAL_PLUS | PARTIAL_MINUS | FAILED\n\n### Querying the Index\n\n```bash\n# Search handoffs by content\nuv run python scripts/artifact_query.py --search \"authentication bug\"\n\n# Get session history\nuv run python scripts/artifact_query.py --session open-source-release\n```\n\n---\n\n## TDD Workflow\n\nWhen you say \"implement\", \"add feature\", or \"fix bug\", TDD activates:\n\n```\n1. RED    - Write failing test first\n2. GREEN  - Minimal code to pass\n3. REFACTOR - Clean up, tests stay green\n```\n\n**The rule:** No production code without a failing test.\n\nIf you write code first, the skill prompts you to delete it and start with a test.\n\n---\n\n## Code Quality (qlty)\n\nInstall qlty:\n```bash\ncurl -fsSL https://qlty.sh/install.sh | bash\nqlty init\n```\n\nUse it:\n```\n\"lint my code\"\n\"check code quality\"\n\"auto-fix issues\"\n```\n\nOr directly:\n```bash\nqlty check --fix\nqlty fmt\nqlty metrics\n```\n\n---\n\n## Directory Structure\n\n```\n.claude/\nâ”œâ”€â”€ skills/          # Skill definitions (SKILL.md)\nâ”œâ”€â”€ hooks/           # Session lifecycle (TypeScript)\nâ”œâ”€â”€ agents/          # Agent configurations\nâ”œâ”€â”€ rules/           # Behavioral rules\nâ””â”€â”€ settings.json    # Hook registrations\n\nscripts/             # MCP workflow scripts\nservers/             # Generated tool wrappers (gitignored)\nthoughts/            # Research, plans, handoffs (gitignored)\nsrc/runtime/         # MCP execution runtime\n```\n\n---\n\n## Environment Variables\n\nAdd to `.env`:\n\n```bash\n# Required for paid services\nGITHUB_PERSONAL_ACCESS_TOKEN=\"ghp_...\"\nPERPLEXITY_API_KEY=\"pplx-...\"\nFIRECRAWL_API_KEY=\"fc-...\"\nMORPH_API_KEY=\"sk-...\"\nNIA_API_KEY=\"nk_...\"\n```\n\nServices without API keys still work:\n- `git` - local git operations\n- `ast-grep` - structural code search\n- `qlty` - code quality (after install)\n\nLicense-based (no API key, requires purchase):\n- `repoprompt` - codebase maps (Free tier: basic features; Pro: MCP tools, CodeMaps)\n\n---\n\n## Glossary\n\n| Term | Definition |\n|------|------------|\n| Session | A single Claude Code conversation (from start to /clear or exit) |\n| Ledger | In-session state file (`CONTINUITY_CLAUDE-*.md`) that survives /clear |\n| Handoff | End-of-session document for transferring work to a new session |\n| Outcome | Session result marker: SUCCEEDED, PARTIAL_PLUS, PARTIAL_MINUS, FAILED |\n| Span | Braintrust trace unit - a turn or tool call within a session |\n| Artifact Index | SQLite database indexing handoffs, plans, and ledgers for RAG queries |\n\n---\n\n## Troubleshooting\n\n**\"MCP server not configured\"**\n- Check `mcp_config.json` exists\n- Run `uv run mcp-generate`\n- Verify `.env` has required keys\n\n**Skills not working**\n- Run via harness: `uv run python -m runtime.harness scripts/...`\n- Not directly: `python scripts/...`\n\n**Ledger not loading**\n- Check `CONTINUITY_CLAUDE-*.md` exists\n- Verify hooks are registered in `.claude/settings.json`\n- Make hooks executable: `chmod +x .claude/hooks/*.sh`\n\n---\n\n## Acknowledgments\n\n### Patterns & Architecture\n- **[@numman-ali](https://github.com/numman-ali)** - Continuity ledger pattern\n- **[Anthropic](https://anthropic.com)** - [Code Execution with MCP](https://www.anthropic.com/engineering/code-execution-with-mcp)\n- **[obra/superpowers](https://github.com/obra/superpowers)** - Agent orchestration patterns\n- **[EveryInc/compound-engineering-plugin](https://github.com/EveryInc/compound-engineering-plugin)** - Compound engineering workflow\n- **[yoloshii/mcp-code-execution-enhanced](https://github.com/yoloshii/mcp-code-execution-enhanced)** - Enhanced MCP execution\n- **[HumanLayer](https://github.com/humanlayer/humanlayer)** - Agent patterns\n\n### Tools & Services\n- **[Braintrust](https://braintrust.dev)** - LLM evaluation, logging, and session tracing\n- **[qlty](https://github.com/qltysh/qlty)** - Universal code quality CLI (70+ linters)\n- **[ast-grep](https://github.com/ast-grep/ast-grep)** - AST-based code search and refactoring\n- **[Nia](https://trynia.ai)** - Library documentation search\n- **[Morph](https://www.morphllm.com)** - WarpGrep fast code search\n- **[Firecrawl](https://www.firecrawl.dev)** - Web scraping API\n- **[RepoPrompt](https://repoprompt.com)** - Token-efficient codebase maps (Pro license for MCP tools)\n\n---\n\n## License\n\nMIT License - see [LICENSE](LICENSE) for details.\n",
  "installCommand": "git clone https://github.com/parcadei/Continuous-Claude ~/.claude/skills/continuous",
  "defaultBranch": "main",
  "hasMarketplaceJson": false,
  "skillPath": "README.md"
}