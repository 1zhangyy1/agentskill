{
  "id": "b13d8ce9896ec0b9",
  "slug": "craftdesk",
  "name": "Craftdesk",
  "description": "Package manager for Claude Code skills and agents and other AI related resources",
  "author": "mensfeld",
  "authorAvatar": "https://avatars.githubusercontent.com/u/392754?v=4",
  "repoUrl": "https://github.com/mensfeld/craftdesk",
  "repoFullName": "mensfeld/craftdesk",
  "stars": 27,
  "forks": 1,
  "category": "ai-ml",
  "categories": [
    "ai-ml"
  ],
  "tags": [
    "agents",
    "anthropic",
    "claude",
    "claude-code",
    "claude-skills",
    "cli",
    "dependencies",
    "developer-tools",
    "javascript",
    "llm",
    "package-manager",
    "skills",
    "typescript"
  ],
  "tier": 2,
  "status": "active",
  "createdAt": "2025-11-18T16:09:18Z",
  "updatedAt": "2025-12-11T08:45:15Z",
  "lastCommitAt": "2025-12-11T08:45:12Z",
  "source": "github-topic",
  "collectedAt": "2025-12-11T08:55:29.319Z",
  "authorUrl": "https://github.com/mensfeld",
  "license": null,
  "readme": "# CraftDesk CLI\n\n> **Dependency management for AI capabilities** - Install, manage, and version control your Claude Code skills, agents, commands, hooks, and plugins.\n\nThe command-line interface for managing your Coding AI capabilities. Similar to npm for JavaScript or bundler for Ruby, CraftDesk CLI provides a complete package management solution for AI-powered development tools.\n\n[![npm version](https://img.shields.io/npm/v/craftdesk.svg)](https://www.npmjs.com/package/craftdesk)\n[![CI](https://github.com/mensfeld/craftdesk/actions/workflows/ci.yml/badge.svg)](https://github.com/mensfeld/craftdesk/actions/workflows/ci.yml)\n[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)\n\n---\n\n## What is CraftDesk?\n\nCraftDesk is a package manager for AI capabilities used in Claude Code and other AI development environments. It allows you to:\n\n- **Install AI skills, agents, commands, hooks, and plugins** from git repositories or registries\n- **Plugin system** - Bundle multiple crafts with automatic dependency resolution\n- **Lock versions** for reproducible environments across teams\n- **Manage dependencies** with automatic recursive installation\n- **Support monorepos** with subdirectory extraction\n- **Auto-convert GitHub URLs** - paste any GitHub URL (tree/blob)\n- **Direct file references** - install single files from repositories\n- **Settings integration** - Automatic registration in `.claude/settings.json`\n- **MCP server support** - Configure Model Context Protocol servers via plugins\n\nThink of it as:\n- **npm** for Node.js â†’ **CraftDesk** for AI capabilities\n- **Bundler** for Ruby â†’ **CraftDesk** for Claude tools\n- **Cargo** for Rust â†’ **CraftDesk** for AI agents\n\n> **Note:** A self-hosted registry server is currently under development and will be available soon, enabling private registries and centralized craft distribution.\n\n---\n\n## Quick Start\n\n### Install CraftDesk\n\n```bash\nnpm install -g craftdesk\n```\n\nVerify installation:\n```bash\ncraftdesk --version\n# 0.3.0\n```\n\n**Requirements:** Node.js >= 18.0.0, Git, npm or yarn\n\n### 1. Initialize a New Project\n\n```bash\nmkdir my-ai-project\ncd my-ai-project\ncraftdesk init\n```\n\nThis creates a `craftdesk.json` file:\n```json\n{\n  \"name\": \"my-ai-project\",\n  \"version\": \"1.0.0\",\n  \"type\": \"skill\",\n  \"dependencies\": {}\n}\n```\n\n### 2. Add Dependencies\n\n```bash\n# Add a single skill file from GitHub (auto-converts web URLs)\ncraftdesk add https://github.com/aviflombaum/rspec-rails-agents/blob/main/rspec-dry-agent.md\n\n# Add from git repository\ncraftdesk add git+https://github.com/aviflombaum/rspec-rails-agents.git\n\n# Add from monorepo subdirectory\ncraftdesk add https://github.com/technicalpickles/pickled-claude-plugins/tree/main/plugins/working-in-monorepos/skills/working-in-monorepos\n\n# Add with explicit type\ncraftdesk add https://github.com/aviflombaum/rspec-rails-agents/blob/main/rspec-dry-agent.md --type agent\n```\n\n### 3. Install Everything\n\n```bash\ncraftdesk install\n```\n\nThis installs all dependencies to `.claude/` directory and creates `craftdesk.lock`.\n\n### 4. View Installed Crafts\n\n```bash\ncraftdesk list\n```\n\nOutput:\n```\nmy-ai-project@1.0.0\n\nInstalled crafts:\n  â€¢ my-skill@main (skill)\n  â€¢ custom-agent@main (agent)\n\nTotal: 2 crafts installed\n```\n\n---\n\n## Table of Contents\n\n- [What is CraftDesk?](#what-is-craftdesk)\n- [Quick Start](#quick-start)\n- [Core Concepts](#core-concepts)\n- [Plugin System](#plugin-system)\n- [Command Reference](#command-reference)\n  - [init](#craftdesk-init-options)\n  - [install](#craftdesk-install-options)\n  - [add](#craftdesk-add-craft-options)\n  - [remove](#craftdesk-remove-craft)\n  - [list](#craftdesk-list-options)\n  - [search](#craftdesk-search-query-options)\n  - [info](#craftdesk-info-craft)\n  - [outdated](#craftdesk-outdated)\n  - [update](#craftdesk-update-craft)\n  - [publish](#craftdesk-publish-options)\n- [Authentication](#authentication)\n  - [login](#craftdesk-login-options)\n  - [logout](#craftdesk-logout-options)\n  - [whoami](#craftdesk-whoami-options)\n- [Dependency Sources](#dependency-sources)\n- [Monorepo Support](#monorepo-support)\n- [craftdesk.json Reference](#craftdeskjson-reference)\n- [craftdesk.lock](#craftdesklock)\n- [CI/CD Integration](#cicd-integration)\n- [Troubleshooting](#troubleshooting)\n- [Development](#development)\n- [Documentation](#documentation)\n\n---\n\n## Core Concepts\n\n### Crafts\n\nA **craft** is any AI capability:\n- **Skill** - Knowledge domain (e.g., ruby-on-rails, postgres-expert)\n- **Agent** - Autonomous task executor (e.g., code-reviewer, test-runner)\n- **Command** - Slash command (e.g., /deploy, /analyze)\n- **Hook** - Event handler (e.g., pre-commit, post-install)\n- **Plugin** - Bundle of multiple crafts with dependencies and MCP server configuration\n\n### Manifest File: craftdesk.json\n\nDeclares your project's dependencies:\n```json\n{\n  \"name\": \"my-project\",\n  \"version\": \"1.0.0\",\n  \"dependencies\": {\n    \"my-skill\": {\n      \"git\": \"https://github.com/user/skill.git\",\n      \"branch\": \"main\"\n    }\n  }\n}\n```\n\n### Lockfile: craftdesk.lock\n\nRecords exact versions installed (like package-lock.json or Gemfile.lock):\n```json\n{\n  \"version\": \"1.0.0\",\n  \"lockfileVersion\": 1,\n  \"crafts\": {\n    \"my-skill\": {\n      \"version\": \"main\",\n      \"resolved\": \"https://github.com/user/skill.git\",\n      \"integrity\": \"a1b2c3d4e5f6...\",\n      \"type\": \"skill\",\n      \"git\": \"https://github.com/user/skill.git\",\n      \"branch\": \"main\",\n      \"commit\": \"a1b2c3d4e5f6789012345678901234567890abcd\"\n    }\n  }\n}\n```\n\n**Always commit this file to version control!**\n\n### Security: Checksum Verification\n\nCraftDesk automatically verifies the integrity of downloaded packages:\n\n- **Registry packages**: SHA-256 checksums are computed when you first add a craft and stored in `craftdesk.lock`\n- **Subsequent installs**: The downloaded file is verified against the stored checksum before extraction\n- **MITM protection**: Prevents tampering during download by detecting any modifications\n- **Git packages**: Git commit hashes serve as checksums - stored in the lockfile and verified during clone\n\n**What happens on checksum mismatch:**\n```\nError: Checksum verification failed for john/rails-api@2.1.0.\nExpected: a1b2c3d4e5f6...\nThis may indicate a corrupted download or a security issue.\nTry running 'craftdesk install --no-lockfile' to re-resolve dependencies.\n```\n\nThe lockfile contains SHA-256 hashes that ensure reproducible and secure installations across all team members.\n\n### Install Directory\n\nBy default, crafts install to `.claude/` in your project:\n```\n.claude/\nâ”œâ”€â”€ settings.json           # Plugin configuration (auto-generated)\nâ”œâ”€â”€ skills/\nâ”‚   â”œâ”€â”€ ruby-on-rails/\nâ”‚   â””â”€â”€ postgres-expert/\nâ”œâ”€â”€ agents/\nâ”‚   â””â”€â”€ code-reviewer/\nâ”œâ”€â”€ commands/\nâ”‚   â””â”€â”€ deploy/\nâ”œâ”€â”€ hooks/\nâ”‚   â””â”€â”€ pre-commit/\nâ””â”€â”€ plugins/                # Flat plugin installation\n    â”œâ”€â”€ company-rails-plugin/\n    â”‚   â”œâ”€â”€ plugin.json\n    â”‚   â”œâ”€â”€ PLUGIN.md\n    â”‚   â””â”€â”€ skills/...\n    â””â”€â”€ my-skill-plugin/    # Wrapped skill\n```\n\n---\n\n## Plugin System\n\n**New in v0.3.0**: CraftDesk now supports a comprehensive plugin system for bundling multiple crafts with automatic dependency management.\n\n### What are Plugins?\n\nPlugins allow you to:\n- **Bundle multiple crafts** (skills, agents, commands, hooks) together\n- **Declare dependencies** that are automatically installed\n- **Configure MCP servers** (Model Context Protocol) for external tools\n- **Share configurations** and related files as a cohesive package\n- **Wrap individual crafts** as plugins for better organization\n\n### Installing Plugins\n\n```bash\n# Install a plugin from registry\ncraftdesk add company/rails-standards-plugin\n\n# What happens automatically:\n# 1. Plugin is installed to .claude/plugins/company-rails-standards-plugin/\n# 2. Dependencies are resolved and auto-installed\n# 3. Plugin is registered in .claude/settings.json\n# 4. MCP server is configured (if provided)\n# 5. Plugin tree is added to craftdesk.lock\n```\n\n**Example Output**:\n```\nAdding company/rails-standards-plugin...\nFound company/rails-standards-plugin@2.1.0\nInstalling company/rails-standards-plugin...\nPlugin detected - resolving dependencies...\nResolved 3 total dependencies\nInstalling plugin dependency: john/rspec-testing...\nâœ“ Resolved john/rspec-testing@1.5.3\nInstalling plugin dependency: jane/postgres-toolkit...\nâœ“ Resolved jane/postgres-toolkit@3.2.1\nâœ“ Installed company/rails-standards-plugin@2.1.0\nCraft added successfully!\n```\n\n### Plugin Structure\n\nA plugin contains a `plugin.json` manifest:\n\n```json\n{\n  \"name\": \"company-rails-plugin\",\n  \"version\": \"2.1.0\",\n  \"type\": \"plugin\",\n  \"description\": \"Rails development standards\",\n  \"author\": \"company\",\n  \"components\": {\n    \"skills\": [\"coding-standards\", \"rails-best-practices\"],\n    \"agents\": [\"standards-enforcer\"],\n    \"commands\": [\"check-standards\"]\n  },\n  \"dependencies\": {\n    \"john/rspec-testing\": \"^1.5.0\",\n    \"jane/postgres-toolkit\": \"^3.2.0\"\n  },\n  \"mcp\": {\n    \"type\": \"stdio\",\n    \"command\": \"/usr/bin/rails-standards-mcp\",\n    \"args\": [\"--config\", \".claude/plugins/company-rails-plugin/config.json\"]\n  }\n}\n```\n\n### Automatic Dependency Resolution\n\nWhen you install a plugin, **all dependencies are automatically installed**:\n\n```bash\n$ craftdesk add company/rails-plugin\n\n# Installs dependency tree:\n# company/rails-plugin (direct)\n#   â”œâ”€â”€ john/rspec-testing (dependency)\n#   â””â”€â”€ jane/postgres-toolkit (dependency)\n#     â””â”€â”€ jane/sql-helpers (nested dependency)\n```\n\nAll dependencies are:\n- âœ… Downloaded from their respective sources (registry/git)\n- âœ… Installed to appropriate directories\n- âœ… Verified with integrity checksums\n- âœ… Marked as dependencies in lockfile\n- âœ… Registered in `.claude/settings.json`\n\n### Wrapping Individual Crafts\n\nConvert any skill, agent, command, or hook into a plugin:\n\n```bash\ncraftdesk add my-skill --as-plugin\n```\n\n**What happens**:\n1. Original craft installed to `.claude/skills/my-skill/`\n2. Plugin wrapper created at `.claude/plugins/my-skill-plugin/`\n3. `plugin.json` and `PLUGIN.md` auto-generated\n4. Craft files copied to plugin structure\n5. Registered in settings as wrapped plugin\n\n**Use cases**:\n- Add MCP server to existing skill\n- Bundle configuration with craft\n- Prepare for publishing to marketplace\n- Enable/disable craft from Claude Code UI\n\n### Plugin Tree Visualization\n\nView your plugin dependency tree:\n\n```bash\n$ craftdesk list\n\nmy-project@1.0.0\n\nğŸ”Œ Plugins:\n  company/rails-standards@2.1.0\n    â”œâ”€â”€ john/rspec-testing@1.5.3\n    â””â”€â”€ jane/postgres-toolkit@3.2.1\n  my-skill-plugin@1.0.0\n\nğŸ“š Skills:\n  standalone-skill@1.0.0\n\nTotal: 5 crafts installed\n```\n\n### Removing Plugins with Dependencies\n\nCraftDesk prevents accidental removal of required dependencies:\n\n```bash\n$ craftdesk remove john/rspec-testing\n\nWarning: john/rspec-testing is required by:\n  - company/rails-standards@2.1.0\n\nUse --force to remove anyway\n```\n\nForce removal:\n```bash\ncraftdesk remove john/rspec-testing --force\n```\n\n### Settings Integration\n\nPlugins are automatically registered in `.claude/settings.json`:\n\n```json\n{\n  \"version\": \"1.0.0\",\n  \"plugins\": {\n    \"company-rails-plugin\": {\n      \"name\": \"company-rails-plugin\",\n      \"version\": \"2.1.0\",\n      \"enabled\": true,\n      \"installPath\": \"plugins/company-rails-plugin\",\n      \"dependencies\": [\"john-rspec-testing\", \"jane-postgres-toolkit\"],\n      \"mcp\": {\n        \"type\": \"stdio\",\n        \"command\": \"/usr/bin/rails-standards-mcp\",\n        \"args\": [\"--config\", \".claude/plugins/company-rails-plugin/config.json\"]\n      }\n    }\n  }\n}\n```\n\n**For complete details**, see [DEPENDENCY_MANAGEMENT.md](./DEPENDENCY_MANAGEMENT.md)\n\n---\n\n## Command Reference\n\n### `craftdesk init [options]`\n\nInitialize a new craftdesk.json file.\n\n**Options:**\n- `-y, --yes` - Skip prompts and use defaults\n- `-n, --name <name>` - Project name (default: directory name)\n- `-v, --version <version>` - Project version (default: \"1.0.0\")\n- `-t, --type <type>` - Project type: skill, agent, command, hook, or plugin (default: \"skill\")\n- `-d, --description <desc>` - Project description\n- `-a, --author <author>` - Author name\n- `-l, --license <license>` - License (default: \"MIT\")\n\n**Examples:**\n```bash\n# Interactive initialization\ncraftdesk init\n\n# Quick init with defaults\ncraftdesk init -y\n\n# Specify options\ncraftdesk init --name my-skill --type skill --author \"Your Name\"\n```\n\n---\n\n### `craftdesk install [options]`\n\nInstall all dependencies from craftdesk.json.\n\n**Options:**\n- `--no-lockfile` - Ignore craftdesk.lock and re-resolve dependencies\n- `--production` - Skip devDependencies\n\n**Examples:**\n```bash\n# Install all dependencies\ncraftdesk install\n\n# Or use the alias\ncraftdesk i\n\n# Production install (skip dev dependencies)\ncraftdesk install --production\n\n# Force re-resolve (ignore lockfile)\ncraftdesk install --no-lockfile\n```\n\n**What it does:**\n1. Reads craftdesk.json\n2. Uses craftdesk.lock if present (ensures reproducibility)\n3. Resolves dependencies (registry + git sources)\n4. Installs to .claude/ directory\n5. Updates/creates craftdesk.lock\n\n---\n\n### `craftdesk add <craft> [options]`\n\nAdd a new dependency and install it immediately.\n\n**Options:**\n- `-D, --save-dev` - Save as devDependency\n- `-O, --save-optional` - Save as optionalDependency\n- `-E, --save-exact` - Save exact version (no ^ or ~)\n- `-t, --type <type>` - Specify craft type (skill, agent, command, hook, plugin)\n\n**Examples:**\n\n```bash\n# GitHub web URLs (auto-converted)\ncraftdesk add https://github.com/user/repo/blob/main/skill.md\ncraftdesk add https://github.com/user/repo/tree/main/skills/auth\n\n# With explicit type\ncraftdesk add https://github.com/user/repo/blob/main/agent.md --type agent\n\n# Git dependencies (manual format)\ncraftdesk add git+https://github.com/user/repo.git\ncraftdesk add git+https://github.com/user/repo.git#develop\ncraftdesk add git+https://github.com/user/repo.git#v2.0.0\n\n# Direct file reference\ncraftdesk add git+https://github.com/user/repo.git#main#file:skill.md\n\n# Subdirectory (monorepo)\ncraftdesk add git+https://github.com/company/monorepo.git#main#path:skills/auth\n```\n\n---\n\n### `craftdesk remove <craft>`\n\nRemove a dependency from craftdesk.json and the filesystem.\n\n**Examples:**\n```bash\ncraftdesk remove my-skill\ncraftdesk remove my-agent\n```\n\n---\n\n### `craftdesk list [options]`\n\nList installed crafts.\n\n**Options:**\n- `--tree` - Show dependency tree\n- `--depth <n>` - Limit tree depth\n- `--json` - Output as JSON\n\n**Examples:**\n```bash\n# Simple list\ncraftdesk list\n\n# Show dependency tree\ncraftdesk list --tree\n\n# Limit tree depth\ncraftdesk list --tree --depth 2\n\n# JSON output (for scripts)\ncraftdesk list --json\n```\n\n**Example output:**\n```\nmy-project@1.0.0\n\nInstalled crafts:\n  â€¢ my-skill@main (skill)\n  â€¢ code-reviewer@v2.0.1 (agent)\n  â€¢ postgres-expert@main (skill)\n\nTotal: 3 crafts installed\n```\n\n---\n\n### `craftdesk search <query> [options]`\n\nSearch for crafts in the registry.\n\n**Options:**\n- `-t, --type <type>` - Filter by type (skill, agent, command, hook, plugin)\n\n**Examples:**\n```bash\n# Search for crafts\ncraftdesk search kafka\n\n# Search for skills only\ncraftdesk search rails --type skill\n\n# Search for plugins\ncraftdesk search standards --type plugin\n```\n\n**Example output:**\n```\nSearch results for \"kafka\":\n\n  john/kafka-processing@2.1.0 (skill)\n    Expert knowledge for processing Kafka messages\n\n  jane/kafka-agent@1.5.3 (agent)\n    Autonomous agent for Kafka stream management\n\nFound 2 crafts\n```\n\n---\n\n### `craftdesk info <craft>`\n\nDisplay detailed information about a craft from the registry.\n\n**Examples:**\n```bash\n# Get info about a craft\ncraftdesk info john/rails-api\n\n# Get info about a specific version\ncraftdesk info john/rails-api@2.1.0\n```\n\n**Example output:**\n```\njohn/rails-api@2.1.0\n\n  Description: Rails API development best practices\n  Type:        skill\n  Author:      john\n  License:     MIT\n  Downloads:   1,234\n\n  Versions:\n    2.1.0 (latest)\n    2.0.0\n    1.5.0\n\n  Dependencies:\n    jane/postgres-toolkit: ^1.0.0\n```\n\n---\n\n### `craftdesk outdated`\n\nCheck for outdated dependencies that have newer versions available.\n\n**Examples:**\n```bash\n# Check all dependencies\ncraftdesk outdated\n```\n\n**Example output:**\n```\nChecking for outdated dependencies...\n\nOutdated crafts:\n\n  john/rails-api\n    Current: 2.0.0\n    Latest:  2.1.0\n    Type:    skill\n\n  jane/postgres-toolkit\n    Current: 1.2.0\n    Latest:  1.5.0\n    Type:    skill\n\n2 outdated crafts found\nRun 'craftdesk update' to update all, or 'craftdesk update <craft>' to update specific crafts.\n```\n\n---\n\n### `craftdesk update [craft]`\n\nUpdate dependencies to their latest compatible versions.\n\n**Examples:**\n```bash\n# Update all outdated dependencies\ncraftdesk update\n\n# Update a specific craft\ncraftdesk update john/rails-api\n```\n\n**What it does:**\n1. Checks for newer versions in the registry\n2. Downloads and installs updates\n3. Updates craftdesk.lock with new versions\n4. Verifies checksums for security\n\n---\n\n### `craftdesk publish [options]`\n\nPublish a craft to the registry.\n\n**Options:**\n- `--visibility <level>` - Set visibility: public, private, or organization (default: public)\n\n**Examples:**\n```bash\n# Publish the current craft\ncraftdesk publish\n\n# Publish as private\ncraftdesk publish --visibility private\n\n# Publish to organization only\ncraftdesk publish --visibility organization\n```\n\n**Prerequisites:**\n- Must be logged in (`craftdesk login`)\n- Must have a valid `craftdesk.json` in current directory\n- Craft files must exist (SKILL.md, AGENT.md, etc.)\n\n**What it does:**\n1. Reads craftdesk.json for metadata\n2. Collects all craft files\n3. Creates a new version on the registry\n4. Publishes with specified visibility\n\n---\n\n## Authentication\n\nCraftDesk supports authenticated access to private registries.\n\n### `craftdesk login [options]`\n\nAuthenticate with a registry using an API token.\n\n**Options:**\n- `-r, --registry <url>` - Registry URL (uses default from craftdesk.json if not specified)\n\n**Examples:**\n```bash\n# Login to default registry\ncraftdesk login\n\n# Login to a specific registry\ncraftdesk login --registry https://private.company.com\n```\n\n**How it works:**\n1. Prompts for your API token\n2. Verifies the token with the registry\n3. Stores credentials in `~/.craftdesk/config.json`\n4. Token is used for subsequent registry operations\n\n**Getting an API token:**\n- Log in to your CraftDesk registry web interface\n- Navigate to Settings â†’ API Tokens\n- Generate a new token\n\n---\n\n### `craftdesk logout [options]`\n\nRemove stored authentication credentials.\n\n**Options:**\n- `-r, --registry <url>` - Registry URL (uses default from craftdesk.json if not specified)\n\n**Examples:**\n```bash\n# Logout from default registry\ncraftdesk logout\n\n# Logout from specific registry\ncraftdesk logout --registry https://private.company.com\n```\n\n---\n\n### `craftdesk whoami [options]`\n\nDisplay the currently logged-in user.\n\n**Options:**\n- `-r, --registry <url>` - Registry URL (uses default from craftdesk.json if not specified)\n\n**Examples:**\n```bash\n# Check current user\ncraftdesk whoami\n\n# Check user for specific registry\ncraftdesk whoami --registry https://private.company.com\n```\n\n**Example output:**\n```\nLogged in to https://craftdesk.ai as john (john@example.com)\nOrganization: acme-corp\n```\n\n---\n\n### Environment Variable Authentication\n\nFor CI/CD environments, you can use environment variables instead of `craftdesk login`:\n\n```bash\n# For a registry named \"company-private\" in craftdesk.json\nexport CRAFTDESK_AUTH_COMPANY_PRIVATE=your_api_token_here\n\n# For the default registry\nexport CRAFTDESK_AUTH_LOCALHOST_3000=your_api_token_here\n\n# The variable name is derived from the registry URL:\n# https://example.com -> CRAFTDESK_AUTH_EXAMPLE_COM\n```\n\nEnvironment variables take precedence over stored credentials.\n\n---\n\n### Global Options\n\nAvailable for all commands:\n\n- `-v, --version` - Output the version number\n- `-d, --debug` - Enable debug output\n- `-h, --help` - Display help\n\n**Examples:**\n```bash\ncraftdesk --version\ncraftdesk --help\ncraftdesk init --help\n```\n\n---\n\n## Dependency Sources\n\nCraftDesk supports both registry and git dependencies.\n\n### 1. Registry Dependencies (CraftDesk Web API)\n\nInstall crafts from the CraftDesk registry using `author/name` format:\n\n```bash\n# Search for crafts\ncraftdesk search kafka\n\n# Get information about a craft\ncraftdesk info john/rails-api\n\n# Add from registry\ncraftdesk add john/rails-api\ncraftdesk add john/rails-api@^2.1.0\n\n# Add with specific version\ncraftdesk add jane/postgres-expert@1.2.0\n```\n\n**Registry format in craftdesk.json:**\n\n```json\n{\n  \"dependencies\": {\n    \"john/rails-api\": \"^2.1.0\",\n    \"jane/kafka-processing\": \"~1.5.2\",\n    \"team/postgres-admin\": \"latest\"\n  },\n  \"registries\": {\n    \"default\": {\n      \"url\": \"http://localhost:3000\"\n    }\n  }\n}\n```\n\n**Important:** You must configure your registry URL in `craftdesk.json` to use registry-based crafts. Git-based dependencies (GitHub URLs) work without any registry configuration.\n\n**Private Registry Authentication:**\n\nFor private registries, set authentication tokens via environment variables:\n\n```bash\n# For a registry named \"company-private\" in craftdesk.json\nexport CRAFTDESK_AUTH_COMPANY_PRIVATE=your_token_here\n\n# For default registry\nexport CRAFTDESK_AUTH_DEFAULT=your_token_here\n```\n\nExample `craftdesk.json` with private registry:\n\n```json\n{\n  \"registries\": {\n    \"default\": {\n      \"url\": \"https://your-registry.com\"\n    },\n    \"company-private\": {\n      \"url\": \"https://private.company.com\",\n      \"scope\": \"@company\"\n    }\n  }\n}\n```\n\n### 2. GitHub URLs (Easiest for Git)\n\nSimply paste any GitHub URL - it auto-converts to the correct format:\n\n```bash\n# Directory in monorepo\ncraftdesk add https://github.com/user/repo/tree/main/skills/auth\n\n# Single file\ncraftdesk add https://github.com/user/repo/blob/main/agent.md\n\n# Entire repository\ncraftdesk add https://github.com/user/repo\n```\n\n### 3. Git Dependencies\n\nFrom git repositories:\n\n```json\n{\n  \"dependencies\": {\n    \"custom-agent\": {\n      \"git\": \"https://github.com/user/agent-repo.git\",\n      \"branch\": \"develop\"\n    },\n    \"stable-skill\": {\n      \"git\": \"https://github.com/org/skills.git\",\n      \"tag\": \"v2.1.0\"\n    },\n    \"specific-commit\": {\n      \"git\": \"https://github.com/user/repo.git\",\n      \"commit\": \"a1b2c3d4\"\n    }\n  }\n}\n```\n\n**Git options:**\n- `git` - Repository URL (required)\n- `branch` - Branch name (default: main/master)\n- `tag` - Git tag\n- `commit` - Specific commit hash\n- `path` - Subdirectory within repo (for monorepos)\n- `file` - Direct file path (for single-file crafts)\n\n---\n\n## Monorepo Support\n\nInstall multiple crafts from the same git repository using subdirectory paths:\n\n```json\n{\n  \"dependencies\": {\n    \"auth-handler\": {\n      \"git\": \"https://github.com/company/ai-crafts-monorepo.git\",\n      \"tag\": \"v3.2.0\",\n      \"path\": \"skills/auth\"\n    },\n    \"data-processor\": {\n      \"git\": \"https://github.com/company/ai-crafts-monorepo.git\",\n      \"tag\": \"v3.2.0\",\n      \"path\": \"agents/processor\"\n    },\n    \"report-generator\": {\n      \"git\": \"https://github.com/company/ai-crafts-monorepo.git\",\n      \"tag\": \"v3.2.0\",\n      \"path\": \"skills/reporting\"\n    }\n  }\n}\n```\n\n**Benefits:**\n- Single git repository for multiple crafts\n- Version them together with git tags\n- Each craft installs independently\n- Efficient cloning (repo cached during resolution)\n\n**Monorepo structure example:**\n```\nai-crafts-monorepo/\nâ”œâ”€â”€ skills/\nâ”‚   â”œâ”€â”€ auth/\nâ”‚   â”‚   â”œâ”€â”€ craftdesk.json\nâ”‚   â”‚   â””â”€â”€ SKILL.md\nâ”‚   â””â”€â”€ reporting/\nâ”‚       â”œâ”€â”€ craftdesk.json\nâ”‚       â””â”€â”€ SKILL.md\nâ”œâ”€â”€ agents/\nâ”‚   â””â”€â”€ processor/\nâ”‚       â”œâ”€â”€ craftdesk.json\nâ”‚       â””â”€â”€ AGENT.md\nâ””â”€â”€ commands/\n    â””â”€â”€ deploy/\n        â”œâ”€â”€ craftdesk.json\n        â””â”€â”€ COMMAND.md\n```\n\n---\n\n## craftdesk.json Reference\n\nComplete specification of the craftdesk.json format:\n\n```json\n{\n  // Required fields\n  \"name\": \"my-project\",\n  \"version\": \"1.0.0\",\n\n  // Optional metadata\n  \"type\": \"skill\",\n  \"description\": \"My awesome AI project\",\n  \"author\": \"Your Name <you@example.com>\",\n  \"license\": \"MIT\",\n  \"homepage\": \"https://example.com\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/user/repo.git\"\n  },\n  \"keywords\": [\"ai\", \"claude\", \"automation\"],\n\n  // Dependencies\n  \"dependencies\": {\n    \"my-skill\": {\n      \"git\": \"https://github.com/user/repo.git\",\n      \"branch\": \"main\"\n    },\n    \"auth-handler\": {\n      \"git\": \"https://github.com/company/monorepo.git\",\n      \"tag\": \"v3.2.0\",\n      \"path\": \"skills/auth\"\n    },\n    \"my-agent\": {\n      \"git\": \"https://github.com/user/agents.git\",\n      \"branch\": \"main\",\n      \"file\": \"agent.md\"\n    }\n  },\n\n  \"devDependencies\": {\n    \"test-runner\": {\n      \"git\": \"https://github.com/org/test-tools.git\",\n      \"branch\": \"main\"\n    }\n  }\n}\n```\n\n### Field Descriptions\n\n| Field | Type | Required | Description |\n|-------|------|----------|-------------|\n| `name` | string | Yes | Craft name (lowercase, no spaces) |\n| `version` | string | Yes | Semantic version (e.g., \"1.0.0\") |\n| `type` | string | No | Craft type: skill, agent, command, hook, plugin |\n| `description` | string | No | Short description |\n| `author` | string | No | Author name and email |\n| `license` | string | No | License identifier (e.g., \"MIT\") |\n| `dependencies` | object | No | Production dependencies |\n| `devDependencies` | object | No | Development dependencies |\n\n---\n\n## craftdesk.lock\n\nThe lockfile ensures reproducible installations across different machines and times.\n\n### What's in the Lockfile?\n\n```json\n{\n  \"version\": \"1.0.0\",\n  \"lockfileVersion\": 1,\n  \"generatedAt\": \"2025-11-18T10:30:00.000Z\",\n  \"crafts\": {\n    \"my-skill\": {\n      \"version\": \"main\",\n      \"resolved\": \"https://github.com/user/skill.git\",\n      \"integrity\": \"a1b2c3d4e5f6789012345678901234567890abcd\",\n      \"type\": \"skill\",\n      \"author\": \"git\",\n      \"git\": \"https://github.com/user/skill.git\",\n      \"branch\": \"main\",\n      \"commit\": \"a1b2c3d4e5f6789012345678901234567890abcd\",\n      \"dependencies\": {}\n    },\n    \"custom-agent\": {\n      \"version\": \"v2.0.0\",\n      \"resolved\": \"https://github.com/user/agent.git\",\n      \"integrity\": \"b2c3d4e5f6789012345678901234567890abcdef\",\n      \"type\": \"agent\",\n      \"git\": \"https://github.com/user/agent.git\",\n      \"tag\": \"v2.0.0\",\n      \"commit\": \"b2c3d4e5f6789012345678901234567890abcdef\",\n      \"dependencies\": {}\n    }\n  }\n}\n```\n\n### Best Practices\n\nâœ… **DO:**\n- Commit craftdesk.lock to version control\n- Let the CLI manage it (don't edit manually)\n- Use it for reproducible builds in CI/CD\n\nâŒ **DON'T:**\n- Ignore craftdesk.lock in .gitignore\n- Edit it manually\n- Delete it without `--no-lockfile` flag\n\n---\n\n## CI/CD Integration\n\n### GitHub Actions\n\n```yaml\nname: Deploy\non: [push]\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n\n      - name: Setup Node.js\n        uses: actions/setup-node@v3\n        with:\n          node-version: '18'\n\n      - name: Install CraftDesk CLI\n        run: npm install -g craftdesk\n\n      - name: Install AI capabilities\n        run: craftdesk install --production\n\n      - name: Deploy\n        run: ./deploy.sh\n```\n\n### GitLab CI\n\n```yaml\ndeploy:\n  image: node:18\n  script:\n    - npm install -g craftdesk\n    - craftdesk install --production\n    - ./deploy.sh\n  only:\n    - main\n```\n\n### Docker\n\n```dockerfile\nFROM node:18\n\n# Install CraftDesk CLI\nRUN npm install -g craftdesk\n\n# Copy project files\nWORKDIR /app\nCOPY craftdesk.json craftdesk.lock ./\n\n# Install AI capabilities\nRUN craftdesk install --production\n\n# Copy rest of application\nCOPY . .\n\nCMD [\"node\", \"app.js\"]\n```\n\n---\n\n## Troubleshooting\n\n### Common Issues\n\n#### `No craftdesk.json found`\n\nMake sure you're in a directory with a craftdesk.json file, or run `craftdesk init` first.\n\n#### `Failed to resolve dependencies`\n\n- Check internet connection\n- Verify git repository URLs are accessible\n- For private repos, ensure SSH keys or access tokens are configured\n- Try `craftdesk install --no-lockfile` to re-resolve\n\n#### `Git clone failed`\n\n- Verify git is installed: `git --version`\n- Check git repository URL is accessible\n- For private repos, ensure SSH keys or tokens are configured\n\n#### `Permission denied`\n\n- For global install: `sudo npm install -g craftdesk`\n- Or use npx: `npx craftdesk install`\n\n#### `Dependency conflicts`\n\nCurrently uses last-write-wins. Future versions will have interactive conflict resolution.\n\n### Debug Mode\n\nEnable verbose logging:\n\n```bash\ncraftdesk --debug install\n```\n\n### Getting Help\n\n```bash\n# General help\ncraftdesk --help\n\n# Command-specific help\ncraftdesk init --help\ncraftdesk add --help\ncraftdesk install --help\n```\n\n---\n\n## Development\n\n### Building from Source\n\n```bash\ngit clone https://github.com/mensfeld/craftdesk.git\ncd craftdesk\nnpm install\nnpm run build\nnpm link\n```\n\n### Project Structure\n\n```\ncraftdesk/\nâ”œâ”€â”€ src/\nâ”‚   â”œâ”€â”€ commands/       # CLI commands\nâ”‚   â”œâ”€â”€ services/       # Core services\nâ”‚   â”œâ”€â”€ types/          # TypeScript types\nâ”‚   â””â”€â”€ utils/          # Utilities\nâ”œâ”€â”€ dist/               # Compiled JavaScript\nâ”œâ”€â”€ bin/                # Executable entry point\nâ”œâ”€â”€ examples/           # Example craftdesk.json files\nâ””â”€â”€ docs/               # Documentation\n```\n\n### Running Tests\n\n```bash\nnpm test\n```\n\n### Publishing\n\n```bash\nnpm version patch\nnpm publish\n```\n\n---\n\n## Documentation\n\n### Core Documentation\n- **[README.md](./README.md)** - This file, general overview and quick start\n- **[DEPENDENCY_MANAGEMENT.md](./DEPENDENCY_MANAGEMENT.md)** - Complete guide to dependency management\n- **[PLUGIN_IMPLEMENTATION_COMPLETE.md](./PLUGIN_IMPLEMENTATION_COMPLETE.md)** - Plugin system implementation details\n\n### Additional Resources\n- **[Package.json](./package.json)** - Project metadata and scripts\n- **[TypeScript Source](./src/)** - Full source code\n\n---\n\n## License\n\nMIT\n\n---\n\n## Links\n\n- **Repository**: [https://github.com/mensfeld/craftdesk](https://github.com/mensfeld/craftdesk)\n- **Issues**: [https://github.com/mensfeld/craftdesk/issues](https://github.com/mensfeld/craftdesk/issues)\n- **Registry**: Self-hosted registry server available at [CraftDesk Web](../web)\n\n---\n\n## Roadmap\n\n### Completed (v0.3.0)\n- âœ… Git dependency support\n- âœ… GitHub URL auto-conversion\n- âœ… Direct file references\n- âœ… Monorepo support\n- âœ… Lockfile-based version control\n- âœ… Self-hosted registry server support\n- âœ… ZIP archive extraction for registry crafts\n- âœ… **Plugin system** with dependency management\n- âœ… **Auto-install plugin dependencies** (recursive)\n- âœ… **Settings integration** (.claude/settings.json)\n- âœ… **MCP server configuration** via plugins\n- âœ… **Craft wrapping** (--as-plugin flag)\n- âœ… **Plugin tree visualization**\n- âœ… **Dependency removal protection**\n- âœ… SHA-256 checksum verification (MITM protection)\n- âœ… Registry search and info commands\n- âœ… `craftdesk publish` command\n- âœ… `craftdesk outdated` command\n- âœ… `craftdesk update` command\n- âœ… **Authentication system** (login/logout/whoami)\n- âœ… **Private registry authentication** (token-based)\n- âœ… **Environment variable auth** (CI/CD support)\n- âœ… Semantic versioning for registry packages\n\n### Planned\n- ğŸ”² Plugin marketplace/directory\n- ğŸ”² `craftdesk validate <plugin>` command\n- ğŸ”² Multiple dependency versions support\n- ğŸ”² Peer dependency warnings\n- ğŸ”² Persistent download cache\n- ğŸ”² Offline installation mode\n- ğŸ”² Interactive dependency conflict resolution\n\n---\n\nMade for the AI development community\n",
  "installCommand": "git clone https://github.com/mensfeld/craftdesk ~/.claude/skills/craftdesk",
  "defaultBranch": "master",
  "hasMarketplaceJson": false,
  "skillPath": "README.md"
}