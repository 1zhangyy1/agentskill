{
  "id": "7f87266601c30568",
  "slug": "kosmos",
  "name": "Kosmos",
  "description": "Kosmos: An AI Scientist for Autonomous Discovery - An implementation and adaptation to be driven by Claude Code or API - Based on the Kosmos AI Paper -  https://arxiv.org/abs/2511.02824",
  "author": "jimmc414",
  "authorAvatar": "https://avatars.githubusercontent.com/u/6346529?v=4",
  "repoUrl": "https://github.com/jimmc414/Kosmos",
  "repoFullName": "jimmc414/Kosmos",
  "stars": 310,
  "forks": 62,
  "category": "devops",
  "categories": [
    "devops"
  ],
  "tags": [],
  "tier": 1,
  "status": "active",
  "createdAt": "2025-11-07T08:14:30Z",
  "updatedAt": "2025-12-15T19:59:45Z",
  "lastCommitAt": "2025-12-12T17:29:44Z",
  "source": "github-search",
  "collectedAt": "2025-12-16T03:41:54.584Z",
  "authorUrl": "https://github.com/jimmc414",
  "license": null,
  "readme": "# Kosmos\n\nAn autonomous AI scientist for scientific discovery, implementing the architecture described in [Lu et al. (2024)](https://arxiv.org/abs/2511.02824).\n\n[![Version](https://img.shields.io/badge/version-0.2.0--alpha-blue.svg)](https://github.com/jimmc414/Kosmos)\n[![Status](https://img.shields.io/badge/status-alpha-orange.svg)](https://github.com/jimmc414/Kosmos)\n[![Implementation](https://img.shields.io/badge/paper_gaps-17%2F17%20complete-green.svg)](archive/PAPER_IMPLEMENTATION_GAPS.md)\n[![Tests](https://img.shields.io/badge/tests-3704%20passing-green.svg)](archive/120625_code_review.md)\n\n## What is Kosmos?\n\nKosmos is an open-source implementation of an autonomous AI scientist that can:\n\n- **Generate hypotheses** from literature and data analysis\n- **Design experiments** to test those hypotheses\n- **Execute code** in sandboxed Docker containers\n- **Validate discoveries** using an 8-dimension quality framework\n- **Build knowledge graphs** to track relationships between concepts\n\nThe system runs autonomous research cycles, generating tasks, executing analyses, and synthesizing findings into validated discoveries.\n\n## Quick Start\n\n### Requirements\n\n- Python 3.11+\n- Anthropic API key or OpenAI API key\n- Docker (recommended for code execution)\n\nWithout Docker, code runs via `exec()` with static validation. See \"Code Execution Security\" below.\n\n### Installation\n\n```bash\ngit clone https://github.com/jimmc414/Kosmos.git\ncd Kosmos\npip install -e .\ncp .env.example .env\n# Edit .env and set ANTHROPIC_API_KEY or OPENAI_API_KEY\n```\n\n### Verify Installation\n\n```bash\n# Run smoke tests\npython scripts/smoke_test.py\n\n# Run unit tests\npytest tests/unit/ -v --tb=short\n```\n\n### Run Research Workflow\n\n```python\nimport asyncio\nfrom kosmos.workflow.research_loop import ResearchWorkflow\n\nasync def run():\n    workflow = ResearchWorkflow(\n        research_objective=\"Your research question here\",\n        artifacts_dir=\"./artifacts\"\n    )\n    result = await workflow.run(num_cycles=5, tasks_per_cycle=10)\n    report = await workflow.generate_report()\n    print(report)\n\nasyncio.run(run())\n```\n\n### CLI Usage\n\n```bash\n# Run research with default settings\nkosmos run \"What metabolic pathways differ between cancer and normal cells?\" --domain biology\n\n# With budget limit\nkosmos run \"How do perovskites optimize efficiency?\" --domain materials --budget 50\n\n# Interactive mode (recommended for first time)\nkosmos run --interactive\n\n# Maximum verbosity\nkosmos run \"Your question\" --domain biology --trace\n\n# Real-time streaming display\nkosmos run \"Your question\" --stream\n\n# Streaming with token display disabled\nkosmos run \"Your question\" --stream --no-stream-tokens\n\n# Show system information\nkosmos info\n\n# Run diagnostics\nkosmos doctor\n```\n\n## Features\n\n### Core Capabilities\n\n| Feature | Description | Status |\n|---------|-------------|--------|\n| Research Loop | Multi-cycle autonomous research with hypothesis generation | Complete |\n| Literature Search | ArXiv, PubMed, Semantic Scholar integration | Complete |\n| Code Execution | Docker-sandboxed Jupyter notebooks | Complete |\n| Knowledge Graph | Neo4j-based relationship storage (optional) | Complete |\n| Context Compression | Query-based hierarchical compression (20:1 ratio) | Complete |\n| Discovery Validation | 8-dimension ScholarEval quality framework | Complete |\n| Multi-Provider LLM | Anthropic, OpenAI, LiteLLM (100+ providers) | Complete |\n| Budget Enforcement | Cost tracking with configurable limits and enforcement | Complete |\n| Error Recovery | Exponential backoff with circuit breaker | Complete |\n| Debug Mode | 4-level verbosity with stage tracking | Complete |\n| Real-time Streaming | SSE/WebSocket events, CLI --stream flag | Complete |\n\n### Code Execution Security\n\nAI-generated code runs in isolated Docker containers:\n\n| Layer | Implementation |\n|-------|---------------|\n| Container Isolation | `--cap-drop=ALL`, no privileged access |\n| Network | Disabled (`--network=none`) |\n| Filesystem | Read-only root, tmpfs for scratch |\n| Resources | CPU: 2 cores, Memory: 2GB, Timeout: 300s |\n| Pooling | Pre-warmed containers reduce cold start |\n\nSee: `kosmos/execution/sandbox.py`, `docker_manager.py`\n\nWithout Docker, falls back to `CodeValidator` static analysis + `exec()`. Not recommended for untrusted inputs.\n\n### Agent Architecture\n\n| Agent | Role |\n|-------|------|\n| Research Director | Master orchestrator coordinating all agents |\n| Hypothesis Generator | Generates testable hypotheses from literature |\n| Experiment Designer | Creates experimental protocols |\n| Data Analyst | Analyzes results and interprets findings |\n| Literature Analyzer | Searches and synthesizes papers |\n| Plan Creator/Reviewer | Strategic task generation with 70/30 exploration/exploitation |\n\n### How Context Compression Works\n\nThe system processes literature in batches, not bulk:\n\n1. **Relevance Sorting**: Papers ranked by query relevance before processing\n2. **Batch Size**: Top 10 papers per batch\n3. **Statistics Extraction**: Regex-based extraction of p-values, sample sizes, effect sizes\n4. **Tiered Summarization**:\n   - Task: 42K lines code to 2-line summary + extracted stats\n   - Cycle: 10 task summaries to cycle overview\n   - Synthesis: 20 cycles to final narrative\n   - Detail: Full content lazy-loaded when needed\n\nEffective ratio: ~20:1. See `kosmos/compression/compressor.py`.\n\n## Configuration\n\nAll configuration via environment variables. See `.env.example` for the full list.\n\n### LLM Provider\n\n```bash\n# Anthropic (default)\nLLM_PROVIDER=anthropic\nANTHROPIC_API_KEY=sk-ant-...\n\n# OpenAI\nLLM_PROVIDER=openai\nOPENAI_API_KEY=sk-...\n\n# LiteLLM (supports 100+ providers including local models)\nLLM_PROVIDER=litellm\nLITELLM_MODEL=ollama/llama3.1:8b\nLITELLM_API_BASE=http://localhost:11434\n```\n\n### Budget Control\n\n```bash\nBUDGET_ENABLED=true\nBUDGET_LIMIT_USD=10.00\n```\n\nBudget enforcement raises `BudgetExceededError` when the limit is reached, gracefully transitioning the research to completion.\n\n### Concurrency\n\nThree independent limits in `kosmos/config.py`:\n\n| Setting | Default | Range |\n|---------|---------|-------|\n| `max_parallel_hypotheses` | 3 | 1-10 |\n| `max_concurrent_experiments` | 10 | 1-16 |\n| `max_concurrent_llm_calls` | 5 | 1-20 |\n\nThe paper describes 10 parallel tasks. Default now matches paper specification.\n\n### Optional Services\n\n```bash\n# Neo4j (optional, for knowledge graph features)\nNEO4J_URI=bolt://localhost:7687\nNEO4J_PASSWORD=your-password\n\n# Redis (optional, for distributed caching)\nREDIS_URL=redis://localhost:6379\n```\n\n#### Docker Setup for Optional Services\n\nStart Neo4j, Redis, and PostgreSQL with Docker Compose:\n\n```bash\n# Start all optional services (Neo4j, Redis, PostgreSQL)\ndocker compose --profile dev up -d\n\n# Or start individual services\ndocker compose up -d neo4j\ndocker compose up -d redis\ndocker compose up -d postgres\n\n# Stop services\ndocker compose --profile dev down\n```\n\nService URLs when running via Docker:\n- Neo4j Browser: http://localhost:7474 (user: neo4j, password: kosmos-password)\n- PostgreSQL: localhost:5432 (user: kosmos, password: kosmos-dev-password)\n- Redis: localhost:6379\n\n#### Semantic Scholar API\n\nLiterature search via Semantic Scholar works without authentication. An API key is optional but increases rate limits:\n\n```bash\n# Optional: Get API key from https://www.semanticscholar.org/product/api\nSEMANTIC_SCHOLAR_API_KEY=your-key-here\n```\n\n### Debug Mode\n\n```bash\n# Enable debug mode with level 1-3\nDEBUG_MODE=true\nDEBUG_LEVEL=2\n\n# Or use CLI flag for maximum verbosity\nkosmos run \"Your research question\" --trace\n```\n\nSee [docs/DEBUG_MODE.md](docs/DEBUG_MODE.md) for comprehensive debug documentation.\n\n## Architecture\n\n```\nkosmos/\n├── agents/           # Research agents (director, hypothesis, experiment, etc.)\n├── compression/      # Context compression (20:1 ratio)\n├── core/             # LLM providers, metrics, configuration\n│   └── providers/    # Anthropic, OpenAI, LiteLLM with async support\n├── execution/        # Docker-based sandboxed code execution\n├── knowledge/        # Neo4j knowledge graph (1,025 lines)\n├── literature/       # ArXiv, PubMed, Semantic Scholar clients\n├── orchestration/    # Plan creation/review, task delegation\n├── validation/       # ScholarEval 8-dimension quality framework\n├── workflow/         # Main research loop integration\n└── world_model/      # State management, JSON artifacts\n```\n\n## Project Status\n\n### Implementation Completeness\n\n| Category | Percentage | Description |\n|----------|------------|-------------|\n| Paper gaps | 100% | All 17 paper implementation gaps complete |\n| Ready for user testing | 95% | Core research loop, agents, LLM providers, validation |\n| Deferred | 5% | Phase 4 production mode (polyglot persistence) |\n\n### Fixed Issues (Recent)\n\n| Issue | Description | Status |\n|-------|-------------|--------|\n| [#66](https://github.com/jimmc414/Kosmos/issues/66) | CLI deadlock - async refactor | ✅ Fixed |\n| [#67](https://github.com/jimmc414/Kosmos/issues/67) | SkillLoader domain mapping | ✅ Fixed |\n| [#68](https://github.com/jimmc414/Kosmos/issues/68) | Pydantic V2 migration | ✅ Fixed |\n| [#54-#58](https://github.com/jimmc414/Kosmos/issues/54) | Critical paper gaps | ✅ Fixed |\n| [#59](https://github.com/jimmc414/Kosmos/issues/59) | h5ad/Parquet data formats | ✅ Fixed |\n| [#69](https://github.com/jimmc414/Kosmos/issues/69) | R language execution | ✅ Fixed |\n| [#60](https://github.com/jimmc414/Kosmos/issues/60) | Figure generation | ✅ Fixed |\n| [#61](https://github.com/jimmc414/Kosmos/issues/61) | Jupyter notebook generation | ✅ Fixed |\n| [#70](https://github.com/jimmc414/Kosmos/issues/70) | Null model statistical validation | ✅ Fixed |\n| [#63](https://github.com/jimmc414/Kosmos/issues/63) | Failure mode detection | ✅ Fixed |\n| [#62](https://github.com/jimmc414/Kosmos/issues/62) | Code line provenance | ✅ Fixed |\n| [#64](https://github.com/jimmc414/Kosmos/issues/64) | Multi-run convergence framework | ✅ Fixed |\n| [#65](https://github.com/jimmc414/Kosmos/issues/65) | Paper accuracy validation | ✅ Fixed |\n| [#72](https://github.com/jimmc414/Kosmos/issues/72) | Real-time streaming API | ✅ Fixed |\n\n### Implementation Complete\n\nAll 17 paper implementation gaps have been addressed. Full tracking: [PAPER_IMPLEMENTATION_GAPS.md](archive/PAPER_IMPLEMENTATION_GAPS.md)\n\n### Test Coverage\n\n| Category | Count | Status |\n|----------|-------|--------|\n| Unit tests | 2251 | Passing |\n| Integration tests | 415 | Passing |\n| E2E tests | 121 | Most pass, some skip (environment-dependent) |\n| Requirements tests | 815 | Passing |\n\nE2E tests skip based on environment:\n- Neo4j not configured (`@pytest.mark.requires_neo4j`)\n- Docker not running (sandbox execution tests)\n- API keys not set (tests requiring live LLM calls)\n\n### Paper Implementation\n\nThis project implements the architecture from the Kosmos paper but **has not yet reproduced** the paper's claimed results:\n\n| Paper Claim | Implementation Status |\n|-------------|----------------------|\n| 79.4% accuracy on scientific statements | Architecture implemented, not validated |\n| 7 validated discoveries | Not reproduced |\n| 1,500 papers per run | Architecture supports this |\n| 42,000 lines of code per run | Architecture supports this |\n| 200 agent rollouts | Configurable via `max_iterations` |\n\nThe system is suitable for experimentation and further development. Before production research use, validation studies should be conducted.\n\n## Limitations\n\n1. **Docker recommended**: Without Docker, code execution falls back to direct `exec()` which is unsafe for untrusted code.\n\n2. **Neo4j optional**: Knowledge graph features require Neo4j. Set `NEO4J_URI`, `NEO4J_USER`, `NEO4J_PASSWORD` to enable.\n\n3. **R support via Docker**: R language execution requires the R-enabled Docker image (`docker/sandbox/Dockerfile.r`) with TwoSampleMR, susieR, and MendelianRandomization packages.\n\n4. **Single-user**: No multi-tenancy or user isolation.\n\n5. **Not a reproduction study**: We have not yet reproduced the paper's 79.4% accuracy or 7 validated discoveries.\n\n## Documentation\n\n### Current Status\n- [archive/PAPER_IMPLEMENTATION_GAPS.md](archive/PAPER_IMPLEMENTATION_GAPS.md) - Paper implementation gaps (17/17 complete)\n- [docs/DEBUG_MODE.md](docs/DEBUG_MODE.md) - Debug mode guide\n\n### Archived Analysis\n- [archive/120525_implementation_gaps_v2.md](archive/120525_implementation_gaps_v2.md) - Original implementation gaps analysis\n- [archive/120625_code_review.md](archive/120625_code_review.md) - Code review (Dec 2025)\n\n### Operations\n- [archive/GETTING_STARTED.md](archive/GETTING_STARTED.md) - Detailed usage examples\n- [CONTRIBUTING.md](archive/CONTRIBUTING.md) - Development guidelines (archived)\n- [CHANGELOG.md](CHANGELOG.md) - Version history\n\n## Paper Gap Solutions\n\nThe original paper omitted implementation details for 6 critical components. This repository provides those implementations:\n\n| Gap | Problem | Solution |\n|-----|---------|----------|\n| 0 | Context compression for 1,500 papers | Hierarchical 3-tier compression (20:1 ratio) |\n| 1 | State Manager schema unspecified | 4-layer hybrid architecture (JSON + Neo4j + Vector + Citations) |\n| 2 | Task generation algorithm unstated | Plan Creator + Plan Reviewer pattern |\n| 3 | Agent integration mechanism unclear | Skill loader with 116 domain-specific skills (see [#67](https://github.com/jimmc414/Kosmos/issues/67)) |\n| 4 | Execution environment not described | Docker sandbox with Python + R support (see [#69](https://github.com/jimmc414/Kosmos/issues/69)) |\n| 5 | Discovery validation criteria missing | ScholarEval 8-dimension quality framework |\n\nFor detailed analysis, see [archive/120525_implementation_gaps_v2.md](archive/120525_implementation_gaps_v2.md).\n\n## Based On\n\n- **Paper**: [Kosmos: An AI Scientist for Autonomous Discovery](https://arxiv.org/abs/2511.02824) (Lu et al., 2024)\n- **K-Dense ecosystem**: Pattern repositories for AI agent systems\n- **kosmos-figures**: [Analysis patterns](https://github.com/EdisonScientific/kosmos-figures)\n\n## Contributing\n\nSee [CONTRIBUTING.md](archive/CONTRIBUTING.md).\n\nAreas where contributions would be useful:\n- Docker sandbox testing and hardening\n- Additional scientific domain skills\n- Performance benchmarking with production LLMs\n- Validation studies to measure actual accuracy\n- Multi-tenancy and user isolation\n\n## License\n\nMIT License\n\n---\n\n**Version**: 0.2.0-alpha | **Tests**: 3704 passing | **Last Updated**: 2025-12-09\n",
  "installCommand": "git clone https://github.com/jimmc414/Kosmos ~/.claude/skills/kosmos",
  "defaultBranch": "master",
  "hasMarketplaceJson": false,
  "skillPath": "README.md"
}