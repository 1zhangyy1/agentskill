{
  "id": "e0142f75032ca538",
  "slug": "anofox-forecast",
  "name": "Anofox Forecast",
  "description": "Statistical timeseries forecasting in DuckDB",
  "author": "DataZooDE",
  "authorAvatar": "https://avatars.githubusercontent.com/u/136052936?v=4",
  "repoUrl": "https://github.com/DataZooDE/anofox-forecast",
  "repoFullName": "DataZooDE/anofox-forecast",
  "stars": 19,
  "forks": 2,
  "category": "other",
  "categories": [
    "other"
  ],
  "tags": [
    "claude-skills",
    "duckdb",
    "duckdb-community",
    "duckdb-extension",
    "time-series-analysis",
    "time-series-forecasting"
  ],
  "tier": 3,
  "status": "active",
  "createdAt": "2025-10-20T08:48:10Z",
  "updatedAt": "2025-12-13T10:30:47Z",
  "lastCommitAt": "2025-12-13T10:30:43Z",
  "source": "github-topic",
  "collectedAt": "2025-12-17T03:25:15.129Z",
  "authorUrl": "https://github.com/DataZooDE",
  "license": "NOASSERTION",
  "readme": "# Anofox Forecast - Time Series Forecasting for DuckDB\n\n[![License: BSL 1.1](https://img.shields.io/badge/License-BSL%201.1-blue.svg)](LICENSE)\n[![DuckDB](https://img.shields.io/badge/DuckDB-1.4.2+-green.svg)](https://duckdb.org)\n[![Build Status](https://img.shields.io/badge/build-passing-brightgreen.svg)]()\n\n\n> [!IMPORTANT]\n> This extension is in early development, so bugs and breaking changes are expected.\n> Please use the [issues page](https://github.com/DataZooDE/anofox-forecast/issues) to report bugs or request features.\n\nA time series forecasting extension for DuckDB with 31 models, data preparation, and analytics ‚Äî all in pure SQL.\n\n\n## ‚ú® Key Features\n\n### üéØ Forecasting (31 Models)\n- **AutoML**: AutoETS, AutoARIMA, AutoMFLES, AutoMSTL, AutoTBATS\n- **Statistical**: ETS, ARIMA, Theta, Holt-Winters, Seasonal Naive\n- **Advanced**: TBATS, MSTL, MFLES (multiple seasonality)\n- **Intermittent Demand**: Croston, ADIDA, IMAPA, TSB\n\n### üìä Complete Workflow\n- **EDA & Data Quality**: 5 functions (2 table functions, 3 macros) for exploratory analysis and data quality assessment\n- **Data Preparation**: 12 macros for cleaning and transformation\n- **Evaluation**: 12 metrics including coverage analysis\n- **Seasonality Detection**: Automatic period identification\n- **Changepoint Detection**: Regime identification with probabilities\n\n### üî¢ Feature Calculation\n- **76+ Statistical Features**: Extract comprehensive time series features for ML pipelines\n- **GROUP BY & Window Support**: Native DuckDB parallelization for multi-series feature extraction\n- **Flexible Configuration**: Select specific features, customize parameters, or use JSON/CSV configs\n- **tsfresh-Compatible**: Compatible feature vectors for seamless integration with existing ML workflows (hctsa will come also)\n\n### ‚ö° Performance\n- **Parallel**: Native DuckDB parallelization on GROUP BY\n- **Scalable**: Handles millions of series\n- **Memory Efficient**: Columnar storage, streaming operations\n- **Native C++ Operators**: High-performance native implementations for data preparation (e.g., `ts_fill_gaps_operator` with 6-258x speedup)\n\n### üé® User-Friendly API\n- **Zero Setup**: All macros load automatically\n- **Consistent**: MAP-based parameters\n- **Composable**: Chain operations easily\n- **Multi-Language**: Use from Python, R, Julia, C++, Rust, and more!\n\n## üìã Table of Contents\n\n- [Installation](#installation)\n- [Multi-Language Support](#multi-language-support)\n- [API Reference](#api-reference)\n- [Guides](#guides)\n- [Performance](#performance)\n- [License](#license)\n\n\n## Why a C++ Port?\n\nWe implemented time-series forecasting algorithms in C++ with native DuckDB\nintegration, drawing from multiple open-source implementations including\nStatsForecast (Python) and various Rust libraries focused on financial analytics.\n\n- **Zero Python overhead** - No subprocess calls, no serialization, pure native execution\n- **Automatic parallelization** - DuckDB handles parallel execution across CPU cores natively\n- **In-database forecasting** - Generate forecasts directly in SQL without moving data\n- **Production-ready performance** - C++ speed with DuckDB's query optimization\n- **Portability**: Run forecasts in DuckDB anywhere‚Äîincluding the browser via WASM (WebAssembly)‚Äîand from any language that supports DuckDB integration.\n\n## Attribution\n\nThis extension includes C++ ports of algorithms from several open-source projects.\nSee [THIRD_PARTY_NOTICES](THIRD_PARTY_NOTICES) for complete attribution and license information.\n\n\n## Installation\n\n### Community Extension\n\n```sql\nINSTALL anofox_forecast FROM community;\nLOAD anofox_forecast;\n```\n\n### From Source\n\n```bash\n# Clone the repository with submodules\ngit clone --recurse-submodules https://github.com/DataZooDE/anofox-forecast.git\ncd anofox-forecast\n\n# Build the extension\nmake release\n\n# The extension will be built to:\n# build/release/extension/anofox_forecast/anofox_forecast.duckdb_extension\n```\n\n## üöÄ Quick Start on M5 Dataset\n\nThe forecast takes ~2 minutes on a Dell XPS 13. (You need DuckDB v1.4.2).\n\n```sql\n-- Load extension\nLOAD httpfs;\nLOAD anofox_forecast;\n\nCREATE OR REPLACE TABLE m5 AS \nSELECT item_id, CAST(timestamp AS TIMESTAMP) AS ds, demand AS y FROM 'https://m5-benchmarks.s3.amazonaws.com/data/train/target.parquet'\nORDER BY item_id, timestamp;\n\nCREATE OR REPLACE TABLE m5_train AS\nSELECT * FROM m5 WHERE ds < DATE '2016-04-25';\n\nCREATE OR REPLACE TABLE m5_test AS\nSELECT * FROM m5 WHERE ds >= DATE '2016-04-25';\n\n-- Perform baseline forecast and evaluate performance\nCREATE OR REPLACE TABLE forecast_results AS (\n    SELECT *\n    FROM anofox_fcst_ts_forecast_by('m5_train', item_id, ds, y, 'SeasonalNaive', 28, {'seasonal_period': 7})\n    UNION ALL\n    SELECT *\n    FROM anofox_fcst_ts_forecast_by('m5_train', item_id, ds, y, 'Theta', 28, {'seasonal_period': 7})\n    UNION ALL\n    SELECT *\n    FROM anofox_fcst_ts_forecast_by('m5_train', item_id, ds, y, 'AutoARIMA', 28, {'seasonal_period': 7})\n);\n\n-- MAE and Bias of Forecasts\nCREATE OR REPLACE TABLE evaluation_results AS (\n  SELECT \n      item_id,\n      model_name,\n      anofox_fcst_ts_mae(LIST(y), LIST(point_forecast)) AS mae,\n      anofox_fcst_ts_bias(LIST(y), LIST(point_forecast)) AS bias\n  FROM (\n      -- Join Forecast with Test Data\n      SELECT \n          m.item_id,\n          m.ds,\n          m.y,\n          n.model_name,\n          n.point_forecast\n      FROM forecast_results n\n      JOIN m5_test m ON n.item_id = m.item_id AND n.date = m.ds\n  )\n  GROUP BY item_id, model_name\n);\n\n-- Summarise evaluation results by model\nSELECT\n  model_name,\n  AVG(mae) AS avg_mae,\n  STDDEV(mae) AS std_mae,\n  AVG(bias) AS avg_bias,\n  STDDEV(bias) AS std_bias\nFROM evaluation_results\nGROUP BY model_name\nORDER BY avg_mae;\n```\n\n---\n\n## üåç Multi-Language Support\n\n**Write SQL once, use everywhere!** The extension works from any language with DuckDB bindings.\n\n| Language | Status | Guide |\n|----------|--------|-------|\n| **Python** | ‚úÖ | [Python Usage](guides/81_python_integration.md) |\n| **R** | ‚úÖ | [R Usage](guides/82_r_integration.md) |\n| **Julia** | ‚úÖ | [Julia Usage](guides/83_julia_integration.md) |\n| **C++** | ‚úÖ | Via DuckDB C++ bindings |\n| **Rust** | ‚úÖ | Via DuckDB Rust bindings |\n| **Node.js** | ‚úÖ | Via DuckDB Node bindings |\n| **Go** | ‚úÖ | Via DuckDB Go bindings |\n| **Java** | ‚úÖ | Via DuckDB JDBC driver |\n\n**See**: [Multi-Language Overview](guides/80_multi_language_overview.md) for polyglot workflows!\n\n---\n\n## üìö API Reference\n\nFor complete function signatures, parameters, and detailed documentation, see the [API Reference](docs/API_REFERENCE.md).\n\n### Guides and API Sections\n\n| Guide | API Reference Section |\n|-------|----------------------|\n| [Quick Start](guides/01_quickstart.md) | [Forecasting](docs/API_REFERENCE.md#forecasting) |\n| [EDA & Data Preparation](guides/11_exploratory_analysis.md) | [Exploratory Data Analysis](docs/API_REFERENCE.md#exploratory-data-analysis), [Data Quality](docs/API_REFERENCE.md#data-quality), [Data Preparation](docs/API_REFERENCE.md#data-preparation) |\n| [Detecting Seasonality](guides/12_detecting_seasonality.md) | [Seasonality](docs/API_REFERENCE.md#seasonality) |\n| [Detecting Changepoints](guides/13_detecting_changepoints.md) | [Changepoint Detection](docs/API_REFERENCE.md#changepoint-detection) |\n| [Time Series Features](guides/20_time_series_features.md) | [Time Series Features](docs/API_REFERENCE.md#time-series-features) |\n| [Basic Forecasting](guides/30_basic_forecasting.md) | [Forecasting](docs/API_REFERENCE.md#forecasting) |\n| [Evaluation Metrics](guides/50_evaluation_metrics.md) | [Evaluation](docs/API_REFERENCE.md#evaluation) |\n| Forecasting Model Parameters | [Supported Models](docs/API_REFERENCE.md#supported-models), [Parameter Reference](docs/API_REFERENCE.md#parameter-reference) |\n\n\n## üì¶ Development\n\n### Prerequisites\n\nBefore building, install the required dependencies:\n\n**Manjaro/Arch Linux**:\n```bash\nsudo pacman -S base-devel cmake ninja openssl eigen\n```\n\n**Ubuntu/Debian**:\n```bash\nsudo apt update\nsudo apt install build-essential cmake ninja-build libssl-dev libeigen3-dev\n```\n\n**Fedora/RHEL**:\n```bash\nsudo dnf install gcc-c++ cmake ninja-build openssl-devel eigen3-devel\n```\n\n**macOS**:\n```bash\nbrew install cmake ninja openssl eigen\n```\n\n**Windows** (Option 1 - vcpkg, recommended):\n```powershell\n# Install vcpkg\ngit clone https://github.com/Microsoft/vcpkg.git\n.\\vcpkg\\bootstrap-vcpkg.bat\n\n# Install dependencies\n.\\vcpkg\\vcpkg install eigen3 openssl\n\n# Build with vcpkg toolchain\ncmake -DCMAKE_TOOLCHAIN_FILE=.\\vcpkg\\scripts\\buildsystems\\vcpkg.cmake .\ncmake --build . --config Release\n```\n\n**Windows** (Option 2 - MSYS2/MinGW):\n```bash\n# In MSYS2 MinGW64 terminal\npacman -S mingw-w64-x86_64-gcc mingw-w64-x86_64-cmake mingw-w64-x86_64-ninja\npacman -S mingw-w64-x86_64-openssl mingw-w64-x86_64-eigen3\n\n# Then build as normal\nmake -j$(nproc)\n```\n\n**Windows** (Option 3 - WSL, easiest):\n```bash\n# Use Ubuntu in WSL\nwsl --install\n# Then follow Ubuntu instructions above\n```\n\n**Required**:\n- C++ compiler (GCC 9+ or Clang 10+)\n- CMake 3.15+\n- OpenSSL (development libraries)\n- Eigen3 (linear algebra library)\n- Make or Ninja (build system)\n\n### Build from Source\n\n```bash\n# Clone with submodules\ngit clone --recurse-submodules https://github.com/DataZooDE/anofox-forecast.git\ncd anofox-forecast\n\n# Build (choose one)\nmake -j$(nproc)              # With Make\nGEN=ninja make release       # With Ninja (faster)\n```\n\n### Verify Installation\n\n```bash\n# Test the extension\n./build/release/duckdb -c \"\nLOAD 'build/release/extension/anofox_forecast/anofox_forecast.duckdb_extension';\nSELECT 'Extension loaded successfully! ‚úÖ' AS status;\n\"\n```\n\n### Load Extension\n\n```sql\n-- In DuckDB\nLOAD 'path/to/anofox_forecast.duckdb_extension';\n\n-- Verify all functions are available\nSELECT * FROM TS_FORECAST('sales', date, amount, 'AutoETS', 7, {'seasonal_period': 7});\n```\n\n## üìÑ License\n\n**Business Source License 1.1 (BSL 1.1)**\n\n### Key Points\n\n‚úÖ **Free for production use** - Use internally in your business  \n‚úÖ **Free for development** - Build applications with it  \n‚úÖ **Free for research** - Academic and research use  \n\n‚ùå **Cannot offer as hosted service** - No SaaS offerings to third parties  \n‚ùå **Cannot embed in commercial product** - For third-party distribution  \n\nüîÑ **Converts to MPL 2.0** - After 5 years from first publication\n\nSee [LICENSE](LICENSE) for full terms.\n\n## ü§ù Contributing\n\nWe welcome contributions! Please see [CONTRIBUTING.md](CONTRIBUTING.md) for guidelines.\n\n\n## üìû Support\n\n- **Documentation**: [guides/](guides/)\n- **Issues**: [GitHub Issues](https://github.com/DataZooDE/anofox-forecast/issues)\n- **Discussions**: [GitHub Discussions](https://github.com/DataZooDE/anofox-forecast/discussions)\n- **Email**: sm@data-zoo.de\n\n## üéì Citation\n\nIf you use this extension in research, please cite:\n\n```bibtex\n@software{anofox_forecast,\n  title = {Anofox Forecast: Time Series Forecasting for DuckDB},\n  author = {Joachim Rosskopf, Simon M√ºller, DataZoo GmbH},\n  year = {2025},\n  url = {https://github.com/DataZooDE/anofox-forecast}\n}\n```\n\n## üèÜ Acknowledgments\n\nBuilt on top of:\n- [DuckDB](https://duckdb.org) - Amazing analytical database\n- [anofox-time](https://github.com/anofox/anofox-time) - Core forecasting library\n\nSpecial thanks to the DuckDB team for making extensions possible!\n\n---\n\n**Made with ‚ù§Ô∏è by the Anofox Team**\n\n‚≠ê **Star us on GitHub** if you find this useful!\n\nüì¢ **Follow us** for updates: [@datazoo](https://www.linkedin.com/company/datazoo/)\n\nüöÄ **Get started now**: `LOAD 'anofox_forecast';`\n",
  "installCommand": "git clone https://github.com/DataZooDE/anofox-forecast ~/.claude/skills/anofox-forecast",
  "defaultBranch": "main",
  "hasMarketplaceJson": false,
  "skillPath": "README.md"
}