{
  "id": "728846782d056b1f",
  "slug": "skrills",
  "name": "Skrills",
  "description": "Coordinate skills between Codex and Claude Code. Validates, analyzes, and syncs skills, subagents, commands, and configuration bidirectionally between both CLIs.",
  "author": "athola",
  "authorAvatar": "https://avatars.githubusercontent.com/u/9769290?v=4",
  "repoUrl": "https://github.com/athola/skrills",
  "repoFullName": "athola/skrills",
  "stars": 29,
  "forks": 6,
  "category": "coding",
  "categories": [
    "coding"
  ],
  "tags": [
    "claude-skills",
    "codex",
    "codex-cli",
    "codex-skills",
    "mcp",
    "mcp-server",
    "skills"
  ],
  "tier": 2,
  "status": "active",
  "createdAt": "2025-11-24T17:23:54Z",
  "updatedAt": "2025-12-27T01:29:54Z",
  "lastCommitAt": "2025-12-26T07:06:20Z",
  "source": "github-topic",
  "collectedAt": "2025-12-27T03:27:54.360Z",
  "authorUrl": "https://github.com/athola",
  "license": "MIT",
  "readme": "# Skrills\n\n<p align=\"center\">\n  <img src=\"assets/icon.png\" alt=\"Skrills Icon\">\n</p>\n\n[![Crates.io](https://img.shields.io/crates/v/skrills.svg)](https://crates.io/crates/skrills)\n[![Docs](https://img.shields.io/github/actions/workflow/status/athola/skrills/book-pages.yml?branch=master&label=docs)](https://athola.github.io/skrills/)\n[![CI](https://img.shields.io/github/actions/workflow/status/athola/skrills/ci.yml?branch=master&label=ci)](https://github.com/athola/skrills/actions/workflows/ci.yml)\n[![Coverage](https://img.shields.io/github/actions/workflow/status/athola/skrills/coverage.yml?branch=master&label=coverage)](https://github.com/athola/skrills/actions/workflows/coverage.yml)\n[![Audit](https://img.shields.io/github/actions/workflow/status/athola/skrills/audit.yml?branch=master&label=audit)](https://github.com/athola/skrills/actions/workflows/audit.yml)\n[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)\n\nSkills support engine for Claude Code and Codex CLI. Validates, analyzes, and syncs skills bidirectionally between both CLIs.\n\n## Why Skrills\n- **Validate skills**: Checks markdown against Claude Code (permissive) and Codex CLI (strict frontmatter) rules. Auto-fix adds missing metadata.\n- **Analyze skills**: Reports token usage, identifies dependencies, and suggests optimizations.\n- **Sync**: Bidirectional sync for skills, commands, MCP servers, and preferences between Claude Code and Codex CLI.\n- **Safe command sync**: `sync-commands` uses byte-for-byte comparison and `--skip-existing-commands` to prevent overwriting local customizations. Preserves non-UTF-8 binaries.\n- **Unified tools**: Mirror (`mirror`), sync (`sync`, `sync-all`), interactive diagnostics (`tui`), and agent launcher (`skrills agent <name>`) in one binary.\n\n## Architecture (workspace crates)\n- `crates/server`: MCP server runtime and CLI.\n- `crates/validate`: Validation logic for Claude Code and Codex CLI compatibility.\n- `crates/analyze`: Token counting, dependency analysis, and optimization.\n- `crates/intelligence`: Context-aware recommendations, project analysis, and skill creation helpers.\n- `crates/sync`: Bidirectional sync logic (skills, commands, prefs, MCP servers).\n- `crates/discovery`: Skill discovery and ranking.\n- `crates/state`: Persistent store for manifests and mirrors.\n- `crates/subagents`: Shared subagent runtime and backends (including `StateRunStore::load_from_disk` for reloading persisted runs).\n\n## Installation\n- macOS / Linux:\n  ```bash\n  curl -LsSf https://raw.githubusercontent.com/athola/skrills/HEAD/scripts/install.sh | sh\n  ```\n- Windows PowerShell:\n  ```powershell\n  powershell -ExecutionPolicy Bypass -NoLogo -NoProfile -Command ^\n  \"Remove-Item alias:curl -ErrorAction SilentlyContinue; iwr https://raw.githubusercontent.com/athola/skrills/HEAD/scripts/install.ps1 -UseBasicParsing | iex\"\n  ```\n- crates.io: `cargo install skrills`\n- From source: `cargo install --path crates/cli --force`\n\n## Quickstart\n### Validate skills for Codex compatibility\n```bash\nskrills validate --target codex\nskrills validate --target codex --autofix  # Auto-add missing frontmatter\n```\n\n### Analyze skill token usage\n```bash\nskrills analyze --min-tokens 1000 --suggestions\n```\n\n### Sync all configurations from Claude to Codex\n```bash\nskrills sync-all --from claude --skip-existing-commands\n```\n\n> **Example plugins**: [claude-night-market](https://github.com/athola/claude-night-market) provides a collection of Claude Code plugins (skills, agents, commands, hooks) that can be synced to Codex using skrills.\n\n### Start MCP server\n```bash\nskrills serve\n```\n\n### Launch a mirrored agent spec\n```bash\nskrills agent codex-dev\n```\n\n## Validation\n\nSkrills validates skills against two targets:\n\n- **Claude Code**: Permissive. Accepts any markdown with optional frontmatter.\n- **Codex CLI**: Strict. Requires YAML frontmatter with `name` (max 100 chars) and `description` (max 500 chars).\n\nThe `--autofix` flag derives missing frontmatter from the file path and content.\n\n## MCP Tools\n\nWhen running as an MCP server (`skrills serve`), the following tools are available:\n\n- `validate-skills` - Validate skills for CLI compatibility\n- `analyze-skills` - Analyze token usage and dependencies\n- `skill-metrics` - Aggregate statistics (quality, tokens, dependencies)\n- `resolve-dependencies` - Resolve direct or transitive dependencies/dependents for a skill URI\n- `sync-from-claude` - Copy Claude skills into the Codex mirror\n- `sync-skills` - Sync skills between Claude and Codex\n- `sync-commands` - Sync slash commands\n- `sync-mcp-servers` - Sync MCP configurations\n- `sync-preferences` - Sync preferences\n- `sync-all` - Sync everything\n- `sync-status` - Preview sync changes (dry run)\n- `recommend-skills` - Suggest related skills based on dependency relationships\n- `skill-loading-status` - Report skill roots, trace/probe install status, and marker coverage\n- `enable-skill-trace` - Install trace/probe skills and optionally instrument SKILL.md files with markers\n- `disable-skill-trace` - Remove trace/probe skill directories (does not remove markers)\n- `skill-loading-selftest` - Return a one-shot probe line and expected response to confirm skills are loading\n\n### Intelligence tools\n- `recommend-skills-smart` - Smart recommendations using dependencies, usage patterns, and project context\n- `analyze-project-context` - Analyze languages, frameworks, and keywords in a project directory\n- `suggest-new-skills` - Identify skill gaps based on context and usage\n- `create-skill` - Create a new skill via GitHub search, LLM generation, or both\n- `search-skills-github` - Search GitHub for existing `SKILL.md` files\n\n**CLI parity notes**:\n- `skrills sync-from-claude` is an alias for `skrills sync` (copy Claude skills into the Codex mirror).\n- `resolve-dependencies` and the intelligence tools are available via CLI commands (see below).\n\n### MCP tool inputs (selected)\n`sync-from-claude`:\n```json\n{}\n```\n\n`resolve-dependencies`:\n```json\n{ \"uri\": \"skill://skrills/codex/my-skill/SKILL.md\", \"direction\": \"dependencies\", \"transitive\": true }\n```\n\n### Smart recommendation workflows (examples)\n1. Project-aware recommendations:\n   - `analyze-project-context` -> `recommend-skills-smart` -> `suggest-new-skills`\n2. GitHub-assisted skill creation:\n   - `search-skills-github` -> `create-skill` (use `dry_run: true` to preview)\n\n## CLI guide (selected)\n- `skrills validate [--target claude|codex|both] [--autofix]` — validate skills for CLI compatibility.\n- `skrills analyze [--min-tokens N] [--suggestions]` — analyze token usage and dependencies.\n- `skrills metrics [--format text|json] [--include-validation]` — aggregate statistics and quality distribution.\n- `skrills recommend <uri> [--limit N] [--include-quality]` — suggest related skills based on dependencies.\n- `skrills resolve-dependencies <uri> [--direction dependencies|dependents] [--transitive] [--format text|json]` — resolve dependencies or dependents.\n- `skrills recommend-skills-smart [--uri URI] [--prompt TEXT] [--project-dir DIR]` — smart recommendations using usage and context.\n- `skrills analyze-project-context [--project-dir DIR] [--include-git true|false] [--commit-limit N] [--format text|json]` — analyze project context for recommendations.\n- `skrills suggest-new-skills [--project-dir DIR] [--focus-area AREA]` — identify gaps and suggestions.\n- `skrills create-skill <name> --description TEXT [--method github|llm|both] [--target-dir DIR]` — create skills via GitHub search or LLM generation (target dir defaults to installed client, Claude preferred).\n- `skrills search-skills-github <query> [--limit N] [--format text|json]` — search GitHub for skills.\n- `skrills sync-all [--from claude|codex] [--skip-existing-commands]` — sync all configurations.\n- `skrills sync-commands [--from claude|codex] [--dry-run] [--skip-existing-commands]` — byte-for-byte command sync.\n- `skrills mirror` — mirror skills/agents/commands/prefs from Claude to Codex.\n- `skrills tui` — interactive sync and diagnostics.\n- `skrills doctor` — verify Codex MCP wiring.\n- `skrills agent <name>` — launch a mirrored agent spec.\n\n## Configuration\n- `SKRILLS_MIRROR_SOURCE` — mirror source root (default `~/.claude`).\n- `SKRILLS_CACHE_TTL_MS` — discovery cache TTL.\n- `SKRILLS_CLIENT` — force installer target (`codex` or `claude`).\n- `SKRILLS_NO_MIRROR=1` — skip post-install mirror on Codex.\n- `GITHUB_TOKEN` — optional GitHub API token for `search-skills-github` and GitHub-backed `create-skill` to avoid rate limits.\n- Subagents ship **on by default**: binaries are built with the `subagents` feature.\n- `SKRILLS_SUBAGENTS_EXECUTION_MODE` — default subagent mode (`cli` or `api`, default `cli`).\n- `SKRILLS_SUBAGENTS_DEFAULT_BACKEND` — default API backend (`codex` or `claude`) when `execution_mode=api`.\n- `SKRILLS_CLI_BINARY` — override CLI binary for headless subagents (auto uses current client; fallback `claude`).\n- `~/.claude/subagents.toml` or `~/.codex/subagents.toml` — optional defaults (`execution_mode`, `cli_binary`, `default_backend`; `cli_binary = \"auto\"` follows current client using CLI env or server path).\n\n## Documentation\n- mdBook (primary): https://athola.github.io/skrills/\n  - `book/src/cli.md` — CLI reference.\n  - `book/src/persistence.md` — state, pins, cache, mirrors (byte-safe command sync).\n  - `book/src/overview.md` — discovery priority and architecture.\n  - `book/src/mcp-token-optimization.md` — token-saving patterns.\n- Additional docs in `docs/`:\n  - `docs/architecture.md`, `docs/adr/` — architecture decisions and crate structure.\n  - `docs/FAQ.md`, `docs/security.md`, `docs/threat-model.md`, `docs/semver-policy.md`, `docs/CHANGELOG.md`, `docs/process-guidelines.md`, `docs/dependencies.md`, `docs/release-artifacts.md`, `docs/config/`.\n- Examples and demos: `examples/`, `crates/subagents/`, and TUI walkthroughs.\n\n## Development\n```bash\nmake fmt lint test --quiet\n```\n- Rust toolchain ≥ 1.75 recommended.\n- End-to-end MCP tests are in `crates/server/tests/`; sample agents in `crates/subagents/`.\n\n## Skill loading validation (Claude Code and Codex)\n\nNeither Claude Code nor Codex CLI guarantees a built-in, user-visible report of which `SKILL.md` files were injected into the current prompt. Skrills provides an opt-in, deterministic workflow for validation:\n\nThis workflow is for debugging. The trace/probe skills add prompt overhead; remove them when finished.\n\n1. Call `enable-skill-trace` (use `dry_run: true` to preview). This installs two debug skills and can instrument skill files by appending `<!-- skrills-skill-id: ... -->` markers (with optional backups).\n2. Restart the Claude/Codex session if the client does not hot-reload skills.\n3. Call `skill-loading-selftest` and send the returned `probe_line`. Expect `SKRILLS_PROBE_OK:<token>`.\n4. With tracing enabled and markers present, each assistant response should end with:\n   - `SKRILLS_SKILLS_LOADED: [...]`\n   - `SKRILLS_SKILLS_USED: [...]`\n\nUse `skill-loading-status` to check which roots were scanned and whether markers are present. Use `disable-skill-trace` to remove the debug skills when finished (it does not remove markers).\n\nExample MCP inputs (tool arguments):\n\n`enable-skill-trace`:\n```json\n{ \"target\": \"codex\", \"instrument\": true, \"backup\": true, \"dry_run\": false }\n```\n\n`skill-loading-selftest`:\n```json\n{ \"target\": \"codex\" }\n```\n\nFor a longer walkthrough, see `book/src/cli.md`.\n\n## Status & roadmap\n- Changelogs: `docs/CHANGELOG.md` and `book/src/changelog.md`.\n\n## Contributing & support\n- Security: see `docs/security.md` and `docs/threat-model.md`; report issues via standard disclosure channels.\n- Issues/PRs: include OS, `skrills --version`, and logs (use `--trace-wire` for MCP).\n- Follow `docs/process-guidelines.md`; update docs/tests with code changes.\n\n## License\n[MIT](LICENSE)\n\n## Star History\n\n[![Star History Chart](https://api.star-history.com/svg?repos=athola/skrills&type=date&legend=top-left)](https://www.star-history.com/#athola/skrills&type=date&legend=top-left)\n",
  "installCommand": "git clone https://github.com/athola/skrills ~/.claude/skills/skrills",
  "defaultBranch": "master",
  "hasMarketplaceJson": false,
  "skillPath": "README.md"
}