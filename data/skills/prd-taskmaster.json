{
  "id": "9e7a99716bb42e14",
  "slug": "prd-taskmaster",
  "name": "Prd Taskmaster",
  "description": "AI-powered PRD generation for Claude Code with taskmaster integration",
  "author": "anombyte93",
  "authorAvatar": "https://avatars.githubusercontent.com/u/212644172?v=4",
  "repoUrl": "https://github.com/anombyte93/prd-taskmaster",
  "repoFullName": "anombyte93/prd-taskmaster",
  "stars": 23,
  "forks": 3,
  "category": "automation",
  "categories": [
    "automation"
  ],
  "tags": [
    "ai-development",
    "claude-code",
    "claude-skills",
    "prd",
    "product-management",
    "product-requirements",
    "requirements-engineering",
    "taskmaster"
  ],
  "tier": 2,
  "status": "maintained",
  "createdAt": "2025-10-21T16:08:42Z",
  "updatedAt": "2025-12-16T14:13:49Z",
  "lastCommitAt": "2025-10-30T16:33:13Z",
  "source": "github-topic",
  "collectedAt": "2025-12-17T03:25:12.625Z",
  "authorUrl": "https://github.com/anombyte93",
  "license": "MIT",
  "readme": "---\nname: PRD Generator for TaskMaster\ndescription: Smart PRD generator with TaskMaster integration. Detects existing PRDs and offers execute/update/replace options. Generates comprehensive technical PRDs optimized for task breakdown, validates with 13 automated checks, and optionally executes tasks autonomously with datetime tracking and rollback support. Use when user requests \"PRD\", \"product requirements\", or mentions task-driven development. Default: PRD generation + handoff to TaskMaster. Optional: autonomous execution with 4 modes.\nallowed-tools: [Read, Write, Edit, Grep, Glob, Bash, AskUserQuestion]\n---\n\n# PRD Generator for TaskMaster v2.0\n\nSmart PRD generation system that detects existing PRDs and offers flexible workflows. Primarily generates comprehensive, engineer-focused product requirements documents optimized for TaskMaster task breakdown. Optionally executes tasks autonomously with quality control, datetime tracking, and validation checkpoints.\n\n## When to Use This Skill\n\nActivate when user:\n- Requests a PRD or product requirements document\n- Says \"I want a PRD\", \"create requirements\", \"write requirements\"\n- Mentions taskmaster or task-driven development\n- Asks to document product/feature requirements for engineering\n\nDo NOT activate for:\n- Code documentation (API docs, technical reference)\n- Test specifications or QA documentation\n- Project management timelines without product context\n- PDF document creation\n\n## Core Principles\n\n**Quality Over Speed**: Planning is 95% of the work. Take time to create comprehensive PRDs that enable successful implementation.\n\n**Taskmaster Required**: This skill REQUIRES taskmaster (MCP or CLI). Will block and prompt for installation if not detected.\n\n**Engineer-Focused**: Primary audience is engineering teams. Include technical depth, code examples, architecture considerations, and implementation details.\n\n**Validation-Driven**: Automated checks ensure PRD quality before delivery. 13 validation checks run automatically.\n\n**User Testing Checkpoints**: Every 5 tasks, insert user validation checkpoint to catch issues early.\n\n**Complete Automation**: Provides 4 autonomous execution modes with git policies, progress logging, and datetime tracking.\n\n## Workflow Overview (12 Steps)\n\n1. **Enable Plan Mode & Check State** - Resume detection + interactive prompts\n2. **Detect Existing PRD** - Smart detection with execute/update/replace options\n3. **Detect Taskmaster** - MCP > CLI > Block if missing\n4. **Discovery Questions** - 12+ detailed questions (if generating new PRD)\n5. **Initialize Taskmaster** - Via MCP/CLI (if not already initialized)\n6. **Generate PRD** - Comprehensive 11-section document (if creating new)\n7. **Validate Quality** - 13 automated checks\n8. **Parse & Expand** - Combined operation with research\n9. **Insert User Tests** - Checkpoint every 5 tasks\n10. **Setup Tracking** - DateTime, rollback, accuracy scripts\n11. **Choose Next Action** - Handoff to TaskMaster OR autonomous execution\n12. **Summary & Start** - Present overview and begin work\n\n---\n\n## Detailed Implementation\n\n### Step 1: Enable Plan Mode & Check for Incomplete Work\n\n**FIRST ACTION** when skill activates:\n\n```\n1. Check for incomplete work from previous session:\n   - Run: python3 .taskmaster/scripts/execution-state.py (if exists)\n   - If incomplete work found: Offer to resume\n\n2. Enable plan mode (if not already enabled):\n   - This ensures AskUserQuestion tool works properly\n   - Inform user: \"Enabling plan mode for interactive prompts...\"\n\n3. Proceed to Step 2\n```\n\n**Auto-Resume if Crash Detected:**\n\n```\nIf execution-state.py reports incomplete work:\n\nüîç Detected incomplete work from previous session\n\nüìç Last Activity:\n  - Mode: {mode}\n  - Task: {task_id}\n  - Subtask: {subtask_id}\n  - Last updated: {timestamp}\n  - Completed: Tasks {completed_list}\n\nResume from:\n  1. Last subtask (continue where crashed)\n  2. Restart current task\n  3. Last checkpoint\n  4. Start fresh\n\nType: 1, 2, 3, or 4\n```\n\n---\n\n### Step 2: Detect Existing PRD (Smart Detection)\n\n**SECOND ACTION**: Check if PRD already exists before generating new one.\n\n**Detection Logic:**\n\n```\n1. Check if .taskmaster/ exists:\n   - Use Glob: .taskmaster/\n   - NO ‚Üí New project, proceed to Step 3 (detect taskmaster)\n   - YES ‚Üí Continue to check for PRD\n\n2. Check for existing PRD:\n   - Use Glob: .taskmaster/docs/*.md or .taskmaster/docs/prd.*\n   - Read .taskmaster/tasks/tasks.json to get task count and status\n   - Found PRD ‚Üí Show existing PRD options (below)\n   - No PRD ‚Üí Proceed to Step 3 (detect taskmaster)\n```\n\n**If Existing PRD Found:**\n\n```\nüîç Found existing PRD: {filename}\n\nüìÑ PRD Details:\n  - Created: {date from file}\n  - Location: .taskmaster/docs/{filename}\n  - Tasks: {X total} ({Y completed}, {Z pending})\n  - Status: {% complete}\n\nWhat would you like to do?\n\n  1. Execute tasks from existing PRD\n     ‚Üí Skip to Step 11 (choose execution mode)\n     ‚Üí Start working on pending tasks\n\n  2. Update/refine existing PRD\n     ‚Üí Edit current PRD with new requirements\n     ‚Üí Re-parse to update tasks\n     ‚Üí Merge with existing task list\n\n  3. Create new PRD (replace current)\n     ‚Üí Confirm: \"This will replace existing PRD. Continue?\"\n     ‚Üí Proceed to Step 3 (full PRD generation workflow)\n\n  4. Review existing PRD\n     ‚Üí Show summary of current PRD\n     ‚Üí Display task breakdown\n     ‚Üí Exit skill\n\nType: 1, 2, 3, or 4\n```\n\n**Option 1: Execute Existing Tasks**\n```\nUser selects: 1\n\n‚úÖ Using existing PRD: {filename}\nüìã Remaining tasks: {Z} pending tasks\nüìç Next checkpoint: {next USER-TEST}\n\n‚Üí Skip to Step 11 (choose execution mode)\n```\n\n**Option 2: Update Existing PRD**\n```\nUser selects: 2\n\nüìù What changes would you like to make?\n\n[User provides changes]\n\n‚úÖ Updating PRD...\n‚Üí Edit existing PRD file with changes\n‚Üí Re-run parse-prd with --append flag\n‚Üí Continue to Step 8 (insert user tests for new tasks only)\n‚Üí Proceed to Step 11\n```\n\n**Option 3: Replace PRD**\n```\nUser selects: 3\n\n‚ö†Ô∏è  WARNING: This will replace your existing PRD and task list.\n\nCurrent work:\n  - {Y} tasks completed\n  - {Z} tasks pending\n  - All completed work will be preserved in git history\n  - Task files will be regenerated\n\nType \"yes\" to confirm replacement, or \"no\" to cancel.\n\n[If yes]\n‚úÖ Creating new PRD (old PRD backed up to .taskmaster/docs/prd-backup-{timestamp}.md)\n‚Üí Proceed to Step 3 (full workflow)\n```\n\n**Option 4: Review**\n```\nUser selects: 4\n\nüìÑ Current PRD Summary:\n  - Title: {title}\n  - Created: {date}\n  - Goals: {list top 3 goals}\n  - Requirements: {count functional requirements}\n  - Tasks: {X total} ({Y completed}, {Z pending})\n\n[Display executive summary and key sections]\n\n‚úÖ Review complete. Skill exiting.\n```\n\n**If No PRD Found (but .taskmaster/ exists):**\n```\nüîç Found .taskmaster/ directory (initialized)\nüìÑ No PRD found\n\nCreating PRD for TaskMaster...\n‚Üí Proceed to Step 3 (detect taskmaster, already initialized)\n```\n\n---\n\n### Step 3: Detect Taskmaster (MANDATORY - Blocks if Missing)\n\n**CRITICAL**: Must detect taskmaster BEFORE proceeding with PRD generation.\n\n**Detection Priority:**\n\n```\n1. Check for MCP Task-Master-AI (PREFERRED):\n   - Attempt: mcp__task-master-ai__get_tasks with projectRoot\n   - If successful: TASKMASTER_METHOD=\"MCP\" ‚úÖ\n   - Note: MCP provides superior integration (direct function calls)\n\n2. Fallback to CLI:\n   - Run: which taskmaster\n   - Run: taskmaster --version\n   - If found: TASKMASTER_METHOD=\"CLI\" ‚úÖ\n\n3. Neither Available:\n   - TASKMASTER_METHOD=\"NONE\" ‚ùå\n   - BLOCK and display installation instructions\n```\n\n**If Taskmaster Not Found:**\n\n```\n‚ö†Ô∏è Taskmaster Required\n\nThis skill REQUIRES taskmaster (MCP or CLI) to function properly.\n\nI didn't detect taskmaster in your environment.\n\nOption 1 (RECOMMENDED): Install MCP Task-Master-AI\n  ‚Ä¢ Add to Claude Code MCP settings\n  ‚Ä¢ Provides seamless integration with direct function calls\n  ‚Ä¢ See: https://github.com/cyanheads/task-master-ai\n  ‚Ä¢ Installation: Add to your MCP config, restart Claude Code\n\nOption 2: Install CLI\n  ‚Ä¢ Run: npm install -g task-master-ai\n  ‚Ä¢ Use command-line interface\n  ‚Ä¢ See: https://github.com/cyanheads/task-master-ai\n\nPlease install taskmaster and type 'done' when ready.\n\n[WAIT for user to install and confirm]\n[RE-DETECT after user confirms]\n[PROCEED only if detection successful]\n```\n\n**NO PROCEEDING WITHOUT TASKMASTER DETECTED**\n\n---\n\n### Step 4: Discovery (Comprehensive Requirements Gathering)\n\nAsk detailed questions to ensure comprehensive PRD:\n\n**Essential Questions (5):**\n1. What problem does this solve? (user pain point, business impact)\n2. Who is the target user/audience?\n3. What is the proposed solution or feature?\n4. What are the key success metrics? (how we measure success)\n5. What constraints exist? (technical, timeline, resources)\n\n**Technical Context (4):**\n6. Is this for an existing codebase or greenfield project?\n7. What tech stack? (if known)\n8. Any integration requirements? (third-party services, internal systems)\n9. Performance/scale requirements? (users, data volume, latency)\n\n**Taskmaster Specific (3):**\n10. Have you used taskmaster before? (helps calibrate detail level)\n11. What's the estimated complexity? (simple feature, typical project, complex system)\n12. Timeline expectations? (helps with phasing and task breakdown)\n\n**Open-Ended (1):**\n13. Anything else I should know? (edge cases, constraints, context)\n\n**Smart Defaults:**\n- If user provides minimal answers, use best guesses and document assumptions\n- Default to comprehensive detail\n- Assume engineer audience unless specified otherwise\n\n---\n\n### Step 5: Initialize Taskmaster Project\n\n**CRITICAL**: Initialize ONLY via taskmaster MCP/CLI. NEVER create .taskmaster/ manually.\n\n#### If TASKMASTER_METHOD=\"MCP\":\n\n```\nUse mcp__task-master-ai__initialize_project:\n  - projectRoot: ${PWD} (absolute path)\n  - yes: true (skip prompts)\n  - storeTasksInGit: true\n  - initGit: false (if git already exists)\n  - skipInstall: false\n  - rules: [\"claude\"]\n\nResult: .taskmaster/ structure created by taskmaster\n```\n\n#### If TASKMASTER_METHOD=\"CLI\":\n\n```bash\ntaskmaster init --yes --store-tasks-in-git --rules=claude\n```\n\n**Output:**\n```\n‚úÖ Taskmaster Initialized\n   Created: .taskmaster/docs/\n   Created: .taskmaster/tasks/\n   Created: .taskmaster/reports/\n   Created: .taskmaster/state/\n   Updated: .gitignore\n```\n\n---\n\n### Step 6: Generate Comprehensive PRD\n\nWrite PRD to `.taskmaster/docs/prd.md`\n\n**11 Essential Sections:**\n\n1. **Executive Summary** (2-3 sentences: problem + solution + impact)\n\n2. **Problem Statement**\n   - Current situation and pain points\n   - User impact (who's affected, how)\n   - Business impact (cost, opportunity)\n   - Why solve this now\n\n3. **Goals & Success Metrics** (SMART format)\n   - 3-5 specific goals\n   - Each with: metric, baseline, target, timeframe\n   - Example: \"Increase user activation from 45% to 65% within 3 months\"\n\n4. **User Stories** (Agile format with taskmaster focus)\n   - As a [user], I want to [action] so that I can [benefit]\n   - Detailed acceptance criteria (becomes task completion criteria)\n   - Each story suggests 1-3 implementation tasks\n\n5. **Functional Requirements**\n   - Numbered (REQ-001, REQ-002, etc.)\n   - Prioritized (Must/Should/Could have)\n   - Each requirement is atomic and testable\n   - Includes implementation hints for task breakdown\n\n6. **Non-Functional Requirements**\n   - Performance (with specific targets: \"< 200ms p95\")\n   - Security (authentication, encryption, compliance)\n   - Scalability (user load, data volume)\n   - Reliability (uptime, error rates)\n   - Accessibility (WCAG standards)\n   - Compatibility (browsers, devices, OS)\n\n7. **Technical Considerations**\n   - Architecture implications\n   - API specifications (with request/response examples)\n   - Database schema changes (with SQL/schema examples)\n   - Dependencies (internal and external)\n   - Migration strategy (for existing systems)\n   - Testing strategy (unit, integration, e2e)\n\n8. **Implementation Roadmap** (Taskmaster Optimization)\n   - Phase breakdown (Phase 1, 2, 3...)\n   - Task sequencing (what depends on what)\n   - Complexity estimates (for taskmaster scheduling)\n   - Suggested task breakdown per requirement\n\n9. **Out of Scope**\n   - Explicitly list what will NOT be included\n   - Prevents scope creep\n   - Note future considerations\n\n10. **Open Questions & Risks**\n    - Unresolved decisions with owners\n    - Known risks with mitigation strategies\n    - Areas needing further research\n\n11. **Validation Checkpoints**\n    - Milestones where we verify progress\n    - Quality gates for task completion\n\n---\n\n### Step 7: Validate PRD Quality (13 Automated Checks)\n\n**Required Elements (5 checks):**\n1. ‚úÖ Executive summary exists (2-3 sentences)\n2. ‚úÖ Problem statement includes user AND business impact\n3. ‚úÖ All goals have SMART metrics (Specific, Measurable, Achievable, Relevant, Time-bound)\n4. ‚úÖ User stories have acceptance criteria (minimum 3 per story)\n5. ‚úÖ Out of scope explicitly defined\n\n**Functional Requirements (3 checks):**\n6. ‚úÖ All functional requirements are testable (not vague)\n7. ‚úÖ Each requirement has priority (Must/Should/Could)\n8. ‚úÖ Requirements are numbered (REQ-001, REQ-002, etc.)\n\n**Technical Considerations (2 checks):**\n9. ‚úÖ Technical considerations address architecture\n10. ‚úÖ Non-functional requirements include specific targets (not \"fast\" but \"< 200ms p95\")\n\n**Taskmaster-Specific (3 checks):**\n11. ‚úÖ Requirements have task breakdown hints\n12. ‚úÖ Dependencies identified for task sequencing\n13. ‚úÖ Acceptance criteria are concrete (can become task completion checks)\n\n**Validation Output:**\n```\n‚úÖ PRD Quality Validation: 13/13 PASSED\n  ‚úÖ All required elements present\n  ‚úÖ All functional requirements testable\n  ‚úÖ Taskmaster optimization complete\n\nQuality Score: 60/60 (EXCELLENT)\nSafe to proceed with task generation.\n\nOR\n\n‚ö†Ô∏è PRD Quality Validation: 11/13 (2 warnings)\n  ‚úÖ Required elements: 5/5\n  ‚úÖ Functional requirements: 3/3\n  ‚úÖ Technical considerations: 2/2\n  ‚ö†Ô∏è Taskmaster optimization: 1/3\n\n  Warnings:\n    - REQ-007: \"should be performant\" is vague\n      Suggestion: Replace with \"< 200ms response time for 95th percentile\"\n    - User Story 2: Only 2 acceptance criteria (minimum 3 recommended)\n      Suggestion: Add edge case criterion\n\nQuality Score: 55/60 (GOOD - minor improvements suggested)\n```\n\n---\n\n### Step 8: Parse PRD & Expand Tasks (Single Combined Operation)\n\n**IMPORTANT**: Combine parse-prd + expand-all with research into ONE operation.\n\n**Auto-Calculate Task Count:**\n```\nnumTasks = (count of functional requirements √ó 1.5) rounded\nMinimum: 10 tasks\nMaximum: 40 tasks\n```\n\n#### If TASKMASTER_METHOD=\"MCP\":\n\n```\n1. Parse PRD with research:\n   Use mcp__task-master-ai__parse_prd:\n     - projectRoot: ${PWD}\n     - input: \".taskmaster/docs/prd.md\"\n     - numTasks: Auto-calculated based on requirements count\n     - research: true (ALWAYS use research for better quality)\n     - append: false\n\n2. Immediately expand ALL tasks with research:\n   Use mcp__task-master-ai__expand_all:\n     - projectRoot: ${PWD}\n     - research: true (ALWAYS use research)\n     - force: false\n```\n\n#### If TASKMASTER_METHOD=\"CLI\":\n\n```bash\n# Combined operation:\ntaskmaster parse-prd --input .taskmaster/docs/prd.md --research --num-tasks auto && \\\ntaskmaster expand-all --research\n```\n\n**Result:**\n```\n‚úÖ Tasks Generated: 22 tasks from PRD\n‚úÖ Tasks Expanded: 94 subtasks created\n  - Phase 1: 5 tasks, 18 subtasks\n  - Phase 2: 6 tasks, 28 subtasks\n  - Phase 3: 5 tasks, 22 subtasks\n  - Phase 4: 4 tasks, 18 subtasks\n  - Phase 5: 2 tasks, 8 subtasks\n```\n\n---\n\n### Step 9: Insert User Testing Tasks (Every 5 Tasks)\n\n**CRITICAL NEW REQUIREMENT**: After tasks are expanded, insert user-facing testing tasks.\n\n**Logic:**\n```\nFor every 5 tasks:\n  - Insert a new task: \"USER-TEST-{N}\"\n  - Title: \"User Validation Checkpoint {N}\"\n  - Description: \"Manually test functionality from Tasks {start} to {end}\"\n\nExample:\n  - TASK-001 to TASK-005 ‚Üí Insert USER-TEST-1 after TASK-005\n  - TASK-006 to TASK-010 ‚Üí Insert USER-TEST-2 after TASK-010\n```\n\n**User Testing Task Template:**\n\n```markdown\n# USER-TEST-{N}: User Validation Checkpoint {N}\n\n## Purpose\nManual testing of functionality implemented in Tasks {start}-{end}\n\n## Prerequisites\nAll subtasks in Tasks {start}-{end} must be completed and merged to main branch.\n\n## Testing Checklist\n\n### Functionality Tests\n[For each requirement covered in these 5 tasks, add:]\n- [ ] Test Requirement REQ-{X}: [Description]\n  - Expected: [What should happen]\n  - Actual: [User fills in]\n\n### Integration Tests\n- [ ] Test integration between components\n- [ ] Verify no regressions in existing features\n\n### Performance Tests\n- [ ] Measure response time (should be < [target])\n- [ ] Test under expected load\n\n## Acceptance Criteria\n- ‚úÖ All functionality tests pass\n- ‚úÖ No critical bugs found\n- ‚úÖ Performance meets targets\n\n## If Tests Fail\n1. Document issue in .taskmaster/docs/progress.md\n2. Type \"issues\" and describe what failed\n3. I'll create fix tasks before proceeding\n4. Do NOT continue to next tasks until fixed\n\n## When Complete\nType \"passed\" to continue to next tasks.\n```\n\n**Implementation:**\n\n#### If TASKMASTER_METHOD=\"MCP\":\n```\nUse mcp__task-master-ai__add_task for each checkpoint:\n  - projectRoot: ${PWD}\n  - title: \"User Validation Checkpoint {N}\"\n  - description: \"Manually test functionality from Tasks {start} to {end}\"\n  - details: [Full testing checklist template above]\n  - dependencies: \"{end}\" (depends on last task in group)\n  - priority: \"high\"\n```\n\n#### If TASKMASTER_METHOD=\"CLI\":\n```bash\ntaskmaster add-task \\\n  --title=\"User Validation Checkpoint {N}\" \\\n  --description=\"Manual testing checkpoint\" \\\n  --dependencies=\"{end}\" \\\n  --priority=high\n```\n\n**Result:**\n```\n‚ú® Inserted user validation checkpoints:\n   ‚úÖ USER-TEST-1 (after Task 5)\n   ‚úÖ USER-TEST-2 (after Task 10)\n   ‚úÖ USER-TEST-3 (after Task 15)\n   ‚úÖ USER-TEST-4 (after Task 20)\n\nüìä Updated task count: 26 tasks (22 implementation + 4 user tests)\n```\n\n---\n\n### Step 10: Setup Tracking Scripts\n\nCreate automation scripts in `.taskmaster/scripts/`:\n\n**Scripts to Create:**\n\n1. **track-time.py** - Real datetime tracking with UTC timestamps\n2. **rollback.sh** - Git rollback to any task checkpoint\n3. **learn-accuracy.py** - Estimation accuracy learning\n4. **security-audit.py** - Auto-generate security checklist\n5. **execution-state.py** - Crash recovery state management\n\n**All scripts are included in this skill's implementation and will be auto-generated.**\n\nSee sections below for complete script implementations.\n\n---\n\n---\n\n### Step 11: Choose Next Action (Handoff vs Autonomous Execution)\n\n**CRITICAL CHOICE**: After PRD and tasks are ready, ask user how they want to proceed.\n\n**Use AskUserQuestion tool** to present two main options:\n\n```\nUse AskUserQuestion:\n\nquestions:\n  - question: \"Your PRD and tasks are ready. How would you like to proceed?\"\n    header: \"Next Action\"\n    multiSelect: false\n    options:\n      - label: \"Show TaskMaster Commands\"\n        description: \"Hand off to TaskMaster. I'll show you the commands to run tasks manually. Full control.\"\n\n      - label: \"Autonomous Execution\"\n        description: \"I'll execute tasks for you autonomously with 4 execution modes to choose from.\"\n```\n\n**Option A: Handoff to TaskMaster (DEFAULT)**\n\nIf user selects \"Show TaskMaster Commands\":\n\n```\n‚úÖ PRD Complete: .taskmaster/docs/prd.md\nüìã Tasks Ready: {X} tasks ({Y} subtasks)\nüìç Next checkpoint: {next USER-TEST}\n\nüöÄ TaskMaster Commands (Use these to work on tasks):\n\nSequential Execution:\n  taskmaster next-task        # Get next available task\n  taskmaster get-task {id}    # Work on specific task\n  taskmaster set-task-status {id} --status=done\n\nParallel Execution (for independent tasks):\n  taskmaster get-tasks --status=pending --with-subtasks\n  # Work on multiple tasks simultaneously\n\nProgress Tracking:\n  taskmaster get-tasks --with-subtasks    # See all tasks\n  python3 .taskmaster/scripts/track-time.py start {task_id}\n  python3 .taskmaster/scripts/track-time.py complete {task_id}\n\nQuality & Safety:\n  bash .taskmaster/scripts/rollback.sh {task_id}    # Rollback to checkpoint\n  python3 .taskmaster/scripts/security-audit.py     # Security check\n\nüìö Documentation:\n  - PRD: .taskmaster/docs/prd.md\n  - Tasks: .taskmaster/tasks/\n  - Progress: .taskmaster/docs/progress.md\n\nüí° Tip: Use TaskMaster MCP tools for the best experience!\n\nReady to start? Run: taskmaster next-task\n```\n\nThen EXIT the skill (skill complete).\n\n---\n\n**Option B: Autonomous Execution**\n\nIf user selects \"Autonomous Execution\":\n\nAsk follow-up question with 4 execution modes:\n\n```\nUse AskUserQuestion:\n\nquestions:\n  - question: \"Select autonomous execution mode:\"\n    header: \"Execution Mode\"\n    multiSelect: false\n    options:\n      - label: \"Sequential to Checkpoint\"\n        description: \"Work autonomously until next user test. Stops for validation. RECOMMENDED for quality control.\"\n\n      - label: \"Parallel to Checkpoint\"\n        description: \"Run independent tasks in parallel until next user test. Faster execution.\"\n\n      - label: \"Full Autonomous\"\n        description: \"Run ALL tasks in parallel without stopping. ‚ö†Ô∏è Skips user validation.\"\n\n      - label: \"Manual Control\"\n        description: \"You decide which tasks to run. Full control over execution.\"\n```\n\n**Execution Mode Details:**\n\n**Mode 1: Sequential to Checkpoint**\n- Executes tasks one-by-one until next USER-TEST\n- Stops for user validation\n- Best for quality control\n- RECOMMENDED for first-time features\n\n**Mode 2: Parallel to Checkpoint**\n- Executes independent tasks in parallel\n- Stops at next USER-TEST\n- Faster execution\n- Good for experienced users\n\n**Mode 3: Full Autonomous**\n- Runs ALL tasks in parallel without stopping\n- Auto-completes USER-TEST tasks\n- Fastest execution\n- WARNING: Skips manual validation\n\n**Mode 4: Manual Control**\n- User decides which tasks to run\n- Full control over execution\n- No autonomous execution\n\n**All execution modes include:**\n- Strict git branching policies (branch per task, sub-branch per subtask)\n- Commit checkpoints after every task\n- Progress logging to .taskmaster/docs/progress.md\n- Datetime tracking with track-time.py\n- Autonomous execution (no user input except at checkpoints)\n\n**After mode selected:**\n\n1. Store their selection\n2. Output the corresponding full execution prompt\n3. Recognize if user types \"begin\" or \"start\"\n4. Begin autonomous execution\n\n**Claude Recommendation:**\n\nBased on context, recommend the best option:\n- First-time feature OR critical system ‚Üí Mode 1 (Sequential)\n- Experienced user OR non-critical ‚Üí Mode 2 (Parallel)\n- Trusted implementation OR time-critical ‚Üí Mode 3 (Full)\n- Complex requirements OR learning ‚Üí Mode 4 (Manual)\n\nDisplay recommendation: \"‚≠ê Claude Recommends: Mode {N}\"\n\nSee full execution prompt templates in \"EXECUTION PROMPT TEMPLATES\" section below.\n\n---\n\n### Step 12: Present Final Summary\n\n**Summary depends on the path taken:**\n\n---\n\n**If Handoff to TaskMaster (Step 11 Option A):**\n\n```\n‚úÖ PRD COMPLETE\n\nüìÑ PRD Created: .taskmaster/docs/prd.md\n‚úÖ Taskmaster Initialized: Using {MCP/CLI}\nüìã Tasks Generated: {X} tasks ({Y} implementation + {Z} user tests)\nüîÑ Tasks Expanded: {N} subtasks\nüìä Scripts Created: .taskmaster/scripts/ (5 automation scripts)\n\nüìä Overview:\n  - Feature: {name}\n  - Complexity: {Simple/Medium/Complex}\n  - Estimated Effort: {X} tasks, ~{Y} hours\n  - Key Goal: {primary success metric}\n\nüéØ Key Requirements:\n  1. {Top functional requirement}\n  2. {Second functional requirement}\n  3. {Third functional requirement}\n\n‚ö†Ô∏è Quality Validation: {score}/60\n  ‚úÖ All 13 validation checks passed\n\nüìã Task Breakdown:\n  - Phase 1: {X} tasks\n  - Phase 2: {X} tasks\n  - Phase 3: {X} tasks\n  - Phase 4: {X} tasks\n\nüë§ User Testing Checkpoints:\n  - USER-TEST-1: After Task {N}\n  - USER-TEST-2: After Task {N}\n  - USER-TEST-3: After Task {N}\n\nüöÄ Next Steps:\n\nRun: taskmaster next-task\n\nOr use TaskMaster MCP tools to manage tasks.\n\nSee commands above for full TaskMaster usage.\n\n‚ú® PRD generation complete! Ready to build.\n```\n\nThen EXIT skill.\n\n---\n\n**If Autonomous Execution (Step 11 Option B):**\n\n```\n‚úÖ PRD COMPLETE - STARTING AUTONOMOUS EXECUTION\n\nüìÑ PRD: .taskmaster/docs/prd.md\n‚úÖ Taskmaster: Using {MCP/CLI}\nüìã Tasks: {X} tasks ({Y} implementation + {Z} user tests)\nüîÑ Subtasks: {N} subtasks\nüìä Scripts: Ready (.taskmaster/scripts/)\n\nüìä Overview:\n  - Feature: {name}\n  - Complexity: {Simple/Medium/Complex}\n  - Mode: {Selected execution mode}\n  - Next Checkpoint: {next USER-TEST}\n\n‚ö†Ô∏è Quality: {score}/60 ‚úÖ\n\nüöÄ Execution Starting!\n\nSelected: {execution mode name}\n\n[If Sequential/Parallel:]\nNext: Tasks {start}-{end} ‚Üí USER-TEST-{N}\nWorking autonomously until checkpoint...\n\n[If Full Autonomous:]\nAll {X} tasks will execute in parallel\nWorking autonomously until complete...\n\n[If Manual:]\nAwaiting your commands...\n\nType \"begin\" or \"start\" to execute!\n```\n\nThen PROCEED to autonomous execution using the selected mode's prompt template (see EXECUTION PROMPT TEMPLATES section).\n\n---\n\n## TOP 5 ENHANCEMENTS\n\n### Enhancement 1: Real DateTime Tracking (B2)\n\n**Script: `.taskmaster/scripts/track-time.py`**\n\nCreated automatically during Step 8.\n\n**Features:**\n- UTC timestamp tracking (start/end)\n- Precise duration calculation\n- JSON state persistence\n- CLI interface for easy use\n\n**Usage in Execution:**\n```bash\n# Before task starts:\npython3 .taskmaster/scripts/track-time.py start {task_id}\n\n# Before subtask starts:\npython3 .taskmaster/scripts/track-time.py start {task_id} {subtask_id}\n\n# After subtask completes:\npython3 .taskmaster/scripts/track-time.py complete {task_id} {subtask_id}\n\n# After task completes:\npython3 .taskmaster/scripts/track-time.py complete {task_id}\n```\n\n**Output:**\n```\nüìÖ Started: 2025-01-29 14:23:15 UTC\n[... work happens ...]\n‚úÖ COMPLETED\nüìÖ Ended: 2025-01-29 14:41:32 UTC\n‚è±Ô∏è  Actual: 18 min (18.3 min)\nüìä vs Estimate: 18 min - Within 2% ‚úÖ\n```\n\nSee TOP_5_ADDITIONS.md for complete script code.\n\n---\n\n### Enhancement 2: Instant Rollback Command (A1)\n\n**Script: `.taskmaster/scripts/rollback.sh`**\n\n**Trigger:** User types \"rollback to task X\" at ANY time during execution\n\n**Features:**\n- Revert to any checkpoint tag\n- Backup current state before rollback\n- Update progress.md with rollback note\n- Safety confirmation before destructive action\n\n**Usage:**\n```\nUSER: rollback to task 3\n\nCLAUDE:\nüîÑ Initiating rollback to Task 3...\n\n‚ö†Ô∏è  This will:\n  - Discard all changes after Task 3\n  - Reset to checkpoint-task-003\n  - Preserve current work in rollback-backup-{timestamp}\n\nType \"yes\" to confirm.\n\nUSER: yes\n\nCLAUDE:\nüíæ Backed up to: rollback-backup-20250129-143045\n‚úÖ Rolled back to Task 3\nüìù Updated progress.md\n\nWhat next?\n  1. Resume from here\n  2. Redo Task 3\n  3. Skip to different task\n  4. Manual control\n\nType: 1, 2, 3, or 4\n```\n\nSee TOP_5_ADDITIONS.md for complete script code.\n\n---\n\n### Enhancement 3: Accuracy Learning System (B3)\n\n**Script: `.taskmaster/scripts/learn-accuracy.py`**\n\n**Trigger:** After every 10 completed tasks (at USER-TEST checkpoints)\n\n**Features:**\n- Tracks estimated vs actual time\n- Calculates average accuracy percentage\n- Generates adjustment factor\n- Recommends estimate adjustments\n\n**Usage:**\n```\nAfter USER-TEST-2 passes:\n\nüìä Running estimation accuracy analysis...\n\nTasks Analyzed: 10\nAverage Accuracy: 123%\nAdjustment Factor: 1.23x\n\nRecent Tasks:\n  Task 6:  45min (est: 30min) - 150% ‚ö†Ô∏è\n  Task 7:  22min (est: 25min) - 88% ‚úÖ\n  Task 8:  38min (est: 35min) - 109% ‚úÖ\n  Task 9:  67min (est: 45min) - 149% ‚ö†Ô∏è\n  Task 10: 28min (est: 20min) - 140% ‚ö†Ô∏è\n\n‚ö†Ô∏è  You're taking 23% longer than estimated.\n\nApply adjustment to remaining tasks?\n  1. Yes, increase all future estimates by 23%\n  2. No, keep current estimates\n  3. Manually review\n\nType: 1, 2, or 3\n```\n\nSee TOP_5_ADDITIONS.md for complete script code.\n\n---\n\n### Enhancement 4: Security Audit Checklist (D2)\n\n**Script: `.taskmaster/scripts/security-audit.py`**\n\n**Trigger:** Before final USER-TEST checkpoint\n\n**Features:**\n- Scans codebase for security-relevant patterns\n- Auto-generates checklist based on detected features\n- Includes standard security checks\n- Offers automated security scans\n\n**Usage:**\n```\nBefore USER-TEST-4 (final checkpoint):\n\nüîí Generating security audit checklist...\n\n### Authentication\n- [ ] Passwords hashed with bcrypt (cost ‚â• 10)\n- [ ] Session tokens cryptographically secure\n\n### OAuth\n- [ ] OAuth tokens encrypted at rest\n- [ ] OAuth state parameter prevents CSRF\n\n### Database\n- [ ] All queries use parameterized statements\n- [ ] No SQL injection vulnerabilities\n\n### General Security\n- [ ] HTTPS enforced in production\n- [ ] CSRF protection enabled\n- [ ] Rate limiting on auth endpoints\n- [ ] Security headers set (CSP, X-Frame-Options)\n\nRun automated scans?\n  1. Yes, run npm audit + recommended scans\n  2. Manual review only\n  3. Skip for now\n\nType: 1, 2, or 3\n```\n\nSee TOP_5_ADDITIONS.md for complete script code.\n\n---\n\n### Enhancement 5: Auto-Resume After Crash (A2)\n\n**Script: `.taskmaster/scripts/execution-state.py`**\n\n**Trigger:** At Step 0 (before anything else) if previous session crashed\n\n**Features:**\n- Persistent execution state tracking\n- Detects incomplete work\n- Offers resume points\n- Continues where crashed\n\n**Usage:**\n```\n[Claude crashes mid-task]\n[User restarts 10 minutes later]\n\nUSER: continue\n\nCLAUDE:\nüîç Checking for incomplete work...\n\nFound it!\n\nüìç Last Activity:\n  - Mode: Sequential to Checkpoint\n  - Task: TASK-007 (OAuth callback handler)\n  - Subtask: 3/5 (Handle error responses)\n  - Last updated: 2025-01-29 16:45:23 UTC (10 min ago)\n  - Completed: Tasks 1-6 ‚úÖ\n\nResume from:\n  1. Last subtask (continue TASK-007 subtask 3)\n  2. Restart current task (redo TASK-007)\n  3. Last checkpoint (restart from TASK-006)\n  4. Start fresh\n\nType: 1, 2, 3, or 4\n```\n\nSee TOP_5_ADDITIONS.md for complete script code.\n\n---\n\n## EXECUTION PROMPT TEMPLATES\n\n### Template 1: Sequential to Checkpoint\n\n```\nExecute tasks sequentially from {current_task} until USER-TEST-{N}.\n\nDATETIME TRACKING:\nBefore each task:\n  python3 .taskmaster/scripts/track-time.py start {task_id}\nBefore each subtask:\n  python3 .taskmaster/scripts/track-time.py start {task_id} {subtask_id}\nAfter each subtask:\n  python3 .taskmaster/scripts/track-time.py complete {task_id} {subtask_id}\nAfter each task:\n  python3 .taskmaster/scripts/track-time.py complete {task_id}\n\nSTRICT GIT POLICY:\n1. When starting a task:\n   - Create feature branch: git checkout -b task-{id}-{slug}\n\n2. For each subtask:\n   - Create sub-branch: git checkout -b task-{id}-subtask-{n}\n   - Complete subtask implementation\n   - Run tests\n   - Commit: git commit -m \"Complete task-{id} subtask-{n}: [description]\n\nü§ñ Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\"\n   - Merge to task branch: git checkout task-{id}-{slug} && git merge task-{id}-subtask-{n}\n   - Delete sub-branch: git branch -d task-{id}-subtask-{n}\n\n3. When task complete:\n   - Verify ALL subtasks merged\n   - Merge to main: git checkout main && git merge task-{id}-{slug}\n   - Create checkpoint tag: git tag -a checkpoint-task-{id} -m \"Completed task {id}\"\n   - Delete feature branch: git branch -d task-{id}-{slug}\n\nPROGRESS LOGGING:\nAfter EVERY task completion, append to .taskmaster/docs/progress.md:\n\n## Task {id}: {title} - COMPLETED\n**Completed**: {timestamp}\n**Duration**: {actual_minutes} min (estimated: {estimated_minutes} min)\n**Subtasks**: {n} completed\n**Tests**: {pass/fail}\n**Issues**: {any issues encountered}\n**Git**: Merged to main, tagged as checkpoint-task-{id}\n\nAUTONOMOUS EXECUTION RULES:\n- Do NOT ask user for input unless critical error\n- If task fails tests: retry once, then log and skip\n- If dependency missing: log and skip\n- Continue until USER-TEST-{N} reached\n- Update execution state after each task\n\nROLLBACK SUPPORT:\nIf user types \"rollback to task X\" at ANY TIME:\n  1. STOP current work immediately\n  2. Run: bash .taskmaster/scripts/rollback.sh X\n  3. Wait for user confirmation\n  4. Resume as user directs\n\nWHEN COMPLETE:\nStop and report:\n\"‚úÖ Tasks {start}-{end} completed\nüìã Next: USER-TEST-{N} - User validation required\nüìù Progress: .taskmaster/docs/progress.md\nüå≥ Git: All tasks merged with checkpoints\"\n```\n\n---\n\n### Template 2: Parallel to Checkpoint\n\nSimilar to Template 1 but with:\n- Launch up to 3 concurrent tasks\n- Handle merge conflicts automatically\n- Wait for dependencies before starting dependent tasks\n- All tasks still follow git policy (branch per task)\n\n---\n\n### Template 3: Full Autonomous\n\nSimilar to Template 2 but:\n- No stops for USER-TEST (auto-completes them)\n- Maximum parallelization (up to 5 concurrent)\n- Runs automated tests for USER-TEST tasks\n- Only stops when ALL tasks complete\n\n---\n\n### Template 4: Manual Control\n\n```\nAwaiting user commands:\n- \"next task\" - Get next task\n- \"task {id}\" - Work on specific task\n- \"status\" - Show progress\n- \"parallel {id1,id2}\" - Run specific tasks in parallel\n\nGit policies enforced.\nProgress logged to progress.md.\nDatetime tracking active.\n```\n\n---\n\n## Reference\n\nFor complete script implementations, see:\n- TOP_5_ADDITIONS.md (all 5 automation scripts)\n- USER_EXPERIENCE_EXAMPLE.md (user flow walkthrough)\n- CHANGES_SUMMARY.md (what changed from v1)\n\n## Tips for Best Results\n\n**Understand the Workflow:**\n- This skill PRIMARILY generates PRDs (with optional execution)\n- If you already have a PRD, the skill will detect it and offer options\n- Default behavior: Generate PRD ‚Üí Hand off to TaskMaster\n- Optional: Choose autonomous execution after PRD is ready\n\n**Provide Context Upfront:**\n- More detail in discovery ‚Üí Better PRD\n- Share constraints, dependencies, assumptions\n- Mention existing systems to integrate with\n\n**Be Specific About Success:**\n- Quantify goals (not \"improve UX\" but \"increase NPS from 45 to 60\")\n- Define what \"done\" looks like\n- Specify how you'll measure success\n\n**Choose the Right Path:**\n- **Handoff to TaskMaster** (Default): Best if you want full control\n- **Autonomous Execution**: Best if you trust the process and want speed\n  - Sequential to Checkpoint: Quality-focused, stops for validation\n  - Parallel to Checkpoint: Faster, stops at checkpoints\n  - Full Autonomous: Maximum speed, skips validation\n  - Manual Control: You decide every step\n\n**If Using Existing PRD:**\n- Option 1: Execute tasks (pick up where you left off)\n- Option 2: Update PRD (add new requirements)\n- Option 3: Replace PRD (start fresh, old PRD backed up)\n- Option 4: Review PRD (just read it)\n\n**Leverage Automation (if using autonomous execution):**\n- Use datetime tracking to improve estimates\n- Use rollback if you need to undo work\n- Let accuracy learning adjust your estimates\n- Review security audit before deployment\n\n**Trust the Process:**\n- USER-TEST checkpoints catch issues early\n- Git checkpoints allow easy rollback\n- Progress.md shows exactly what happened\n- TaskMaster integration ensures smooth workflow\n\n---\n\n**Remember**: A comprehensive PRD with automated quality control and TaskMaster integration is the foundation of successful implementation. This skill focuses on creating that foundation. Execution is optional - you can always hand off to TaskMaster for more control.\n\n",
  "installCommand": "git clone https://github.com/anombyte93/prd-taskmaster ~/.claude/skills/prd-taskmaster",
  "defaultBranch": "master",
  "hasMarketplaceJson": false,
  "skillPath": "SKILL.md"
}