{
  "id": "4a21971aa19537a3",
  "slug": "map-framework",
  "name": "Map Framework",
  "description": "",
  "author": "azalio",
  "authorAvatar": "https://avatars.githubusercontent.com/u/1963324?v=4",
  "repoUrl": "https://github.com/azalio/map-framework",
  "repoFullName": "azalio/map-framework",
  "stars": 6,
  "forks": 0,
  "category": "other",
  "categories": [
    "other"
  ],
  "tags": [],
  "tier": 3,
  "status": "active",
  "createdAt": "2025-10-06T18:53:34Z",
  "updatedAt": "2025-12-18T18:35:20Z",
  "lastCommitAt": "2025-12-18T21:04:24Z",
  "source": "github-search",
  "collectedAt": "2025-12-19T03:45:03.359Z",
  "authorUrl": "https://github.com/azalio",
  "license": null,
  "readme": "# MAP Framework for Claude Code\n\nImplementation of **Modular Agentic Planner (MAP)** ‚Äî a cognitive architecture for AI agents inspired by prefrontal cortex functions. Orchestrates 10 specialized agents for development with automatic quality validation.\n\n> **Based on:** [Nature Communications research (2025)](https://github.com/Shanka123/MAP) ‚Äî 74% improvement in planning tasks\n> **Enhanced with:** [ACE (Agentic Context Engineering)](https://arxiv.org/abs/2510.04618v1) ‚Äî continuous learning from experience\n\n## üìñ Documentation Structure\n\n- **README** (this file) - Quick start and overview\n- **[INSTALL.md](docs/INSTALL.md)** - Complete installation guide with PATH setup and troubleshooting\n- **[ARCHITECTURE.md](docs/ARCHITECTURE.md)** - Technical deep dive, customization, and MCP integration\n- **[USAGE.md](docs/USAGE.md)** - Practical examples, best practices, cost optimization, and dependency validation\n\n## üöÄ Quick Start\n\n### Inside Claude Code (Recommended)\n\n```bash\n# ‚≠ê RECOMMENDED: Efficient workflow (40-50% token savings)\n/map-efficient implement user profile page with avatar upload\n\n# Debugging\n/map-debug fix the API 500 error on login endpoint\n\n# ‚ö†Ô∏è Fast workflow (40-50% savings, NO learning - throwaway code only)\n/map-fast prototype a quick API endpoint mockup\n\n# üìö Optional: Preserve learnings from any workflow\n/map-learn [paste workflow summary to extract patterns]\n\n# üì¶ Release workflow (for package maintainers)\n/map-release patch  # or: minor, major\n```\n\n### Command Line Usage\n\nMAP Framework works exclusively through slash commands in Claude Code:\n\n```bash\n# Start Claude Code in your project directory\ncd your-project\nclaude\n\n# Use slash commands inside Claude Code\n/map-efficient implement user authentication with JWT tokens\n```\n\n**Note:** Direct `claude --agents` syntax is not applicable to MAP Framework, as the orchestration logic is implemented in slash command prompts (`.claude/commands/map-*.md`), not as a separate agent file.\n\n## üì¶ Installation\n\n### Stable Release (Recommended)\n\n```bash\n# Using pip\npip install mapify-cli\n\n# OR using UV (recommended for isolated tools)\nuv tool install mapify-cli\n\n# Verify installation\nmapify --version\n\n# Initialize in your project\ncd your-project\nmapify init\n\n# Available commands\nmapify --help                     # Show all available commands\nmapify validate graph <file>      # Validate task dependency graphs\nmapify playbook search <query>    # Search playbook patterns\n```\n\n**Version Pinning:**\n```bash\n# Install specific version\npip install mapify-cli==1.0.0\n\n# Install with version constraints (semantic versioning: MAJOR.MINOR.PATCH)\npip install \"mapify-cli>=1.0.0,<2.0.0\"  # Allow 1.x versions, exclude 2.0.0+\n```\n\n**Version Information:**\n- Check installed version: `mapify --version`\n- [PyPI releases](https://pypi.org/project/mapify-cli/) - Available versions and package details\n- [GitHub releases](https://github.com/azalio/map-framework/releases) - Changelog and release notes\n\n### Development Installation\n\nFor contributors or testing bleeding-edge features:\n\n```bash\n# Install from git repository\nuv tool install --from git+https://github.com/azalio/map-framework.git mapify-cli\n\n# OR clone and install locally\ngit clone https://github.com/azalio/map-framework.git\ncd map-framework\npip install -e .\n```\n\n**Other installation methods** (manual copy, troubleshooting): See [INSTALL.md](docs/INSTALL.md)\n\n**For maintainers**: Release process documented in [RELEASING.md](RELEASING.md)\n\n## üîÄ Workflow Variants\n\nMAP Framework offers workflow variants optimized for different scenarios:\n\n| Command | Token Usage | Learning | Quality Gates | Best For |\n|---------|-------------|----------|---------------|----------|\n| **`/map-efficient`** ‚≠ê | **50-60%** | Optional via `/map-learn` | ‚úÖ Essential agents | **RECOMMENDED: Most production tasks** |\n| **`/map-debug`** | 50-60% | Optional via `/map-learn` | ‚úÖ Essential agents | Bug fixes and debugging |\n| **`/map-fast`** ‚ö†Ô∏è | 40-50% | ‚ùå None | ‚ö†Ô∏è Basic only | Throwaway prototypes, experiments (NOT production) |\n| **`/map-learn`** | ~5-8K tokens | ‚úÖ Full | Reflector + Curator | Capture patterns after any workflow |\n| **`/map-release`** | Variable | Optional via `/map-learn` | 12 validation gates | Package releases |\n\n### Which Workflow Should You Use?\n\n**Use `/map-efficient` (RECOMMENDED) when:**\n- ‚úÖ Building production features where token costs matter\n- ‚úÖ Well-understood tasks with low to medium risk\n- ‚úÖ Iterative development with frequent workflows\n- ‚úÖ Run `/map-learn` afterward if you want to preserve patterns\n\n**Use `/map-debug` when:**\n- üîß Fixing bugs or investigating errors\n- üîß Root cause analysis needed\n- üîß Systematic debugging approach required\n\n**Use `/map-fast` (minimal) ONLY when:**\n- üóëÔ∏è Creating throwaway prototypes you'll discard\n- üóëÔ∏è Quick experiments where quality doesn't matter\n- üóëÔ∏è Learning/tutorial contexts where failure is acceptable\n- ‚ö†Ô∏è **NEVER for production code** - no learning, quality risks\n\n**Use `/map-learn` after any workflow:**\n- üìö To preserve valuable patterns discovered during work\n- üìö When implementation approach could help future tasks\n- üìö To update playbook and cross-project cipher knowledge\n\n### üéØ Auto-Activation System\n\n**Don't remember which workflow to use?** MAP automatically suggests the right workflow based on your request!\n\nJust describe your task naturally - no need to remember slash commands:\n\n| Your Request | MAP Suggests | Why |\n|--------------|--------------|-----|\n| \"Fix the failing tests\" | `/map-debug` | Keywords: fix, failing test |\n| \"Implement user login\" | `/map-efficient` | Keywords: implement, feature |\n| \"Optimize database queries\" | `/map-efficient` | Keywords: optimize |\n| \"Quick prototype for testing\" | `/map-fast` | Keywords: quick, prototype |\n| \"Save patterns from last task\" | `/map-learn` | Keywords: save, patterns, learn |\n\n**How it works:**\n1. Start typing your request normally\n2. MAP analyzes keywords and intent patterns\n3. Suggests the most appropriate workflow\n4. You can accept the suggestion or proceed with your request\n\n**Customization:**\nEdit `.claude/workflow-rules.json` to add project-specific trigger words and patterns.\n\n\n### Key Differences\n\n**`/map-efficient` optimizations:**\n- **Conditional Predictor**: Only called for high-risk tasks (security, breaking changes)\n- **Evaluator Skipped**: Monitor provides sufficient validation for most tasks\n- **Learning Optional**: Run `/map-learn` separately to capture patterns\n- **Result**: 40-50% token savings with essential quality gates\n\n**`/map-fast` limitations:**\n- ‚ùå No impact analysis (Predictor skipped)\n- ‚ùå No quality scoring (Evaluator skipped)\n- ‚ùå No learning (Reflector/Curator skipped)\n- üí° Can add learning retroactively via `/map-learn`\n\n**`/map-learn` benefits:**\n- ‚úÖ Calls Reflector to extract patterns from workflow\n- ‚úÖ Calls Curator to update playbook\n- ‚úÖ Syncs high-quality bullets to cipher (cross-project knowledge)\n- ‚úÖ Run after any workflow when patterns are worth preserving\n\n**See [USAGE.md](docs/USAGE.md#workflow-variants) for detailed decision guide and real-world token usage examples.**\n\n## üìö Skills System\n\nMAP includes interactive skills that provide specialized guidance:\n\n**map-workflows-guide** - Helps you choose the right workflow\n\n**Auto-suggested when you ask:**\n- \"Which workflow should I use?\"\n- \"What's the difference between workflows?\"\n- \"When to use /map-efficient vs /map-fast?\"\n\n**What you get:**\n- Quick decision tree (5 questions ‚Üí recommended workflow)\n- Comparison matrix (token cost, learning, agents, use cases)\n- 8 detailed resource guides (progressive disclosure)\n\n**Skills vs Agents:**\n- **Skills** = Passive documentation (guidance)\n- **Agents** = Active execution (code generation)\n\n**See [docs/USAGE.md](docs/USAGE.md#skills-system) for full details.**\n\n## Requirements\n\n- **Claude Code CLI** ‚Äî installed and configured\n- **Python 3.11+** ‚Äî for mapify CLI (optional)\n- **Git** ‚Äî for cloning repository\n\n## üèóÔ∏è Architecture\n\nMAP Framework orchestrates 10 specialized agents through slash commands:\n\n- **TaskDecomposer** breaks goals into subtasks\n- **Actor** generates code, **Monitor** validates quality\n- **Predictor** analyzes impact, **Evaluator** scores solutions\n- **Reflector/Curator** enable continuous learning via ACE playbook\n\nThe orchestration logic lives in `.claude/commands/map-*.md` prompts, coordinating agents via the Task tool.\n\n**See [ARCHITECTURE.md](docs/ARCHITECTURE.md) for:**\n- Detailed agent specifications and responsibilities\n- MCP integration architecture and tool usage patterns\n- Agent coordination protocol and workflow stages\n- Template customization guide with examples\n- Hooks integration (automated validation, knowledge storage, context enrichment)\n- Context engineering principles and optimizations\n\n## üîå MCP Integration\n\nMAP uses MCP (Model Context Protocol) servers for enhanced capabilities:\n\n- **cipher** - Knowledge base for storing and retrieving successful patterns\n- **claude-reviewer** - Professional code review with security analysis\n- **context7** - Up-to-date library documentation\n- **sequential-thinking** - Chain-of-thought reasoning for complex problems\n- **deepwiki** - GitHub repository intelligence\n\nDuring `mapify init`, two configuration files are created:\n- **`.mcp.json`** - Project-level Claude Code MCP server registration (standard format)\n- **`.claude/mcp_config.json`** - Internal MAP Framework agent-to-MCP mappings\n\nIf `.mcp.json` already exists, `mapify init` will merge new servers without overwriting your existing configuration.\n\n**See [ARCHITECTURE.md](docs/ARCHITECTURE.md#mcp-integration) for complete setup and usage patterns**\n\n## üìö Usage Examples\n\n```bash\n# Feature development (recommended)\n/map-efficient implement user profile page with avatar upload\n\n# Bug fixing\n/map-debug debug why payment processing fails for amounts over $1000\n\n# After completing work, optionally preserve learnings\n/map-learn Implemented user profile with avatar. Files: profile.py, upload.py.\n           Used pre-signed S3 URLs. Iterations: 2.\n```\n\n**See [USAGE.md](docs/USAGE.md) for:**\n- Comprehensive usage examples with detailed scenarios\n- Best practices for optimal results\n- Cost optimization strategies (40-60% savings)\n- Playbook management commands\n\n## üéì ACE Playbook\n\nBuilt-in learning system that improves when you run `/map-learn`:\n\n- **Reflector** extracts patterns from successes and failures\n- **Curator** maintains structured knowledge base with quality tracking\n- **Semantic search** (optional) finds patterns by meaning, not keywords\n- **Dependency validation** ensures valid task graphs before execution\n- High-quality patterns sync to cipher for cross-project reuse\n\n**Note:** Learning is optional and triggered via `/map-learn` command after workflows.\n\n### Playbook Commands\n\n```bash\n# View statistics\nmapify playbook stats\n\n# Search patterns\nmapify playbook search \"JWT authentication\"\n\n# View high-quality patterns\nmapify playbook sync\n\n# Validate task dependencies with visualization\npython scripts/validate-dependencies.py decomposer-output.json --visualize\n```\n\n**Optional semantic search**: `pip install -r requirements-semantic.txt` for meaning-based matching. Details in [SEMANTIC_SEARCH_SETUP.md](docs/SEMANTIC_SEARCH_SETUP.md) and [ARCHITECTURE.md](docs/ARCHITECTURE.md#semantic-search).\n\n**Playbook configuration**: See [ARCHITECTURE.md](docs/ARCHITECTURE.md#playbook-configuration) for top_k settings and optimization.\n\n**Dependency validation**: See [USAGE.md](docs/USAGE.md#dependency-validation) for comprehensive guide on validating TaskDecomposer output, including cycle detection, visualization, and CI/CD integration.\n\n## üí∞ Cost Optimization\n\nMAP Framework uses intelligent model selection per agent:\n\n- **Predictor & Evaluator** use **haiku** (fast analysis) ‚Üí ‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è cost\n- **Actor, Monitor, Reflector, Curator** use **sonnet** (quality-critical) ‚Üí balanced cost\n\n**Result:** 40-60% cost reduction vs all-sonnet while maintaining code quality.\n\n**See [USAGE.md](docs/USAGE.md#cost-optimization) for detailed cost breakdown and model override strategies**\n\n## üîó Hooks Integration\n\nMAP integrates with Claude Code hooks for automated validation, knowledge storage, and context enrichment. Active hooks protect template variables, auto-store successful patterns, enrich prompts with relevant knowledge, and track performance metrics.\n\n**See [ARCHITECTURE.md](docs/ARCHITECTURE.md#hooks-integration) and [.claude/hooks/README.md](.claude/hooks/README.md) for configuration**\n\n## üõ†Ô∏è Troubleshooting\n\n### Command Not Found\n\n```\nError: Slash command not recognized\n```\n\n**Solution:**\n- Ensure you're in a directory with `.claude/commands/` containing `map-*.md` files\n- Available commands: `/map-efficient`, `/map-debug`, `/map-fast`, `/map-learn`, `/map-release`\n- Run `/help` to see available commands\n\n### Agent Not Found\n\n```\nError: Agent file not found\n```\n\n**Solution:** Ensure `.claude/agents/` directory contains all 8 agent files (task-decomposer.md, actor.md, monitor.md, predictor.md, evaluator.md, reflector.md, curator.md, documentation-reviewer.md)\n\n### Semantic Search Warning\n\n```\nWarning: sentence-transformers not installed\n```\n\n**Solution:** `pip install -r requirements-semantic.txt`\nSee [SEMANTIC_SEARCH_SETUP.md](docs/SEMANTIC_SEARCH_SETUP.md) for detailed troubleshooting\n\n### Infinite Loops\n\n```\nActor-Monitor loop exceeding iterations\n```\n\n**Solution:** Orchestrator limits iterations to 3-5. Clarify requirements or add constraints.\n\n**More troubleshooting**: See [INSTALL.md](docs/INSTALL.md#troubleshooting) for PATH issues, MCP configuration, and installation problems\n\n## üîß Customization\n\nAgent prompts in `.claude/agents/*.md` use Handlebars template syntax for dynamic context injection. You can safely modify instructions, examples, and validation criteria, but **MUST NOT remove template variables** like `{{language}}`, `{{#if playbook_bullets}}`, or `{{feedback}}` ‚Äî these are critical for orchestration and ACE learning.\n\n**See [ARCHITECTURE.md](docs/ARCHITECTURE.md#customization-guide) for:**\n- Safe vs unsafe modifications with examples\n- Template variable reference\n- Model selection per agent\n- Adding custom agents\n- Template validation and git hooks\n\n## üìä Success Metrics\n\n- **Monitor approval rate:** >80% first try\n- **Evaluator scores:** average >7.0/10\n- **Iteration count:** <3 per subtask\n- **Playbook growth:** increasing high-quality patterns\n\n## ü§ù Contributing\n\nImprovements welcome:\n- Prompts for specific languages/frameworks\n- New specialized agents\n- CI/CD integrations\n- Success story examples\n- Plugin extensions for MAP Framework\n\n## üìÑ License\n\nMIT License ‚Äî see LICENSE file for details\n\n## üîó References\n\n- [MAP Paper - Nature Communications](https://github.com/Shanka123/MAP)\n- [ACE Paper - arXiv:2510.04618v1](https://arxiv.org/abs/2510.04618v1)\n- [Claude Code Documentation](https://docs.anthropic.com/en/docs/claude-code)\n\n---\n\n**MAP is not just automation ‚Äî it's systematic quality improvement through structured validation and iterative refinement.**\n",
  "installCommand": "git clone https://github.com/azalio/map-framework ~/.claude/skills/map-framework",
  "defaultBranch": "main",
  "hasMarketplaceJson": false,
  "skillPath": "README.md"
}