{
  "id": "14ea4bee28824d23",
  "slug": "savecontext",
  "name": "Savecontext",
  "description": "MCP server for persistent context management across AI coding sessions.",
  "author": "greenfieldlabs-inc",
  "authorAvatar": "https://avatars.githubusercontent.com/u/211052181?v=4",
  "repoUrl": "https://github.com/greenfieldlabs-inc/savecontext",
  "repoFullName": "greenfieldlabs-inc/savecontext",
  "stars": 9,
  "forks": 1,
  "category": "ai-ml",
  "categories": [
    "ai-ml"
  ],
  "tags": [],
  "tier": 3,
  "status": "active",
  "createdAt": "2025-11-02T21:00:51Z",
  "updatedAt": "2025-12-17T19:05:40Z",
  "lastCommitAt": "2025-12-17T19:05:34Z",
  "source": "github-search",
  "collectedAt": "2025-12-18T03:29:18.677Z",
  "authorUrl": "https://github.com/greenfieldlabs-inc",
  "license": "MIT",
  "readme": "![SaveContext](https://pub-4304173ae3f74a77852a77192ab0b3e3.r2.dev/cover.png)\n<div align=\"center\">\n\n# SaveContext\n\n**Persistent context management for AI coding sessions**\n\n[![npm version](https://img.shields.io/npm/v/@savecontext/mcp?color=brightgreen)](https://www.npmjs.com/package/@savecontext/mcp)\n[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](https://opensource.org/licenses/MIT)\n[![MCP](https://img.shields.io/badge/MCP-Compatible-orange)](https://modelcontextprotocol.io)\n\n[Website](https://savecontext.dev) • [NPM](https://www.npmjs.com/package/@savecontext/mcp) • [Changelog](https://savecontext.dev/changelog)\n\n</div>\n\n---\n\n## Overview\n\nSaveContext is a Model Context Protocol (MCP) server that provides stateful session management for AI coding assistants. It solves the problem of context loss when switching between AI tools or when conversations exceed token limits by maintaining persistent storage of decisions, tasks, and session state with checkpoint/restore capabilities.\n\n## Features\n\n- **Multi-Agent Support**: Run multiple CLI/IDE instances simultaneously with agent-scoped session tracking\n- **Automatic Provider Detection**: Detects 30 MCP clients including coding tools (Claude Code, Cursor, Cline, VS Code, JetBrains, etc.) and desktop apps (Claude Desktop, Perplexity, ChatGPT, Raycast, etc.)\n- **Session Lifecycle Management**: Full session state management with pause, resume, end, switch, and delete operations\n- **Multi-Path Sessions**: Sessions can span multiple related directories (monorepos, frontend/backend, etc.)\n- **Project Isolation**: Automatically filters sessions by project path - only see sessions from your current repository\n- **Auto-Resume**: If an active session exists for your project, automatically resume it instead of creating duplicates\n- **Session Management**: Organize work by sessions with automatic channel detection from git branches\n- **Checkpoints**: Create named snapshots of session state with optional git status capture\n- **Checkpoint Search**: Lightweight keyword search across all checkpoints with project/session filtering to find historical decisions\n- **Smart Compaction**: Analyze priority items and generate restoration summaries when approaching context limits\n- **Channel System**: Automatically derive channels from git branches (e.g., `feature/auth` → `feature-auth`)\n- **Local Storage**: SQLite database with WAL mode for fast, reliable persistence\n- **Cross-Tool Compatible**: Works with any MCP-compatible client (Claude Code, Cursor, Factory, Codex, Cline, etc.)\n\n## Installation\n\n### Using npm (Recommended)\n\n```bash\nnpm install -g @savecontext/mcp\n```\n\n### Using npx (No installation)\n\n```bash\nnpx -y @savecontext/mcp\n```\n\n### From source (Development)\n\n```bash\ngit clone https://github.com/greenfieldlabs-inc/savecontext.git\ncd savecontext/server\npnpm install\npnpm build\n```\n\n---\n\n## Quick Start (Cloud)\n\nGet started with SaveContext Cloud in under a minute:\n\n```bash\n# 1. Install the package\nnpm install -g @savecontext/mcp\n\n# 2. Authenticate with SaveContext Cloud\nsavecontext-auth login\n\n# 3. Copy the MCP config (auto-copied to clipboard) and add to your AI tool\n```\n\nThe CLI opens your browser for OAuth (GitHub or Google), then displays your MCP configuration ready to paste.\n\n**Free tier included** - Start with generous limits, upgrade for higher usage. [View plans](https://savecontext.dev)\n\n---\n\n## Claude Code Status Line\n\n**Never lose track of your session** - See real-time session info directly in Claude Code's status bar.\n\n![Claude Code Status Line](https://pub-4304173ae3f74a77852a77192ab0b3e3.r2.dev/claude-statusline.png)\n\n### What You See\n\n| Metric | Description |\n|--------|-------------|\n| **Session Name** | Your current SaveContext session |\n| **Context** | Token count + visual progress bar + percentage |\n| **Cost** | Running cost for this Claude Code session |\n| **Duration** | How long the session has been active |\n| **Lines** | Net lines changed (+/-) |\n\n### Setup\n\n```bash\nnpx @savecontext/mcp@latest --setup-statusline\n```\n\nThen restart Claude Code. That's it.\n\n### How It Works\n\n1. **PostToolUse Hook**: A Claude Code hook intercepts SaveContext MCP tool responses and writes session info to a local cache file (`~/.savecontext/status-cache/<key>.json`)\n2. **Status Script**: Claude Code runs the status line script on each prompt, which reads the cache and parses your transcript for context usage\n3. **Terminal Isolation**: Each terminal instance gets its own cache key, so multiple Claude Code windows show their own sessions without overlap\n\n### Cross-Platform Support\n\nThe statusline scripts automatically detect your platform and terminal to generate a unique session key:\n\n| Platform | Detection Method | Example Key |\n|----------|------------------|-------------|\n| **Windows Terminal** | `WT_SESSION` env var | `wt-abc123-def` |\n| **ConEmu/Cmder** | `ConEmuPID` env var | `conemu-12345` |\n| **Windows CMD/PS** | `SESSIONNAME` + PPID | `win-Console-1234` |\n| **WSL** | Kernel contains \"microsoft\" | `wt-*` or `wslpid-*` |\n| **macOS Terminal.app** | `TERM_SESSION_ID` | `term-abc123` |\n| **iTerm2** | `ITERM_SESSION_ID` | `iterm-xyz789` |\n| **GNOME Terminal** | `GNOME_TERMINAL_SERVICE` | `gnome-12345` |\n| **Konsole** | `KONSOLE_DBUS_SESSION` | `konsole-12345` |\n| **Kitty** | `KITTY_PID` | `kitty-12345` |\n| **Tilix** | `TILIX_ID` | `tilix-session-1` |\n| **Alacritty** | `ALACRITTY_SOCKET` | `alacritty-12345` |\n| **TTY (SSH, etc.)** | `ps -o tty=` command | `tty-pts_0` |\n| **Fallback** | Parent process ID | `linuxpid-*`, `macpid-*`, `winpid-*` |\n\n**Manual Override**: Set `SAVECONTEXT_STATUS_KEY` environment variable to use a custom key:\n```bash\nexport SAVECONTEXT_STATUS_KEY=\"my-custom-session\"\n```\n\n### Troubleshooting\n\nIf the statusline doesn't work after setup:\n\n1. **Check Python is installed**: The scripts require Python 3.x\n   - Windows: Install from [python.org](https://python.org) or run `winget install Python.Python.3`\n   - macOS: Run `brew install python3` or use system Python\n   - Linux: Run `apt install python3` or equivalent\n\n2. **Verify scripts are installed**: Check `~/.savecontext/` contains:\n   - `statusline.py`\n   - `hooks/update-status-cache.py`\n\n3. **Restart Claude Code**: Changes to `settings.json` require a restart\n\n4. **Check Claude Code settings**: Run `cat ~/.claude/settings.json` and verify the `statusLine` and `hooks` sections exist\n\n**Still not working?** Please [open an issue](https://github.com/greenfieldlabs-inc/savecontext/issues) with:\n- Your OS and terminal (e.g., \"Windows 11 + Windows Terminal\", \"macOS + iTerm2\")\n- Output of `python3 --version` (or `py -3 --version` on Windows)\n- Any error messages from Claude Code\n\n### What Gets Tracked\n\nThe hook monitors session lifecycle tools and updates the status line when:\n- Sessions start, resume, or switch (`context_session_start`, `context_session_resume`, `context_session_switch`)\n- Sessions are renamed (`context_session_rename`)\n- Sessions pause or end (`context_session_pause`, `context_session_end`) - clears status\n- Status is checked (`context_status`)\n\nOther tools like `context_save`, `context_get`, checkpoints, etc. don't change the status line since the session itself hasn't changed.\n\n### Script Locations\n\n| Script | Location | Purpose |\n|--------|----------|---------|\n| Status line | `~/.savecontext/statusline.py` | Reads cache and displays session info |\n| PostToolUse hook | `~/.savecontext/hooks/update-status-cache.py` | Intercepts MCP responses, updates cache |\n\nSource available at [`server/scripts/`](https://github.com/greenfieldlabs-inc/savecontext/blob/main/server/scripts/).\n\n---\n\n## Skills\n\nSaveContext includes a skill system that teaches AI coding assistants how to use SaveContext effectively. Skills are markdown files containing workflows, best practices, and usage patterns.\n\n### Setup Skills\n\n```bash\nnpx @savecontext/mcp@latest --setup-skill\n```\n\nThis installs the SaveContext skill to your AI tool's skills directory.\n\n### Supported Tools\n\nWe natively support **Claude Code** and **OpenAI Codex** with automatic path detection:\n\n| Tool | Default Location |\n|------|------------------|\n| Claude Code | `~/.claude/skills/savecontext/` |\n| OpenAI Codex | `~/.codex/skills/savecontext/` |\n\n### Custom Tool Locations\n\nYou can add skills to any AI tool that supports a skills directory:\n\n```bash\n# Install to a custom path\nnpx @savecontext/mcp@latest --setup-skill --path ~/.my-ai-tool/skills/savecontext\n```\n\nYour custom locations are saved to `~/.savecontext/skill-sync.json` and will be updated automatically when you run `--setup-skill --sync` in the future.\n\n### Syncing Skills\n\nTo update skills across all your configured tools:\n\n```bash\nnpx @savecontext/mcp@latest --setup-skill --sync\n```\n\nThis re-installs skills to every location in your sync config, including any custom paths you've added.\n\n**Want native support for another AI tool?** [Open an issue](https://github.com/greenfieldlabs-inc/savecontext/issues) with the tool name and its skills directory path.\n\n---\n\n### Manual Configuration\n\nIf you prefer manual setup, add to `~/.claude/settings.json`:\n\n```json\n{\n  \"statusLine\": {\n    \"type\": \"command\",\n    \"command\": \"python3 ~/.savecontext/statusline.py\"\n  },\n  \"hooks\": {\n    \"PostToolUse\": [\n      {\n        \"matcher\": \"mcp__savecontext__.*\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"python3 ~/.savecontext/hooks/update-status-cache.py\",\n            \"timeout\": 10\n          }\n        ]\n      }\n    ]\n  }\n}\n```\n\nThen copy the scripts from the package to `~/.savecontext/`:\n```bash\n# Get script paths from installed package\nSCRIPTS=$(npm root -g)/@savecontext/mcp/scripts\ncp \"$SCRIPTS/statusline.py\" ~/.savecontext/\nmkdir -p ~/.savecontext/hooks\ncp \"$SCRIPTS/update-status-cache.py\" ~/.savecontext/hooks/\nchmod +x ~/.savecontext/statusline.py ~/.savecontext/hooks/update-status-cache.py\n```\n\n---\n\n## CLI Authentication\n\n### Commands\n\n| Command | Description |\n|---------|-------------|\n| `savecontext-auth login` | Authenticate via browser OAuth (GitHub/Google) |\n| `savecontext-auth status` | Show authentication status, mode, and MCP URL |\n| `savecontext-auth whoami` | Display current user info (email, provider, key prefix) |\n| `savecontext-auth logout` | Clear local credentials (API key remains valid in cloud) |\n\n### Login Options\n\n```bash\nsavecontext-auth login [options]\n\nOptions:\n  -q, --quiet       Suppress decorative output (spinners, boxes)\n  --json            Machine-readable JSON output (implies --quiet)\n  --no-clipboard    Don't copy MCP config to clipboard\n  --no-save         Don't save credentials to disk (outputs full API key)\n  --redact          Hide API key in output (still saved to credentials file)\n```\n\n### Security Notes\n\n- **API key shown once**: The full API key is displayed only during login and cannot be retrieved again. Save it immediately.\n- **Clipboard**: By default, the MCP config (including API key) is copied to your clipboard. On shared machines, use `--no-clipboard` or clear your clipboard after pasting.\n- **Terminal history**: Consider clearing terminal scrollback if it's logged, as the API key is visible in output.\n- **Credentials stored**: Auth credentials are saved to `~/.savecontext/credentials.json` with 600 permissions (owner-only).\n\n### CI/Automation\n\nFor headless environments or CI pipelines:\n\n```bash\n# JSON output, skip local storage, capture API key for secrets manager\nAPI_KEY=$(savecontext-auth login --json --no-save | jq -r '.apiKey')\nvault kv put secret/savecontext api_key=\"$API_KEY\"\n\n# Quiet mode with clipboard disabled (still saves to ~/.savecontext/)\nsavecontext-auth login --quiet --no-clipboard\n```\n\nThe `--json` flag outputs:\n```json\n{\n  \"success\": true,\n  \"email\": \"user@example.com\",\n  \"provider\": \"github\",\n  \"keyPrefix\": \"sk_abc\",\n  \"copied\": false,\n  \"saved\": true\n}\n```\n\n- `saved: true` means credentials were written to `~/.savecontext/credentials.json`\n- `copied: true` means MCP config was copied to clipboard\n- `apiKey` field is only included when `--no-save` is used (otherwise omitted for security since it's saved to disk)\n\nWhen using `--no-save`, set `SAVECONTEXT_API_KEY` environment variable for subsequent CLI commands.\n\n## CLI Session Management\n\nManage sessions directly from the command line (requires cloud authentication).\n\n### Commands\n\n| Command | Description |\n|---------|-------------|\n| `savecontext-sessions list` | List sessions with search and filtering |\n| `savecontext-sessions show` | Display session details |\n| `savecontext-sessions rename` | Rename a session (interactive picker) |\n| `savecontext-sessions delete` | Delete a session with confirmation |\n| `savecontext-sessions archive` | Mark session as completed (soft close) |\n| `savecontext-sessions add-path` | Add a project path to a session |\n| `savecontext-sessions remove-path` | Remove a project path from a session |\n\n### Usage\n\nAll commands that accept `[session_id]` show an interactive picker if no ID is provided.\n\n```bash\n# List sessions (filters to current directory by default)\nsavecontext-sessions list\nsavecontext-sessions list --global          # All projects\nsavecontext-sessions list --search \"auth\"   # Search by name/description\nsavecontext-sessions list --all             # Include archived sessions\n\n# Show session details (context items, checkpoints, paths)\nsavecontext-sessions show [session_id]\n\n# Rename a session\nsavecontext-sessions rename [session_id]\n\n# Archive a session (marks as completed, data preserved)\nsavecontext-sessions archive [session_id]\n\n# Delete a session permanently\nsavecontext-sessions delete [session_id]\n\n# Manage multi-project sessions\nsavecontext-sessions add-path [session_id]     # Add current directory\nsavecontext-sessions remove-path [session_id]  # Remove a path\n```\n\n## CLI Project Management\n\nManage projects directly from the command line (requires cloud authentication).\n\n### Commands\n\n| Command | Description |\n|---------|-------------|\n| `savecontext-projects list` | List all projects with session counts |\n| `savecontext-projects rename` | Rename a project (interactive picker) |\n| `savecontext-projects delete` | Delete a project (sessions unlinked, not deleted) |\n| `savecontext-projects merge` | Merge two projects into one |\n\n### Usage\n\nAll commands use interactive pickers to select projects.\n\n```bash\n# List all projects\nsavecontext-projects list\nsavecontext-projects list --counts   # Include session counts (slower)\nsavecontext-projects list --json     # JSON output\n\n# Rename a project\nsavecontext-projects rename\n\n# Delete a project (sessions unlinked, not deleted)\nsavecontext-projects delete\nsavecontext-projects delete --force  # Skip confirmation for projects with sessions\n\n# Merge two projects (moves all sessions to target)\nsavecontext-projects merge\nsavecontext-projects merge --keep-source  # Don't delete source project after merge\n```\n\n## Configuration\n\n### HTTP Streamable Transport (Cloud Only)\n\nFor MCP clients that support direct HTTP connections (without spawning a local process), SaveContext Cloud provides an HTTP endpoint:\n\n**Endpoint:** `https://mcp.savecontext.dev/mcp`\n\n**Example (Claude Desktop):**\n\nIn Claude Desktop: Settings → Connectors → Add Custom Connector\n- **Name:** SaveContext\n- **URL:** `https://mcp.savecontext.dev/mcp`\n- **Headers:** `Authorization: Bearer sk_your_api_key_here`\n\nOr in `claude_desktop_config.json`:\n```json\n{\n  \"mcpServers\": {\n    \"savecontext\": {\n      \"type\": \"http\",\n      \"url\": \"https://mcp.savecontext.dev/mcp\",\n      \"headers\": {\n        \"Authorization\": \"Bearer sk_your_api_key_here\"\n      }\n    }\n  }\n}\n```\n\nUse this pattern for any HTTP-capable MCP client. Replace `type: \"stdio\"` configs with `type: \"http\"` and the URL/headers above.\n\n**Note:** HTTP transport requires SaveContext Cloud (API key required). Local-only mode uses stdio transport.\n\n---\n\n<details>\n<summary><b>Install in Claude Code</b></summary>\n\n<br>\n\n**Local Mode (Free)**\n```json\n{\n  \"mcpServers\": {\n    \"savecontext\": {\n      \"type\": \"stdio\",\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@savecontext/mcp\"]\n    }\n  }\n}\n```\n\n**Cloud Mode (Paid)**\n```json\n{\n  \"mcpServers\": {\n    \"savecontext\": {\n      \"type\": \"stdio\",\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@savecontext/mcp\"],\n      \"env\": {\n        \"SAVECONTEXT_API_KEY\": \"sk_your_api_key_here\",\n        \"SAVECONTEXT_BASE_URL\": \"https://mcp.savecontext.dev\",\n        \"SAVECONTEXT_COMPACTION_THRESHOLD\": \"85\",\n        \"SAVECONTEXT_COMPACTION_MODE\": \"remind\"\n      }\n    }\n  }\n}\n```\n\n**Config File Locations:**\n- User config (all projects): `~/.claude.json`\n- Project config (shared): `.mcp.json` in project root\n- Local config (private): `~/.claude.json` (with project scope)\n\n</details>\n\n<details>\n<summary><b>Install in Cursor</b></summary>\n\n<br>\n\n**Local Mode (Free)**\n```json\n{\n  \"mcpServers\": {\n    \"savecontext\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@savecontext/mcp\"]\n    }\n  }\n}\n```\n\n**Cloud Mode (Paid)**\n```json\n{\n  \"mcpServers\": {\n    \"savecontext\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@savecontext/mcp\"],\n      \"env\": {\n        \"SAVECONTEXT_API_KEY\": \"sk_your_api_key_here\",\n        \"SAVECONTEXT_BASE_URL\": \"https://mcp.savecontext.dev\"\n      }\n    }\n  }\n}\n```\n\n**Config File Location:**\n- macOS: `~/Library/Application Support/Cursor/User/globalStorage/rooveterinaryinc.roo-cline/settings/cline_mcp_settings.json`\n- Windows: `%APPDATA%\\Cursor\\User\\globalStorage\\rooveterinaryinc.roo-cline\\settings\\cline_mcp_settings.json`\n- Linux: `~/.config/Cursor/User/globalStorage/rooveterinaryinc.roo-cline/settings/cline_mcp_settings.json`\n\n</details>\n\n<details>\n<summary><b>Install in Cline</b></summary>\n\n<br>\n\n**Local Mode (Free)**\n```json\n{\n  \"mcpServers\": {\n    \"savecontext\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@savecontext/mcp\"]\n    }\n  }\n}\n```\n\n**Cloud Mode (Paid)**\n```json\n{\n  \"mcpServers\": {\n    \"savecontext\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@savecontext/mcp\"],\n      \"env\": {\n        \"SAVECONTEXT_API_KEY\": \"sk_your_api_key_here\",\n        \"SAVECONTEXT_BASE_URL\": \"https://mcp.savecontext.dev\"\n      }\n    }\n  }\n}\n```\n\n</details>\n\n<details>\n<summary><b>Install in VS Code</b></summary>\n\n<br>\n\n**Local Mode (Free)**\n```json\n{\n  \"mcp\": {\n    \"servers\": {\n      \"savecontext\": {\n        \"type\": \"stdio\",\n        \"command\": \"npx\",\n        \"args\": [\"-y\", \"@savecontext/mcp\"]\n      }\n    }\n  }\n}\n```\n\n**Cloud Mode (Paid)**\n```json\n{\n  \"mcp\": {\n    \"servers\": {\n      \"savecontext\": {\n        \"type\": \"stdio\",\n        \"command\": \"npx\",\n        \"args\": [\"-y\", \"@savecontext/mcp\"],\n        \"env\": {\n          \"SAVECONTEXT_API_KEY\": \"sk_your_api_key_here\",\n          \"SAVECONTEXT_BASE_URL\": \"https://mcp.savecontext.dev\"\n        }\n      }\n    }\n  }\n}\n```\n\n</details>\n\n<details>\n<summary><b>Install in Factory</b></summary>\n\n<br>\n\nFactory's droid supports MCP servers through its CLI.\n\n**Remote Server Connection (HTTP)**\n```bash\ndroid mcp add savecontext https://mcp.savecontext.dev --type http --header \"SAVECONTEXT_API_KEY: sk_your_api_key_here\"\n```\n\n**Local Server Connection (Stdio)**\n```bash\ndroid mcp add savecontext \"npx -y @savecontext/mcp\" --env SAVECONTEXT_API_KEY=sk_your_api_key_here\n```\n\n</details>\n\n<details>\n<summary><b>Install in OpenAI Codex</b></summary>\n\n<br>\n\n**Local Server Connection**\n```toml\n[mcp_servers.savecontext]\nargs = [\"-y\", \"@savecontext/mcp\", \"--api-key\", \"sk_your_api_key_here\"]\ncommand = \"npx\"\nstartup_timeout_ms = 20_000\n```\n\n**Remote Server Connection**\n```toml\n[mcp_servers.savecontext]\nurl = \"https://mcp.savecontext.dev\"\nhttp_headers = { \"SAVECONTEXT_API_KEY\" = \"sk_your_api_key_here\" }\n```\n\n</details>\n\n<details>\n<summary><b>Install in Google Antigravity</b></summary>\n\n<br>\n\n**Remote Server Connection**\n```json\n{\n  \"mcpServers\": {\n    \"savecontext\": {\n      \"serverUrl\": \"https://mcp.savecontext.dev\",\n      \"headers\": {\n        \"SAVECONTEXT_API_KEY\": \"sk_your_api_key_here\"\n      }\n    }\n  }\n}\n```\n\n**Local Server Connection**\n```json\n{\n  \"mcpServers\": {\n    \"savecontext\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@savecontext/mcp\"],\n      \"env\": {\n        \"SAVECONTEXT_API_KEY\": \"sk_your_api_key_here\",\n        \"SAVECONTEXT_BASE_URL\": \"https://mcp.savecontext.dev\"\n      }\n    }\n  }\n}\n```\n\n</details>\n\n<details>\n<summary><b>Install in Zed</b></summary>\n\n<br>\n\nAdd this to your Zed `settings.json`:\n\n```json\n{\n  \"context_servers\": {\n    \"SaveContext\": {\n      \"source\": \"custom\",\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@savecontext/mcp\"],\n      \"env\": {\n        \"SAVECONTEXT_API_KEY\": \"sk_your_api_key_here\",\n        \"SAVECONTEXT_BASE_URL\": \"https://mcp.savecontext.dev\"\n      }\n    }\n  }\n}\n```\n\n</details>\n\n<details>\n<summary><b>Install in Claude Desktop</b></summary>\n\n<br>\n\n**Remote Server Connection**\n\nOpen Claude Desktop and navigate to Settings > Connectors > Add Custom Connector. Enter the name as `SaveContext` and the remote MCP server URL as `https://mcp.savecontext.dev`.\n\n**Local Server Connection**\n\nOpen Claude Desktop developer settings and edit your `claude_desktop_config.json` file:\n\n```json\n{\n  \"mcpServers\": {\n    \"savecontext\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@savecontext/mcp\"],\n      \"env\": {\n        \"SAVECONTEXT_API_KEY\": \"sk_your_api_key_here\",\n        \"SAVECONTEXT_BASE_URL\": \"https://mcp.savecontext.dev\"\n      }\n    }\n  }\n}\n```\n\n**Config File Location:**\n- macOS: `~/Library/Application Support/Claude/claude_desktop_config.json`\n- Windows: `%APPDATA%\\Claude\\claude_desktop_config.json`\n- Linux: `~/.config/Claude/claude_desktop_config.json`\n\n</details>\n\n<details>\n<summary><b>Install in JetBrains AI Assistant</b></summary>\n\n<br>\n\n1. In JetBrains IDEs, go to `Settings` → `Tools` → `AI Assistant` → `Model Context Protocol (MCP)`\n2. Click `+ Add`\n3. Click on `Command` in the top-left corner and select `As JSON`\n4. Add this configuration:\n\n```json\n{\n  \"mcpServers\": {\n    \"savecontext\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@savecontext/mcp\"],\n      \"env\": {\n        \"SAVECONTEXT_API_KEY\": \"sk_your_api_key_here\",\n        \"SAVECONTEXT_BASE_URL\": \"https://mcp.savecontext.dev\"\n      }\n    }\n  }\n}\n```\n\n5. Click `Apply` to save changes\n\n</details>\n\n<details>\n<summary><b>Install in Roo Code</b></summary>\n\n<br>\n\nRoo Code natively supports MCP servers.\n\n**Local Mode (Free)**\n\nEdit Roo Code's MCP settings:\n\n```json\n{\n  \"mcpServers\": {\n    \"savecontext\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@savecontext/mcp\"]\n    }\n  }\n}\n```\n\n**Cloud Mode (Paid)**\n\n```json\n{\n  \"mcpServers\": {\n    \"savecontext\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@savecontext/mcp\"],\n      \"env\": {\n        \"SAVECONTEXT_API_KEY\": \"sk_your_api_key_here\",\n        \"SAVECONTEXT_BASE_URL\": \"https://mcp.savecontext.dev\"\n      }\n    }\n  }\n}\n```\n\n</details>\n\n<details>\n<summary><b>Install in Augment Code</b></summary>\n\n<br>\n\n**Remote Server Connection**\n\nIn Augment Code settings, add remote MCP server:\n\n```json\n{\n  \"mcp\": {\n    \"servers\": {\n      \"savecontext\": {\n        \"url\": \"https://mcp.savecontext.dev\",\n        \"headers\": {\n          \"SAVECONTEXT_API_KEY\": \"sk_your_api_key_here\"\n        }\n      }\n    }\n  }\n}\n```\n\n**Local Server Connection**\n\n```json\n{\n  \"mcp\": {\n    \"servers\": {\n      \"savecontext\": {\n        \"type\": \"stdio\",\n        \"command\": \"npx\",\n        \"args\": [\"-y\", \"@savecontext/mcp\"],\n        \"env\": {\n          \"SAVECONTEXT_API_KEY\": \"sk_your_api_key_here\",\n          \"SAVECONTEXT_BASE_URL\": \"https://mcp.savecontext.dev\"\n        }\n      }\n    }\n  }\n}\n```\n\n</details>\n\n<details>\n<summary><b>Install in Kilo Code</b></summary>\n\n<br>\n\nAdd to your Kilo Code MCP configuration:\n\n```json\n{\n  \"mcpServers\": {\n    \"savecontext\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@savecontext/mcp\"],\n      \"env\": {\n        \"SAVECONTEXT_API_KEY\": \"sk_your_api_key_here\",\n        \"SAVECONTEXT_BASE_URL\": \"https://mcp.savecontext.dev\"\n      }\n    }\n  }\n}\n```\n\n</details>\n\n<details>\n<summary><b>Install in Gemini CLI</b></summary>\n\n<br>\n\nAdd SaveContext to your Gemini CLI configuration:\n\n```bash\ngemini mcp add savecontext \\\n  --command \"npx\" \\\n  --args \"-y @savecontext/mcp\" \\\n  --env SAVECONTEXT_API_KEY=sk_your_api_key_here \\\n  --env SAVECONTEXT_BASE_URL=https://mcp.savecontext.dev\n```\n\n</details>\n\n<details>\n<summary><b>Install in Perplexity Desktop</b></summary>\n\n<br>\n\nNavigate to Perplexity Desktop Settings → Integrations → MCP Servers:\n\n```json\n{\n  \"mcpServers\": {\n    \"savecontext\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@savecontext/mcp\"],\n      \"env\": {\n        \"SAVECONTEXT_API_KEY\": \"sk_your_api_key_here\",\n        \"SAVECONTEXT_BASE_URL\": \"https://mcp.savecontext.dev\"\n      }\n    }\n  }\n}\n```\n\n</details>\n\n<details>\n<summary><b>Install in LM Studio</b></summary>\n\n<br>\n\nIn LM Studio, go to Settings → Tools → MCP and add:\n\n```json\n{\n  \"servers\": {\n    \"savecontext\": {\n      \"type\": \"stdio\",\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@savecontext/mcp\"],\n      \"env\": {\n        \"SAVECONTEXT_API_KEY\": \"sk_your_api_key_here\",\n        \"SAVECONTEXT_BASE_URL\": \"https://mcp.savecontext.dev\"\n      }\n    }\n  }\n}\n```\n\n</details>\n\n<details>\n<summary><b>Install in GitHub Copilot Coding Agent</b></summary>\n\n<br>\n\nAdd to your Copilot Coding Agent configuration:\n\n```json\n{\n  \"mcp\": {\n    \"servers\": {\n      \"savecontext\": {\n        \"command\": \"npx\",\n        \"args\": [\"-y\", \"@savecontext/mcp\"],\n        \"env\": {\n          \"SAVECONTEXT_API_KEY\": \"sk_your_api_key_here\",\n          \"SAVECONTEXT_BASE_URL\": \"https://mcp.savecontext.dev\"\n        }\n      }\n    }\n  }\n}\n```\n\n</details>\n\n<details>\n<summary><b>Install in Copilot CLI</b></summary>\n\n<br>\n\nConfigure via GitHub Copilot CLI settings:\n\n```bash\ngh copilot config set mcp.servers.savecontext.command \"npx\"\ngh copilot config set mcp.servers.savecontext.args \"-y @savecontext/mcp\"\ngh copilot config set mcp.servers.savecontext.env.SAVECONTEXT_API_KEY \"sk_your_api_key_here\"\ngh copilot config set mcp.servers.savecontext.env.SAVECONTEXT_BASE_URL \"https://mcp.savecontext.dev\"\n```\n\n</details>\n\n<details>\n<summary><b>Install in Warp AI</b></summary>\n\n<br>\n\nIn Warp terminal, navigate to Settings → AI → MCP Servers:\n\n```json\n{\n  \"mcpServers\": {\n    \"savecontext\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@savecontext/mcp\"],\n      \"env\": {\n        \"SAVECONTEXT_API_KEY\": \"sk_your_api_key_here\",\n        \"SAVECONTEXT_BASE_URL\": \"https://mcp.savecontext.dev\"\n      }\n    }\n  }\n}\n```\n\n</details>\n\n<details>\n<summary><b>Install in Qodo Gen</b></summary>\n\n<br>\n\nAdd to Qodo Gen MCP configuration file:\n\n```json\n{\n  \"servers\": {\n    \"savecontext\": {\n      \"type\": \"stdio\",\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@savecontext/mcp\"],\n      \"env\": {\n        \"SAVECONTEXT_API_KEY\": \"sk_your_api_key_here\",\n        \"SAVECONTEXT_BASE_URL\": \"https://mcp.savecontext.dev\"\n      }\n    }\n  }\n}\n```\n\n</details>\n\n<details>\n<summary><b>Install in Replit AI</b></summary>\n\n<br>\n\nIn your Replit project, add to `.replit` configuration:\n\n```toml\n[mcp.servers.savecontext]\ncommand = \"npx\"\nargs = [\"-y\", \"@savecontext/mcp\"]\n\n[mcp.servers.savecontext.env]\nSAVECONTEXT_API_KEY = \"sk_your_api_key_here\"\nSAVECONTEXT_BASE_URL = \"https://mcp.savecontext.dev\"\n```\n\n</details>\n\n<details>\n<summary><b>Install in Amazon Q Developer</b></summary>\n\n<br>\n\nConfigure in Amazon Q Developer settings:\n\n```json\n{\n  \"mcpServers\": {\n    \"savecontext\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@savecontext/mcp\"],\n      \"env\": {\n        \"SAVECONTEXT_API_KEY\": \"sk_your_api_key_here\",\n        \"SAVECONTEXT_BASE_URL\": \"https://mcp.savecontext.dev\"\n      }\n    }\n  }\n}\n```\n\n</details>\n\n<details>\n<summary><b>Install in Sourcegraph Cody</b></summary>\n\n<br>\n\nAdd to Cody's MCP server configuration:\n\n**Local Mode (Free)**\n\n```json\n{\n  \"mcp\": {\n    \"servers\": {\n      \"savecontext\": {\n        \"command\": \"npx\",\n        \"args\": [\"-y\", \"@savecontext/mcp\"]\n      }\n    }\n  }\n}\n```\n\n**Cloud Mode (Paid)**\n\n```json\n{\n  \"mcp\": {\n    \"servers\": {\n      \"savecontext\": {\n        \"command\": \"npx\",\n        \"args\": [\"-y\", \"@savecontext/mcp\"],\n        \"env\": {\n          \"SAVECONTEXT_API_KEY\": \"sk_your_api_key_here\",\n          \"SAVECONTEXT_BASE_URL\": \"https://mcp.savecontext.dev\"\n        }\n      }\n    }\n  }\n}\n```\n\n</details>\n\n<details>\n<summary><b>Install in Tabnine</b></summary>\n\n<br>\n\nIn Tabnine settings, navigate to Extensions → MCP:\n\n```json\n{\n  \"mcpServers\": {\n    \"savecontext\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@savecontext/mcp\"],\n      \"env\": {\n        \"SAVECONTEXT_API_KEY\": \"sk_your_api_key_here\",\n        \"SAVECONTEXT_BASE_URL\": \"https://mcp.savecontext.dev\"\n      }\n    }\n  }\n}\n```\n\n</details>\n\n<details>\n<summary><b>Install in BoltAI</b></summary>\n\n<br>\n\nOpen the \"Settings\" page of the app, navigate to \"Plugins,\" and enter the following JSON:\n\n```json\n{\n  \"mcpServers\": {\n    \"savecontext\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@savecontext/mcp\"],\n      \"env\": {\n        \"SAVECONTEXT_API_KEY\": \"sk_your_api_key_here\",\n        \"SAVECONTEXT_BASE_URL\": \"https://mcp.savecontext.dev\"\n      }\n    }\n  }\n}\n```\n\nFor more information, see [BoltAI's Documentation](https://docs.boltai.com/docs/plugins/mcp-servers). For BoltAI on iOS, [see this guide](https://docs.boltai.com/docs/boltai-mobile/mcp-servers).\n\n</details>\n\n<details>\n<summary><b>Install in Opencode</b></summary>\n\n<br>\n\nAdd this to your Opencode configuration file. See [Opencode MCP docs](https://opencode.ai/docs/mcp-servers) for more info.\n\n**Local Mode:**\n```json\n{\n  \"mcp\": {\n    \"savecontext\": {\n      \"type\": \"local\",\n      \"command\": [\"npx\", \"-y\", \"@savecontext/mcp\"],\n      \"enabled\": true\n    }\n  }\n}\n```\n\n**Cloud Mode:**\n```json\n{\n  \"mcp\": {\n    \"savecontext\": {\n      \"type\": \"local\",\n      \"command\": [\"npx\", \"-y\", \"@savecontext/mcp\"],\n      \"enabled\": true,\n      \"env\": {\n        \"SAVECONTEXT_API_KEY\": \"sk_your_api_key_here\",\n        \"SAVECONTEXT_BASE_URL\": \"https://mcp.savecontext.dev\"\n      }\n    }\n  }\n}\n```\n\n</details>\n\n<details>\n<summary><b>Install in Qwen Coder</b></summary>\n\n<br>\n\nSee [Qwen Coder MCP Configuration](https://qwenlm.github.io/qwen-code-docs/en/tools/mcp-server/#how-to-set-up-your-mcp-server) for details.\n\n1. Open the Qwen Coder settings file at `~/.qwen/settings.json`\n2. Add the following to the `mcpServers` object:\n\n**Local Mode:**\n```json\n{\n  \"mcpServers\": {\n    \"savecontext\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@savecontext/mcp\"]\n    }\n  }\n}\n```\n\n**Cloud Mode:**\n```json\n{\n  \"mcpServers\": {\n    \"savecontext\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@savecontext/mcp\"],\n      \"env\": {\n        \"SAVECONTEXT_API_KEY\": \"sk_your_api_key_here\",\n        \"SAVECONTEXT_BASE_URL\": \"https://mcp.savecontext.dev\"\n      }\n    }\n  }\n}\n```\n\nIf the `mcpServers` object does not exist, create it.\n\n</details>\n\n<details>\n<summary><b>Install in Visual Studio 2022</b></summary>\n\n<br>\n\nConfigure SaveContext MCP in Visual Studio 2022 by following the [Visual Studio MCP Servers documentation](https://learn.microsoft.com/visualstudio/ide/mcp-servers?view=vs-2022).\n\nAdd this to your Visual Studio MCP config file:\n\n**Local Mode:**\n```json\n{\n  \"mcp\": {\n    \"servers\": {\n      \"savecontext\": {\n        \"type\": \"stdio\",\n        \"command\": \"npx\",\n        \"args\": [\"-y\", \"@savecontext/mcp\"]\n      }\n    }\n  }\n}\n```\n\n**Cloud Mode:**\n```json\n{\n  \"mcp\": {\n    \"servers\": {\n      \"savecontext\": {\n        \"type\": \"stdio\",\n        \"command\": \"npx\",\n        \"args\": [\"-y\", \"@savecontext/mcp\"],\n        \"env\": {\n          \"SAVECONTEXT_API_KEY\": \"sk_your_api_key_here\",\n          \"SAVECONTEXT_BASE_URL\": \"https://mcp.savecontext.dev\"\n        }\n      }\n    }\n  }\n}\n```\n\nFor more information and troubleshooting, refer to the [Visual Studio MCP Servers documentation](https://learn.microsoft.com/visualstudio/ide/mcp-servers?view=vs-2022).\n\n</details>\n\n<details>\n<summary><b>Install in Windsurf</b></summary>\n\n<br>\n\nAdd this to your Windsurf MCP config file. See [Windsurf MCP docs](https://docs.windsurf.com/windsurf/cascade/mcp) for more info.\n\n**Local Mode:**\n```json\n{\n  \"mcpServers\": {\n    \"savecontext\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@savecontext/mcp\"]\n    }\n  }\n}\n```\n\n**Cloud Mode:**\n```json\n{\n  \"mcpServers\": {\n    \"savecontext\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@savecontext/mcp\"],\n      \"env\": {\n        \"SAVECONTEXT_API_KEY\": \"sk_your_api_key_here\",\n        \"SAVECONTEXT_BASE_URL\": \"https://mcp.savecontext.dev\"\n      }\n    }\n  }\n}\n```\n\n</details>\n\n<details>\n<summary><b>From Source (Development)</b></summary>\n\n<br>\n\nFor local development (running from source):\n\n```json\n{\n  \"mcpServers\": {\n    \"savecontext\": {\n      \"type\": \"stdio\",\n      \"command\": \"node\",\n      \"args\": [\"/path/to/savecontext/server/dist/index.js\"],\n      \"env\": {\n        \"SAVECONTEXT_API_KEY\": \"sk_your_api_key_here\",\n        \"SAVECONTEXT_BASE_URL\": \"http://localhost:3001\"\n      }\n    }\n  }\n}\n```\n\nFor local-only development (no cloud API), omit both `SAVECONTEXT_API_KEY` and `SAVECONTEXT_BASE_URL`.\n\n</details>\n\n> **Note**: Compaction settings are experimental. See [Compaction Settings](#compaction-settings) for configuration options.\n\nThe server communicates via stdio using the MCP protocol.\n\n### Advanced Configuration\n\nSaveContext can be configured via environment variables in your MCP server settings to control compaction behavior.\n#### Compaction Settings\n\n> ⚠️ **EXPERIMENTAL FEATURE**: Compaction configuration only validated with Claude Code - requires CLI restart when env vars change. Other MCP clients may not support the instructions field.\n\nControl when and how SaveContext preserves context before your conversation window fills up:\n\n```json\n{\n  \"mcpServers\": {\n    \"savecontext\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@savecontext/mcp\"],\n      \"env\": {\n        \"SAVECONTEXT_COMPACTION_THRESHOLD\": \"70\",\n        \"SAVECONTEXT_COMPACTION_MODE\": \"remind\"\n      }\n    }\n  }\n}\n```\n\n**`SAVECONTEXT_COMPACTION_THRESHOLD`** (default: `70`)\n- Context usage percentage (50-90) that triggers compaction behavior\n- When conversation reaches this % of context window, compaction activates\n- Lower values = more frequent compaction, higher values = longer conversations before compaction\n\n**`SAVECONTEXT_COMPACTION_MODE`** (default: `remind`)\n- `auto` - Automatically calls `context_prepare_compaction` at threshold (no user interaction needed)\n- `remind` - AI suggests compaction to user and explains what will be preserved\n- `manual` - Only compacts when user explicitly requests it\n\n**Recommended Settings:**\n- Long technical sessions: `threshold=70, mode=auto`\n- Pair programming: `threshold=80, mode=remind`\n- Short tasks: `threshold=90, mode=manual`\n\n#### Cloud Mode (SaveContext Cloud)\n\nSaveContext supports two modes of operation:\n\n| Feature | Local Mode | Cloud Mode |\n|---------|------------|------------|\n| **Storage** | SQLite on your machine | PostgreSQL cloud database |\n| **Data Location** | `~/.savecontext/data/savecontext.db` | [savecontext.dev](https://savecontext.dev) |\n| **Rate Limits** | None | Based on plan tier |\n| **Account Required** | No | Yes |\n| **Multi-Device Sync** | No | Yes |\n| **Automatic Backups** | No | Yes |\n| **Team Collaboration** | No | Coming soon |\n| **Analytics Dashboard** | No | Coming soon |\n| **Pricing** | Free forever | Free tier included, [plans available](https://savecontext.dev) |\n\n**Local Mode (Default - Free)**\n- Uses local SQLite database (`~/.savecontext/data/savecontext.db`)\n- All data stored on your machine\n- No rate limits or usage restrictions\n- No account required\n- Open source and self-hosted\n\n**Cloud Mode (SaveContext Cloud)**\n- Uses PostgreSQL-backed cloud API at [savecontext.dev](https://savecontext.dev)\n- Session data synced to cloud storage\n- Access sessions from multiple devices\n- Automatic backups and disaster recovery\n- Advanced analytics dashboard (coming soon)\n- Team collaboration features (coming soon)\n- Free tier included with generous limits\n- [Plans available](https://savecontext.dev) for higher usage\n\n**Configuring Cloud Mode:**\n\nThe easiest way to get started is with the CLI:\n\n```bash\nnpm install -g @savecontext/mcp\nsavecontext-auth login\n```\n\nThis opens your browser for OAuth authentication and copies the MCP config to your clipboard.\n\nAlternatively, sign up at [savecontext.dev](https://savecontext.dev) and manually configure:\n\n```json\n{\n  \"mcpServers\": {\n    \"savecontext\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@savecontext/mcp\"],\n      \"env\": {\n        \"SAVECONTEXT_API_KEY\": \"sk_your_api_key_here\",\n        \"SAVECONTEXT_BASE_URL\": \"https://mcp.savecontext.dev\",\n        \"SAVECONTEXT_COMPACTION_THRESHOLD\": \"85\",\n        \"SAVECONTEXT_COMPACTION_MODE\": \"remind\"\n      }\n    }\n  }\n}\n```\n\n**Environment Variables:**\n\n- `SAVECONTEXT_API_KEY` - Your API key from SaveContext Cloud (format: `sk_*`)\n  - If present: enables cloud mode\n  - If absent: uses local SQLite mode\n- `SAVECONTEXT_BASE_URL` - Cloud API endpoint (default: `https://mcp.savecontext.dev`)\n  - For development: `http://localhost:3001`\n  - For production: `https://mcp.savecontext.dev`\n\n**How Cloud Mode Works:**\n\nWhen an API key is provided, the MCP server acts as a lightweight proxy:\n\n```\nMCP Client (Claude Desktop, etc.)\n    ↓ stdio\nLocal MCP Server Process\n    ↓ HTTPS (if API key present)\nSaveContext Cloud API (PostgreSQL)\n```\n\nThe server detects the mode at startup and routes all operations accordingly. All tool calls work identically in both modes - the only difference is where data is stored.\n\n**Migrating Local Data to Cloud:**\n\nIf you have existing local data and want to migrate it to SaveContext Cloud, use the migration CLI:\n\n```bash\n# Using npx (recommended)\nnpx -y -p @savecontext/mcp savecontext-migrate <api-key>\n\n# Or with environment variable\nSAVECONTEXT_API_KEY=sk_your_key npx -y -p @savecontext/mcp savecontext-migrate\n\n# If installed globally\nsavecontext-migrate <api-key>\n```\n\nThe migration tool will:\n1. Check if your cloud account is empty (migration only works for new accounts)\n2. Read your local SQLite database\n3. Upload all sessions, context items, checkpoints, project memory, and tasks\n4. Validate against your tier limits before migrating\n\n**Important Notes:**\n- Migration is one-time only - it requires an empty cloud account\n- Your local data is preserved after migration\n- Tier limits are enforced server-side:\n  - **Free**: 300 API calls/month, 100 context items, 3 projects, 5 checkpoints\n  - **Pro**: 3,000 API calls/month, 5,000 context items, 10 projects, unlimited checkpoints\n  - **Max**: 15,000 API calls/month, unlimited context items, unlimited projects, unlimited checkpoints\n  - **Custom limits for teams available** - Contact support@savecontext.dev for details\n\n**New Files Added for Cloud Support:**\n\n- `src/cloud-client.ts` - HTTP client for cloud API communication with Bearer token authentication\n- `src/cli/migrate.ts` - Migration CLI for local to cloud data transfer\n- `src/types/index.ts` - Complete type definitions shared between local and cloud modes\n\nAll validation, type safety, and MCP protocol handling remains consistent across both modes.\n\n## Architecture\n\nSaveContext operates in two modes with different architectures:\n\n### Local Mode Architecture\n\nIn local mode (default), all data is stored on your machine in SQLite:\n\n```\n┌────────────────────────────────────────────────────────┐\n│  Your Machine                                          │\n│                                                        │\n│  ┌──────────────────┐    ┌───────────────────────────┐ │\n│  │  AI Coding Tool  │◄──►│  SaveContext MCP Server   │ │\n│  │  (Claude Code,   │    │  (stdio process)          │ │\n│  │   Cursor, etc.)  │    └─────────────┬─────────────┘ │\n│  └──────────────────┘                  │               │\n│                                        ▼               │\n│                          ┌───────────────────────────┐ │\n│                          │  SQLite Database          │ │\n│                          │  ~/.savecontext/data/     │ │\n│                          │  savecontext.db           │ │\n│                          └───────────────────────────┘ │\n└────────────────────────────────────────────────────────┘\n```\n\n- **No account required** - completely self-hosted\n- **No network calls** - all data stays local\n- **Unlimited usage** - no rate limits\n\n### Cloud Mode Architecture\n\nIn cloud mode, the local MCP server acts as a thin proxy to the cloud API:\n\n```\n┌────────────────────────────────────────┐\n│  Your Machine                          │\n│  ┌───────────────────┐                 │\n│  │  AI Coding Tool   │                 │\n│  │  (Claude Code,    │                 │\n│  │   Cursor, etc.)   │                 │\n│  └─────────┬─────────┘                 │\n│            │ stdio                     │\n│            ▼                           │\n│  ┌───────────────────┐                 │\n│  │  SaveContext MCP  │                 │\n│  │  Server (proxy)   │                 │\n│  └─────────┬─────────┘                 │\n└────────────┼───────────────────────────┘\n             │ HTTPS + Bearer Token\n             ▼\n┌────────────────────────────────────────┐\n│  SaveContext Cloud                     │\n│  ┌───────────────────┐                 │\n│  │  API Gateway      │                 │\n│  │  (Lambda)         │                 │\n│  └─────────┬─────────┘                 │\n│            │                           │\n│            ▼                           │\n│  ┌───────────────────┐                 │\n│  │  PostgreSQL (RDS) │                 │\n│  │  with encryption  │                 │\n│  └───────────────────┘                 │\n└────────────────────────────────────────┘\n```\n\n- **Multi-device sync** - access sessions from anywhere\n- **Automatic backups** - managed PostgreSQL with point-in-time recovery\n- **Team features** (coming soon) - share context across team members\n\n### HTTP Transport (Cloud Only)\n\nFor MCP clients that support direct HTTP connections, SaveContext Cloud also offers HTTP Streamable Transport - bypassing the local stdio proxy entirely:\n\n```\n┌───────────────────┐          ┌───────────────────────────┐\n│  AI Coding Tool   │──HTTPS──►│  SaveContext Cloud API    │\n│  (HTTP-capable)   │          │  mcp.savecontext.dev/mcp  │\n└───────────────────┘          └───────────────────────────┘\n```\n\nThis is useful for tools like Claude Desktop that support HTTP connectors natively.\n\n### Server Implementation\n\nThe MCP server is built on `@modelcontextprotocol/sdk` and provides 35 tools for context management, including session lifecycle, memory storage, task management, and checkpoints. The server maintains a single active session per connection and stores data either in a local SQLite database (local mode) or via cloud API (cloud mode).\n\n```\nserver/\n├── src/\n│   ├── index.ts              # MCP server with tool handlers\n│   ├── cloud-client.ts       # HTTP client for cloud API\n│   ├── cli/\n│   │   ├── auth.ts           # savecontext-auth CLI\n│   │   ├── device-flow.ts    # RFC 8628 device authorization\n│   │   ├── migrate.ts        # Local to cloud migration\n│   │   ├── sessions.ts       # savecontext-sessions CLI\n│   │   └── projects.ts       # savecontext-projects CLI\n│   ├── database/\n│   │   ├── index.ts          # DatabaseManager class\n│   │   └── schema.sql        # SQLite schema\n│   ├── utils/\n│   │   ├── channels.ts       # Channel derivation\n│   │   ├── config.ts         # Credentials and state management\n│   │   ├── constants.ts      # Shared constants\n│   │   ├── git.ts            # Git branch and status\n│   │   ├── project.ts        # Project path utilities\n│   │   └── validation.ts     # Input validation\n│   └── types/\n│       └── index.ts          # TypeScript type definitions\n└── dist/                     # Compiled JavaScript\n```\n\n### Database Schema\n\nThe server uses SQLite with the following schema:\n\n**sessions** - Tracks coding sessions\n- `id` (TEXT PRIMARY KEY) - Unique session identifier\n- `name` (TEXT) - Session name\n- `description` (TEXT) - Optional description\n- `channel` (TEXT) - Derived from git branch or session name\n- `branch` (TEXT) - Git branch name if available\n- `project_path` (TEXT) - Absolute path to project/repository\n- `status` (TEXT) - Session state: 'active', 'paused', or 'completed'\n- `ended_at` (INTEGER) - Timestamp when paused or completed\n- `created_at` (INTEGER) - Timestamp\n- `updated_at` (INTEGER) - Timestamp\n\n**context_items** - Stores individual context entries\n- `id` (TEXT PRIMARY KEY)\n- `session_id` (TEXT) - Foreign key to sessions\n- `key` (TEXT) - Unique identifier within session\n- `value` (TEXT) - Context content\n- `category` (TEXT) - One of: task, decision, progress, note\n- `priority` (TEXT) - One of: high, normal, low\n- `channel` (TEXT) - Channel for filtering\n- `size` (INTEGER) - Character count\n- `created_at` (INTEGER)\n- `updated_at` (INTEGER)\n\n**checkpoints** - Session snapshots\n- `id` (TEXT PRIMARY KEY)\n- `session_id` (TEXT)\n- `name` (TEXT)\n- `description` (TEXT)\n- `item_count` (INTEGER) - Number of items in checkpoint\n- `total_size` (INTEGER) - Total character count\n- `git_status` (TEXT) - Optional git working tree status\n- `git_branch` (TEXT) - Optional git branch\n- `created_at` (INTEGER)\n\n**checkpoint_items** - Links checkpoints to context items\n- `checkpoint_id` (TEXT)\n- `item_id` (TEXT)\n- `item_snapshot` (TEXT) - JSON snapshot of context_item\n\n**agent_sessions** - Tracks which agent is currently working on each session\n- `agent_id` (TEXT PRIMARY KEY) - Format depends on client type:\n  - Coding tools: `{projectName}-{branch}-{provider}` (e.g., `savecontext-main-claude-code`)\n  - Desktop apps: `global-{provider}` (e.g., `global-claude-desktop`) - no project/branch since they can't detect working directory\n- `session_id` (TEXT) - Foreign key to sessions\n- `project_path` (TEXT) - Full project path (or \"global\" for desktop apps)\n- `git_branch` (TEXT) - Git branch name (null for desktop apps)\n- `provider` (TEXT) - MCP client provider:\n  - Coding tools: claude-code, cursor, windsurf, vscode, jetbrains, cline, copilot, factory-ai, etc.\n  - Desktop apps: claude-desktop, perplexity, chatgpt, lm-studio, bolt-ai, raycast\n- `last_active_at` (INTEGER) - Timestamp of last activity\n\nThis enables multi-agent support: multiple tools can work on the same session simultaneously (e.g., Claude Code and Claude Desktop), each tracked as a separate agent.\n\n**project_memory** - Stores project-specific commands, configs, and notes\n- `id` (TEXT PRIMARY KEY)\n- `project_path` (TEXT) - Project directory path\n- `key` (TEXT) - Unique identifier within project\n- `value` (TEXT) - The stored value (command, URL, note, etc.)\n- `category` (TEXT) - Type: command, config, or note\n- `created_at` (INTEGER)\n- `updated_at` (INTEGER)\n- UNIQUE constraint on (project_path, key)\n\nMemory persists across sessions and is accessible by all agents working on the project. Useful for storing frequently used commands, API endpoints, deployment instructions, etc.\n\n**tasks** - Simple task management for tracking work across sessions\n- `id` (TEXT PRIMARY KEY)\n- `project_path` (TEXT) - Project directory path\n- `title` (TEXT) - Task title\n- `description` (TEXT) - Optional task description\n- `status` (TEXT) - todo or done\n- `created_at` (INTEGER)\n- `updated_at` (INTEGER)\n- `completed_at` (INTEGER) - Timestamp when marked done\n\nTasks are project-scoped and persist across all sessions for that project.\n\n### Channel System\n\nChannels provide automatic organization of context based on git branches:\n\n1. When starting a session, the server checks for the current git branch\n2. Branch name is normalized to a channel identifier (e.g., `feature/auth` → `feature-auth`)\n3. All context items inherit the session's channel by default\n4. Context can be filtered by channel when retrieving\n\nThis allows context to be automatically scoped to the current branch without manual tagging.\n\n### Git Integration\n\nThe server integrates with git through Node.js child processes:\n\n- **Branch Detection**: Executes `git rev-parse --abbrev-ref HEAD` to get current branch\n- **Status Capture**: Executes `git status --porcelain` for checkpoint metadata\n- **Graceful Fallback**: Works in non-git directories by skipping git features\n\nGit information is optional and only captured when `include_git: true` is specified.\n\n## Tool Reference\n\n### Session Management\n\n**context_session_start**\n```javascript\n{\n  name: string,           // Required: session name\n  description?: string,   // Optional: session description\n  channel?: string,       // Optional: override auto-derived channel\n  project_path?: string,  // Optional: override auto-detected project path\n  force_new?: boolean     // Optional: force new session instead of resuming\n}\n```\nCreates a new session and sets it as active. Auto-derives channel from git branch and detects project path from current working directory. If an active session already exists for the current project, automatically resumes it instead of creating a duplicate. Use `force_new: true` to always create a fresh session (pauses any existing active session so it can be resumed later).\n\n**context_save**\n```javascript\n{\n  key: string,                              // Required: unique identifier\n  value: string,                            // Required: context content\n  category?: 'task'|'decision'|'progress'|'note',  // Default: 'note'\n  priority?: 'high'|'normal'|'low',        // Default: 'normal'\n  channel?: string                          // Default: session channel\n}\n```\nSaves a context item to the active session.\n\n**context_get**\n```javascript\n{\n  key?: string,          // Optional: retrieve specific item\n  category?: string,     // Optional: filter by category\n  priority?: string,     // Optional: filter by priority\n  channel?: string,      // Optional: filter by channel\n  limit?: number,        // Default: 100\n  offset?: number        // Default: 0\n}\n```\nRetrieves context items with optional filtering.\n\n**context_delete**\n```javascript\n{\n  key: string  // Required: key of the context item to delete\n}\n```\nDeletes a context item from the current session. Use to remove outdated information, fix mistakes, or clean up test data.\n\nReturns:\n```javascript\n{\n  deleted: true,\n  key: \"item_key\",\n  session_id: \"sess_...\"\n}\n```\n\n**context_update**\n```javascript\n{\n  key: string,                                      // Required: key of item to update\n  value?: string,                                   // Optional: new value\n  category?: 'task'|'decision'|'progress'|'note',  // Optional: new category\n  priority?: 'high'|'normal'|'low',                // Optional: new priority\n  channel?: string                                  // Optional: new channel\n}\n```\nUpdates an existing context item. Change the value, category, priority, or channel of a previously saved item. At least one field to update is required.\n\nReturns:\n```javascript\n{\n  updated: true,\n  key: \"item_key\",\n  value: \"updated content\",\n  category: \"decision\",\n  priority: \"high\",\n  channel: \"feature-auth\",\n  updated_at: 1730577600000\n}\n```\n\n**context_status**\n\nReturns session statistics including item count, size, checkpoint count, status, and compaction recommendations.\n\nReturns:\n```javascript\n{\n  current_session_id: \"sess_...\",\n  session_name: \"Implementing Auth\",\n  channel: \"feature-auth\",\n  project_path: \"/Users/you/project\",\n  status: \"active\",\n  item_count: 47,\n  total_size: 12456,\n  checkpoint_count: 3,\n  last_updated: 1730577600000,  // Unix timestamp in milliseconds\n  session_duration_ms: 3600000,  // Time from created_at to ended_at or now\n  should_compact: true,\n  compaction_reason: \"High item count (47 items, recommended: prepare at 40+ items)\"\n}\n```\n\n**context_session_rename**\n```javascript\n{\n  current_name: string,  // Required: current session name (get from context_status)\n  new_name: string       // Required: new session name\n}\n```\nRenames the current active session. Requires `current_name` for verification to prevent accidental renames.\n\n**context_list_sessions**\n```javascript\n{\n  limit?: number,              // Default: 10\n  project_path?: string,       // Optional: filter by project path (defaults to current directory)\n  status?: string,             // Optional: 'active', 'paused', 'completed', or 'all'\n  include_completed?: boolean  // Default: false\n}\n```\nLists recent sessions ordered by most recently updated. By default, filters to show only sessions from the current project path and excludes completed sessions.\n\n**context_session_end**\n\nEnds (completes) the current session. Marks the session as completed with a timestamp and clears it as the active session.\n\nReturns:\n```javascript\n{\n  session_id: \"sess_...\",\n  session_name: \"Implementing Auth\",\n  duration_ms: 3600000,\n  item_count: 47,\n  checkpoint_count: 3,\n  total_size: 12456\n}\n```\n\n**context_session_pause**\n\nPauses the current session to resume later. Preserves all session state and can be resumed with `context_session_resume`. Use when switching contexts or taking a break.\n\nReturns:\n```javascript\n{\n  session_id: \"sess_...\",\n  session_name: \"Implementing Auth\",\n  resume_instructions: \"To resume: use context_session_resume with session_id: sess_...\"\n}\n```\n\n**context_session_resume**\n```javascript\n{\n  session_id: string  // Required: ID of the session to resume\n}\n```\nResumes a previously paused session. Restores session state and sets it as the active session. Cannot resume completed sessions.\n\nReturns:\n```javascript\n{\n  session_id: \"sess_...\",\n  session_name: \"Implementing Auth\",\n  channel: \"feature-auth\",\n  project_path: \"/Users/you/project\",\n  item_count: 47,\n  created_at: 1730577600000\n}\n```\n\n**context_session_switch**\n```javascript\n{\n  session_id: string  // Required: ID of the session to switch to\n}\n```\nSwitches between sessions atomically. Pauses the current session (if any) and resumes the specified session. Use when working on multiple projects.\n\nReturns:\n```javascript\n{\n  previous_session: \"Old Session Name\",\n  current_session: \"New Session Name\",\n  session_id: \"sess_...\",\n  item_count: 23\n}\n```\n\n**context_session_delete**\n```javascript\n{\n  session_id: string  // Required: ID of the session to delete\n}\n```\nDeletes a session permanently. Cannot delete active sessions (must pause or end first). Cascade deletes all context items and checkpoints. Use to clean up accidentally created sessions.\n\nReturns:\n```javascript\n{\n  session_id: \"sess_...\",\n  session_name: \"Old Session\"\n}\n```\n\n**context_session_add_path**\n```javascript\n{\n  project_path?: string  // Optional: defaults to current working directory\n}\n```\nAdds a project path to the current session, enabling sessions to span multiple related directories (e.g., monorepo folders like `/frontend` and `/backend`, or `/app` and `/dashboard`). If the path already exists in the session, returns success without modification. Requires an active session.\n\nReturns:\n```javascript\n{\n  session_id: \"sess_...\",\n  session_name: \"Implementing Auth\",\n  project_path: \"/Users/you/project/backend\",\n  all_paths: [\"/Users/you/project/frontend\", \"/Users/you/project/backend\"],\n  path_count: 2,\n  already_existed: false\n}\n```\n\n**context_session_remove_path**\n```javascript\n{\n  project_path: string  // Required: path to remove from session\n}\n```\nRemoves a project path from the current session. Cannot remove the last path (sessions must have at least one project path). Use to clean up stale paths or paths added by mistake.\n\nReturns:\n```javascript\n{\n  session_id: \"sess_...\",\n  session_name: \"Implementing Auth\",\n  removed_path: \"/Users/you/project/old-path\",\n  remaining_paths: [\"/Users/you/project/frontend\"],\n  path_count: 1\n}\n```\n\n### Project Memory & Tasks\n\n**context_memory_save**\n```javascript\n{\n  key: string,                        // Required: unique identifier within project\n  value: string,                      // Required: the value to remember\n  category?: 'command'|'config'|'note'  // Default: 'command'\n}\n```\nSaves project memory (command, config, or note) for the current project. Memory persists across all sessions and is accessible by all agents working on this project. Useful for storing frequently used commands, API endpoints, deployment instructions, etc.\n\nIf a memory item with the same key already exists, it will be overwritten with the new value.\n\nReturns:\n```javascript\n{\n  success: true,\n  memory: {\n    id: \"mem_...\",\n    key: \"build_command\",\n    value: \"npm run build:prod\",\n    category: \"command\",\n    project_path: \"/Users/you/project\"\n  },\n  message: \"Saved memory 'build_command' to project\"\n}\n```\n\n**context_memory_get**\n```javascript\n{\n  key: string  // Required: key of the memory item to retrieve\n}\n```\nRetrieves a specific memory item by key from the current project.\n\nReturns:\n```javascript\n{\n  success: true,\n  memory: {\n    key: \"api_endpoint\",\n    value: \"https://api.example.com/v1\",\n    category: \"config\",\n    created_at: 1730577600000\n  }\n}\n```\n\n**context_memory_list**\n```javascript\n{\n  category?: 'command'|'config'|'note'  // Optional: filter by category\n}\n```\nLists all memory items for the current project with optional category filtering.\n\nReturns:\n```javascript\n{\n  success: true,\n  memory: [\n    {\n      key: \"test_command\",\n      value: \"npm test -- --coverage\",\n      category: \"command\",\n      created_at: 1730577600000\n    },\n    {\n      key: \"db_url\",\n      value: \"postgresql://localhost:5432/mydb\",\n      category: \"config\",\n      created_at: 1730577600000\n    }\n  ],\n  count: 2,\n  project_path: \"/Users/you/project\"\n}\n```\n\n**context_memory_delete**\n```javascript\n{\n  key: string  // Required: key of the memory item to delete\n}\n```\nDeletes a memory item from the current project. Use to remove outdated commands or configurations.\n\nReturns:\n```javascript\n{\n  success: true,\n  deleted: true,\n  key: \"old_command\",\n  message: \"Deleted memory 'old_command' from project\"\n}\n```\n\n**context_task_create**\n```javascript\n{\n  title: string,         // Required: task title\n  description?: string   // Optional: task description\n}\n```\nCreates a new task for the current project. Tasks persist across all sessions and are accessible by all agents working on this project. Simple todo/done status tracking.\n\nReturns:\n```javascript\n{\n  success: true,\n  task: {\n    id: \"task_...\",\n    title: \"Implement user authentication\",\n    description: \"Add JWT-based auth with refresh tokens\",\n    status: \"todo\",\n    project_path: \"/Users/you/project\",\n    created_at: 1730577600000\n  },\n  message: \"Created task: Implement user authentication\"\n}\n```\n\n**context_task_update**\n```javascript\n{\n  task_id: string,       // Required: ID of task to update\n  title?: string,        // Optional: new title\n  description?: string,  // Optional: new description\n  status?: 'todo'|'done' // Optional: new status\n}\n```\nUpdates an existing task. Can modify title, description, or status. At least one field to update is required. When marking a task as 'done', automatically sets the `completed_at` timestamp.\n\nReturns:\n```javascript\n{\n  success: true,\n  task: {\n    id: \"task_...\",\n    title: \"Implement user authentication\",\n    description: \"Add JWT-based auth with refresh tokens\",\n    status: \"done\",\n    updated_at: 1730577600000,\n    completed_at: 1730577600000\n  },\n  message: \"Updated task\"\n}\n```\n\n**context_task_list**\n```javascript\n{\n  status?: 'todo'|'done'|'all'  // Optional: filter by status (default: 'all')\n}\n```\nLists tasks for the current project with optional status filtering. Returns tasks ordered by creation date (newest first).\n\nReturns:\n```javascript\n{\n  success: true,\n  tasks: [\n    {\n      id: \"task_...\",\n      title: \"Fix login bug\",\n      description: \"Users can't login with special characters in password\",\n      status: \"todo\",\n      created_at: 1730577600000,\n      updated_at: 1730577600000\n    },\n    {\n      id: \"task_...\",\n      title: \"Add password reset\",\n      status: \"done\",\n      created_at: 1730577500000,\n      completed_at: 1730577800000\n    }\n  ],\n  count: 2,\n  project_path: \"/Users/you/project\"\n}\n```\n\n**context_task_complete**\n```javascript\n{\n  task_id: string  // Required: ID of task to mark as done\n}\n```\nQuick convenience method to mark a task as done. Equivalent to `context_task_update` with `status: 'done'`, but more concise. Automatically sets the `completed_at` timestamp.\n\nReturns:\n```javascript\n{\n  success: true,\n  task: {\n    id: \"task_...\",\n    title: \"Implement user authentication\",\n    status: \"done\",\n    completed_at: 1730577600000\n  },\n  message: \"Task marked as done\"\n}\n```\n\n### Checkpoint Management\n\n**context_checkpoint**\n```javascript\n{\n  name: string,                    // Required: checkpoint name\n  description?: string,            // Optional: checkpoint description\n  include_git?: boolean,           // Default: false\n  // Filtering options for selective checkpoints:\n  include_tags?: string[],         // Only include items with these tags\n  include_keys?: string[],         // Only include keys matching patterns (e.g., [\"feature_*\"])\n  include_categories?: string[],   // Only include these categories\n  exclude_tags?: string[]          // Exclude items with these tags\n}\n```\nCreates a named checkpoint of the current session state. Supports selective checkpoints via filters. If `include_git` is true, captures git branch and working tree status.\n\n**context_restore**\n```javascript\n{\n  checkpoint_id: string,           // Required: checkpoint ID to restore\n  // Filtering options for selective restoration:\n  restore_tags?: string[],         // Only restore items with these tags\n  restore_categories?: string[]    // Only restore items in these categories\n}\n```\nRestores context items from a checkpoint into the current session. Supports selective restoration via filters.\n\n**context_tag**\n```javascript\n{\n  keys?: string[],          // Specific item keys to tag\n  key_pattern?: string,     // Wildcard pattern (e.g., \"feature_*\")\n  tags: string[],           // Required: tags to add/remove\n  action: 'add' | 'remove'  // Required: add or remove tags\n}\n```\nTag context items for organization and filtering. Supports tagging by specific keys or wildcard patterns. Use to organize work streams and enable selective checkpoint creation.\n\n**context_checkpoint_add_items**\n```javascript\n{\n  checkpoint_id: string,   // Required: checkpoint to modify\n  item_keys: string[]      // Required: keys of items to add\n}\n```\nAdd items to an existing checkpoint. Use to incrementally build up checkpoints or add items you forgot to include.\n\n**context_checkpoint_remove_items**\n```javascript\n{\n  checkpoint_id: string,   // Required: checkpoint to modify\n  item_keys: string[]      // Required: keys of items to remove\n}\n```\nRemove items from an existing checkpoint. Use to fix checkpoints that contain unwanted items or to clean up mixed work streams.\n\n**context_checkpoint_split**\n```javascript\n{\n  source_checkpoint_id: string,  // Required: checkpoint to split\n  splits: [                      // Required: split configurations\n    {\n      name: string,              // Required: name for new checkpoint\n      description?: string,      // Optional: description\n      include_tags?: string[],   // Filter by tags\n      include_categories?: string[]  // Filter by categories\n    }\n  ]\n}\n```\nSplit a checkpoint into multiple checkpoints based on tags or categories. Use to separate mixed work streams into organized checkpoints.\n\n**Workflow Example: Splitting a Mixed Checkpoint**\n```javascript\n// Step 1: Get checkpoint details to see all items\ncontext_get_checkpoint({ checkpoint_id: \"ckpt_abc123\" })\n// Returns: { items_preview: [\n//   { key: \"auth_decision\", ... },\n//   { key: \"ui_component\", ... },\n//   { key: \"auth_impl\", ... }\n// ]}\n\n// Step 2: Tag items by work stream (use specific keys, not patterns)\ncontext_tag({\n  keys: [\"auth_decision\", \"auth_impl\"],\n  tags: [\"auth\"],\n  action: \"add\"\n})\n\ncontext_tag({\n  keys: [\"ui_component\"],\n  tags: [\"ui\"],\n  action: \"add\"\n})\n\n// Step 3: Split checkpoint using tags\ncontext_checkpoint_split({\n  source_checkpoint_id: \"ckpt_abc123\",\n  splits: [\n    {\n      name: \"auth-work\",\n      include_tags: [\"auth\"]  // REQUIRED: must have filters\n    },\n    {\n      name: \"ui-work\",\n      include_tags: [\"ui\"]    // REQUIRED: must have filters\n    }\n  ]\n})\n// Returns warnings if item counts look wrong (0 items or all items)\n\n// Step 4: Delete original mixed checkpoint\ncontext_checkpoint_delete({ checkpoint_id: \"ckpt_abc123\" })\n```\n\n**context_checkpoint_delete**\n```javascript\n{\n  checkpoint_id: string  // Required: checkpoint to delete\n}\n```\nDelete a checkpoint permanently. Use to clean up failed, duplicate, or unwanted checkpoints. Cannot be undone.\n\n**context_list_checkpoints**\n```javascript\n{\n  search?: string,              // Keyword search: name, description, session name\n  session_id?: string,          // Filter to specific session\n  project_path?: string,        // Filter to specific project (default: current)\n  include_all_projects?: boolean,  // Show all projects (default: false)\n  limit?: number,               // Max results (default: 20)\n  offset?: number               // Pagination (default: 0)\n}\n```\nLightweight checkpoint search with keyword filtering. Returns minimal data to avoid context bloat. Defaults to current project. Use `context_get_checkpoint` to get full details for specific checkpoints.\n\nReturns:\n```javascript\n{\n  checkpoints: [\n    {\n      id: \"ckpt_...\",\n      name: \"before-auth-refactor\",\n      session_id: \"sess_...\",\n      session_name: \"OAuth2 Implementation\",\n      project_path: \"/path/to/project\",\n      item_count: 23,\n      created_at: 1730577600000\n    }\n  ],\n  count: 3,\n  total_matches: 15,\n  scope: \"project\",  // \"session\" | \"project\" | \"all\"\n  has_more: true\n}\n```\n\n**context_get_checkpoint**\n```javascript\n{\n  checkpoint_id: string  // Required: checkpoint ID\n}\n```\nGet full details for a specific checkpoint. Returns complete data including description, git status/branch, and preview of top 5 high-priority items. Use after `context_list_checkpoints` to drill down.\n\nReturns:\n```javascript\n{\n  id: \"ckpt_...\",\n  name: \"before-auth-refactor\",\n  description: \"Before switching from sessions to JWT\",\n  session_id: \"sess_...\",\n  session_name: \"OAuth2 Implementation\",\n  project_path: \"/path/to/project\",\n  item_count: 23,\n  total_size: 5678,\n  git_status: \"M auth.ts\\nA jwt.ts\",\n  git_branch: \"feature/auth\",\n  created_at: 1730577600000,\n  items_preview: [\n    { key: \"auth_decision\", value: \"Use JWT instead of sessions\", category: \"decision\", priority: \"high\" }\n  ]\n}\n```\n\n**context_prepare_compaction**\n\nCreates an automatic checkpoint and analyzes the session to generate a restoration summary.\n\nReturns:\n```javascript\n{\n  checkpoint: {\n    id: \"ckpt_...\",\n    name: \"pre-compact-2025-11-02T15-30-00\",\n    session_id: \"sess_...\",\n    created_at: 1730577600000  // Unix timestamp in milliseconds\n  },\n  stats: {\n    total_items_saved: 47,\n    critical_items: 8,\n    pending_tasks: 3,\n    decisions_made: 12,\n    total_size_bytes: 12456\n  },\n  critical_context: {\n    high_priority_items: [\n      { key: \"auth_method\", value: \"OAuth2\", category: \"decision\", priority: \"high\" }\n    ],\n    next_steps: [\n      { key: \"task_1\", value: \"Implement JWT refresh\", priority: \"high\" }\n    ],\n    key_decisions: [\n      { key: \"db_choice\", value: \"PostgreSQL\", created_at: 1730577600000 }\n    ],\n    recent_progress: [\n      { key: \"progress_1\", value: \"Completed login flow\", created_at: 1730577600000 }\n    ]\n  },\n  restore_instructions: {\n    tool: \"context_restore\",\n    checkpoint_id: \"ckpt_...\",\n    message: \"To continue this session, restore from checkpoint: pre-compact-2025-11-02T15-30-00\",\n    summary: \"Session has 3 pending tasks and 12 key decisions recorded.\"\n  }\n}\n```\n\nThis tool is designed for AI agents to call proactively when `context_status` indicates high item counts.\n\n## Storage\n\nAll data is stored locally at `~/.savecontext/data/savecontext.db`. The database uses WAL mode for better concurrency and reliability.\n\n## Development\n\n```bash\ncd server\npnpm install\npnpm build    # Compile TypeScript and copy schema.sql\npnpm dev      # Run with tsx watch for development\npnpm start    # Run compiled version\n```\n\n## Contributing\n\nSee [CONTRIBUTING.md](https://github.com/greenfieldlabs-inc/savecontext/blob/main/CONTRIBUTING.md) for development guidelines.\n\n## License\n\nMIT - see [LICENSE](https://github.com/greenfieldlabs-inc/savecontext/blob/main/LICENSE)\n",
  "installCommand": "git clone https://github.com/greenfieldlabs-inc/savecontext ~/.claude/skills/savecontext",
  "defaultBranch": "main",
  "hasMarketplaceJson": false,
  "skillPath": "README.md"
}