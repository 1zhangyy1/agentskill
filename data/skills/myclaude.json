{
  "id": "48437b0d8a33493f",
  "slug": "myclaude",
  "name": "Myclaude",
  "description": "Claude Code and Codex orchestration workflow",
  "author": "cexll",
  "authorAvatar": "https://avatars.githubusercontent.com/u/26520956?v=4",
  "repoUrl": "https://github.com/cexll/myclaude",
  "repoFullName": "cexll/myclaude",
  "stars": 1361,
  "forks": 191,
  "category": "automation",
  "categories": [
    "automation"
  ],
  "tags": [],
  "tier": 1,
  "status": "active",
  "createdAt": "2025-07-17T07:13:47Z",
  "updatedAt": "2025-12-23T03:10:04Z",
  "lastCommitAt": "2025-12-22T02:33:17Z",
  "source": "github-search",
  "collectedAt": "2025-12-23T03:46:13.256Z",
  "authorUrl": "https://github.com/cexll",
  "license": "AGPL-3.0",
  "readme": "[中文](README_CN.md) [English](README.md)\n\n# Claude Code Multi-Agent Workflow System\n\n[![Run in Smithery](https://smithery.ai/badge/skills/cexll)](https://smithery.ai/skills?ns=cexll&utm_source=github&utm_medium=badge)\n\n\n[![License: AGPL-3.0](https://img.shields.io/badge/License-AGPL_v3-blue.svg)](https://www.gnu.org/licenses/agpl-3.0)\n[![Claude Code](https://img.shields.io/badge/Claude-Code-blue)](https://claude.ai/code)\n[![Version](https://img.shields.io/badge/Version-5.2-green)](https://github.com/cexll/myclaude)\n\n> AI-powered development automation with multi-backend execution (Codex/Claude/Gemini)\n\n## Core Concept: Multi-Backend Architecture\n\nThis system leverages a **dual-agent architecture** with pluggable AI backends:\n\n| Role | Agent | Responsibility |\n|------|-------|----------------|\n| **Orchestrator** | Claude Code | Planning, context gathering, verification, user interaction |\n| **Executor** | codeagent-wrapper | Code editing, test execution (Codex/Claude/Gemini backends) |\n\n**Why this separation?**\n- Claude Code excels at understanding context and orchestrating complex workflows\n- Specialized backends (Codex for code, Claude for reasoning, Gemini for prototyping) excel at focused execution\n- Backend selection via `--backend codex|claude|gemini` matches the model to the task\n\n## Quick Start(Please execute in Powershell on Windows)\n\n```bash\ngit clone https://github.com/cexll/myclaude.git\ncd myclaude\npython3 install.py --install-dir ~/.claude\n```\n\n## Workflows Overview\n\n### 1. Dev Workflow (Recommended)\n\n**The primary workflow for most development tasks.**\n\n```bash\n/dev \"implement user authentication with JWT\"\n```\n\n**6-Step Process:**\n1. **Requirements Clarification** - Interactive Q&A to clarify scope\n2. **Codex Deep Analysis** - Codebase exploration and architecture decisions\n3. **Dev Plan Generation** - Structured task breakdown with test requirements\n4. **Parallel Execution** - Codex executes tasks concurrently\n5. **Coverage Validation** - Enforce ≥90% test coverage\n6. **Completion Summary** - Report with file changes and coverage stats\n\n**Key Features:**\n- Claude Code orchestrates, Codex executes all code changes\n- Automatic task parallelization for speed\n- Mandatory 90% test coverage gate\n- Rollback on failure\n\n**Best For:** Feature development, refactoring, bug fixes with tests\n\n---\n\n### 2. BMAD Agile Workflow\n\n**Full enterprise agile methodology with 6 specialized agents.**\n\n```bash\n/bmad-pilot \"build e-commerce checkout system\"\n```\n\n**Agents:**\n| Agent | Role |\n|-------|------|\n| Product Owner | Requirements & user stories |\n| Architect | System design & tech decisions |\n| Tech Lead | Sprint planning & task breakdown |\n| Developer | Implementation |\n| Code Reviewer | Quality assurance |\n| QA Engineer | Testing & validation |\n\n**Process:**\n```\nRequirements → Architecture → Sprint Plan → Development → Review → QA\n     ↓              ↓             ↓            ↓          ↓       ↓\n   PRD.md      DESIGN.md     SPRINT.md     Code      REVIEW.md  TEST.md\n```\n\n**Best For:** Large features, team coordination, enterprise projects\n\n---\n\n### 3. Requirements-Driven Workflow\n\n**Lightweight requirements-to-code pipeline.**\n\n```bash\n/requirements-pilot \"implement API rate limiting\"\n```\n\n**Process:**\n1. Requirements generation with quality scoring\n2. Implementation planning\n3. Code generation\n4. Review and testing\n\n**Best For:** Quick prototypes, well-defined features\n\n---\n\n### 4. Development Essentials\n\n**Direct commands for daily coding tasks.**\n\n| Command | Purpose |\n|---------|---------|\n| `/code` | Implement a feature |\n| `/debug` | Debug an issue |\n| `/test` | Write tests |\n| `/review` | Code review |\n| `/optimize` | Performance optimization |\n| `/refactor` | Code refactoring |\n| `/docs` | Documentation |\n\n**Best For:** Quick tasks, no workflow overhead needed\n\n## Enterprise Workflow Features\n\n- **Multi-backend execution:** `codeagent-wrapper --backend codex|claude|gemini` (default `codex`) so you can match the model to the task without changing workflows.\n- **GitHub workflow commands:** `/gh-create-issue \"short need\"` creates structured issues; `/gh-issue-implement 123` pulls issue #123, drives development, and prepares the PR.\n- **Skills + hooks activation:** .claude/hooks run automation (tests, reviews), while `.claude/skills/skill-rules.json` auto-suggests the right skills. Keep hooks enabled in `.claude/settings.json` to activate the enterprise workflow helpers.\n\n---\n\n## Version Requirements\n\n### Codex CLI\n**Minimum version:** Check compatibility with your installation\n\nThe codeagent-wrapper uses these Codex CLI features:\n- `codex e` - Execute commands (shorthand for `codex exec`)\n- `--skip-git-repo-check` - Skip git repository validation\n- `--json` - JSON stream output format\n- `-C <workdir>` - Set working directory\n- `resume <session_id>` - Resume previous sessions\n\n**Verify Codex CLI is installed:**\n```bash\nwhich codex\ncodex --version\n```\n\n### Claude CLI\n**Minimum version:** Check compatibility with your installation\n\nRequired features:\n- `--output-format stream-json` - Streaming JSON output format\n- `--setting-sources` - Control setting sources (prevents infinite recursion)\n- `--dangerously-skip-permissions` - Skip permission prompts (use with caution)\n- `-p` - Prompt input flag\n- `-r <session_id>` - Resume sessions\n\n**Security Note:** The wrapper only adds `--dangerously-skip-permissions` for Claude when explicitly enabled (e.g. `--skip-permissions` / `CODEAGENT_SKIP_PERMISSIONS=true`). Keep it disabled unless you understand the risk.\n\n**Verify Claude CLI is installed:**\n```bash\nwhich claude\nclaude --version\n```\n\n### Gemini CLI\n**Minimum version:** Check compatibility with your installation\n\nRequired features:\n- `-o stream-json` - JSON stream output format\n- `-y` - Auto-approve prompts (non-interactive mode)\n- `-r <session_id>` - Resume sessions\n- `-p` - Prompt input flag\n\n**Verify Gemini CLI is installed:**\n```bash\nwhich gemini\ngemini --version\n```\n\n---\n\n## Installation\n\n### Modular Installation (Recommended)\n\n```bash\n# Install all enabled modules (dev + essentials by default)\npython3 install.py --install-dir ~/.claude\n\n# Install specific module\npython3 install.py --module dev\n\n# List available modules\npython3 install.py --list-modules\n\n# Force overwrite existing files\npython3 install.py --force\n```\n\n### Available Modules\n\n| Module | Default | Description |\n|--------|---------|-------------|\n| `dev` | ✓ Enabled | Dev workflow + Codex integration |\n| `essentials` | ✓ Enabled | Core development commands |\n| `bmad` | Disabled | Full BMAD agile workflow |\n| `requirements` | Disabled | Requirements-driven workflow |\n\n### What Gets Installed\n\n```\n~/.claude/\n├── bin/\n│   └── codeagent-wrapper    # Main executable\n├── CLAUDE.md                # Core instructions and role definition\n├── commands/                # Slash commands (/dev, /code, etc.)\n├── agents/                  # Agent definitions\n├── skills/\n│   └── codex/\n│       └── SKILL.md         # Codex integration skill\n├── config.json              # Configuration\n└── installed_modules.json   # Installation status\n```\n\n### Customizing Installation Directory\n\nBy default, myclaude installs to `~/.claude`. You can customize this using the `INSTALL_DIR` environment variable:\n\n```bash\n# Install to custom directory\nINSTALL_DIR=/opt/myclaude bash install.sh\n\n# Update your PATH accordingly\nexport PATH=\"/opt/myclaude/bin:$PATH\"\n```\n\n**Directory Structure:**\n- `$INSTALL_DIR/bin/` - codeagent-wrapper binary\n- `$INSTALL_DIR/skills/` - Skill definitions\n- `$INSTALL_DIR/config.json` - Configuration file\n- `$INSTALL_DIR/commands/` - Slash command definitions\n- `$INSTALL_DIR/agents/` - Agent definitions\n\n**Note:** When using a custom installation directory, ensure that `$INSTALL_DIR/bin` is added to your `PATH` environment variable.\n\n### Configuration\n\nEdit `config.json` to customize:\n\n```json\n{\n  \"version\": \"1.0\",\n  \"install_dir\": \"~/.claude\",\n  \"modules\": {\n    \"dev\": {\n      \"enabled\": true,\n      \"operations\": [\n        {\"type\": \"merge_dir\", \"source\": \"dev-workflow\"},\n        {\"type\": \"copy_file\", \"source\": \"memorys/CLAUDE.md\", \"target\": \"CLAUDE.md\"},\n        {\"type\": \"copy_file\", \"source\": \"skills/codex/SKILL.md\", \"target\": \"skills/codex/SKILL.md\"},\n        {\"type\": \"run_command\", \"command\": \"bash install.sh\"}\n      ]\n    }\n  }\n}\n```\n\n**Operation Types:**\n| Type | Description |\n|------|-------------|\n| `merge_dir` | Merge subdirs (commands/, agents/) into install dir |\n| `copy_dir` | Copy entire directory |\n| `copy_file` | Copy single file to target path |\n| `run_command` | Execute shell command |\n\n---\n\n## Codex Integration\n\nThe `codex` skill enables Claude Code to delegate code execution to Codex CLI.\n\n### Usage in Workflows\n\n```bash\n# Codex is invoked via the skill\ncodeagent-wrapper - <<'EOF'\nimplement @src/auth.ts with JWT validation\nEOF\n```\n\n### Parallel Execution\n\n```bash\ncodeagent-wrapper --parallel <<'EOF'\n---TASK---\nid: backend_api\nworkdir: /project/backend\n---CONTENT---\nimplement REST endpoints for /api/users\n\n---TASK---\nid: frontend_ui\nworkdir: /project/frontend\ndependencies: backend_api\n---CONTENT---\ncreate React components consuming the API\nEOF\n```\n\n### Install Codex Wrapper\n\n```bash\n# Automatic (via dev module)\npython3 install.py --module dev\n\n# Manual\nbash install.sh\n```\n\n#### Windows\n\nWindows installs place `codeagent-wrapper.exe` in `%USERPROFILE%\\bin`.\n\n```powershell\n# PowerShell (recommended)\npowershell -ExecutionPolicy Bypass -File install.ps1\n\n# Batch (cmd)\ninstall.bat\n```\n\n**Add to PATH** (if installer doesn't detect it):\n\n```powershell\n# PowerShell - persistent for current user\n[Environment]::SetEnvironmentVariable('PATH', \"$HOME\\bin;\" + [Environment]::GetEnvironmentVariable('PATH','User'), 'User')\n\n# PowerShell - current session only\n$Env:PATH = \"$HOME\\bin;$Env:PATH\"\n```\n\n```batch\nREM cmd.exe - persistent for current user\nsetx PATH \"%USERPROFILE%\\bin;%PATH%\"\n```\n\n---\n\n## Workflow Selection Guide\n\n| Scenario | Recommended Workflow |\n|----------|---------------------|\n| New feature with tests | `/dev` |\n| Quick bug fix | `/debug` or `/code` |\n| Large multi-sprint feature | `/bmad-pilot` |\n| Prototype or POC | `/requirements-pilot` |\n| Code review | `/review` |\n| Performance issue | `/optimize` |\n\n---\n\n## Troubleshooting\n\n### Common Issues\n\n**Codex wrapper not found:**\n```bash\n# Check PATH\necho $PATH | grep -q \"$HOME/.claude/bin\" || echo 'export PATH=\"$HOME/.claude/bin:$PATH\"' >> ~/.zshrc\n\n# Reinstall\nbash install.sh\n```\n\n**Permission denied:**\n```bash\npython3 install.py --install-dir ~/.claude --force\n```\n\n**Module not loading:**\n```bash\n# Check installation status\ncat ~/.claude/installed_modules.json\n\n# Reinstall specific module\npython3 install.py --module dev --force\n```\n\n### Version Compatibility Issues\n\n**Backend CLI not found:**\n```bash\n# Check if backend CLIs are installed\nwhich codex\nwhich claude\nwhich gemini\n\n# Install missing backends\n# Codex: Follow installation instructions at https://codex.docs\n# Claude: Follow installation instructions at https://claude.ai/docs\n# Gemini: Follow installation instructions at https://ai.google.dev/docs\n```\n\n**Unsupported CLI flags:**\n```bash\n# If you see errors like \"unknown flag\" or \"invalid option\"\n\n# Check backend CLI version\ncodex --version\nclaude --version\ngemini --version\n\n# For Codex: Ensure it supports `e`, `--skip-git-repo-check`, `--json`, `-C`, and `resume`\n# For Claude: Ensure it supports `--output-format stream-json`, `--setting-sources`, `-r`\n# For Gemini: Ensure it supports `-o stream-json`, `-y`, `-r`, `-p`\n\n# Update your backend CLI to the latest version if needed\n```\n\n**JSON parsing errors:**\n```bash\n# If you see \"failed to parse JSON output\" errors\n\n# Verify the backend outputs stream-json format\ncodex e --json \"test task\"  # Should output newline-delimited JSON\nclaude --output-format stream-json -p \"test\"  # Should output stream JSON\n\n# If not, your backend CLI version may be too old or incompatible\n```\n\n**Infinite recursion with Claude backend:**\n```bash\n# The wrapper prevents this with `--setting-sources \"\"` flag\n# If you still see recursion, ensure your Claude CLI supports this flag\n\nclaude --help | grep \"setting-sources\"\n\n# If flag is not supported, upgrade Claude CLI\n```\n\n**Session resume failures:**\n```bash\n# Check if session ID is valid\ncodex history  # List recent sessions\nclaude history\n\n# Ensure backend CLI supports session resumption\ncodex resume <session_id> \"test\"  # Should continue from previous session\nclaude -r <session_id> \"test\"\n\n# If not supported, use new sessions instead of resume mode\n```\n\n---\n\n## Documentation\n\n### Core Guides\n- **[Codeagent-Wrapper Guide](docs/CODEAGENT-WRAPPER.md)** - Multi-backend execution wrapper\n- **[Hooks Documentation](docs/HOOKS.md)** - Custom hooks and automation\n\n### Additional Resources\n- **[Installation Log](install.log)** - Installation history and troubleshooting\n\n---\n\n## License\n\nAGPL-3.0 License - see [LICENSE](LICENSE)\n\n## Support\n\n- **Issues**: [GitHub Issues](https://github.com/cexll/myclaude/issues)\n- **Documentation**: [docs/](docs/)\n\n---\n\n**Claude Code + Codex = Better Development** - Orchestration meets execution.\n",
  "installCommand": "git clone https://github.com/cexll/myclaude ~/.claude/skills/myclaude",
  "defaultBranch": "master",
  "hasMarketplaceJson": false,
  "skillPath": "README.md"
}