{
  "id": "e2dd78e0527ac19f",
  "slug": "agent-relay",
  "name": "Agent Relay",
  "description": "Independent agent to agent communication",
  "author": "khaliqgant",
  "authorAvatar": "https://avatars.githubusercontent.com/u/1724137?v=4",
  "repoUrl": "https://github.com/khaliqgant/agent-relay",
  "repoFullName": "khaliqgant/agent-relay",
  "stars": 5,
  "forks": 0,
  "category": "other",
  "categories": [
    "other"
  ],
  "tags": [],
  "tier": 3,
  "status": "active",
  "createdAt": "2025-12-17T14:09:13Z",
  "updatedAt": "2025-12-26T15:27:27Z",
  "lastCommitAt": "2025-12-26T20:32:09Z",
  "source": "github-search",
  "collectedAt": "2025-12-27T03:32:31.573Z",
  "authorUrl": "https://github.com/khaliqgant",
  "license": "MIT",
  "readme": "# agent-relay\n\nReal-time messaging between AI agents.\n\n## Install\n\n```bash\nnpm install -g agent-relay\n```\n\n**Requirements:** Node.js 20+, tmux\n\n## Quick Start\n\n```bash\n# Terminal 1: Start daemon\nagent-relay up\n\n# Terminal 2: Start an agent\nagent-relay -n Alice claude\n\n# Terminal 3: Start another agent\nagent-relay -n Bob codex\n```\n\nAgents communicate by outputting `->relay:` patterns:\n\n```\n->relay:Bob Hey, can you review my changes?\n->relay:* Broadcasting to everyone\n```\n\n## CLI\n\n| Command | Description |\n|---------|-------------|\n| `agent-relay <cmd>` | Wrap agent with messaging |\n| `agent-relay -n Name <cmd>` | Wrap with specific name |\n| `agent-relay up` | Start daemon + dashboard |\n| `agent-relay down` | Stop daemon |\n| `agent-relay status` | Check if running |\n| `agent-relay read <id>` | Read truncated message |\n| `agent-relay bridge <projects...>` | Bridge multiple projects |\n| `agent-relay lead <name>` | Start as project lead |\n\n## How It Works\n\n1. `agent-relay up` starts a daemon that routes messages via Unix socket\n2. `agent-relay <cmd>` wraps your agent in tmux, parsing output for `->relay:` patterns\n3. Messages are injected into recipient terminals in real-time\n\n```\n┌─────────────┐     ┌─────────────┐\n│ Agent Alice │     │  Agent Bob  │\n│   (tmux)    │     │   (tmux)    │\n└──────┬──────┘     └──────┬──────┘\n       │                   │\n       └─────────┬─────────┘\n                 │\n        Unix Domain Socket\n                 │\n        ┌────────┴────────┐\n        │  relay daemon   │\n        └─────────────────┘\n```\n\n## Agent Communication\n\n### Send Message\n\n```\n->relay:AgentName Your message here\n```\n\n### Broadcast\n\n```\n->relay:* Message to all agents\n```\n\n### Receive\n\nMessages appear as:\n\n```\nRelay message from Alice [abc123]: Your message here\n```\n\n### Truncated Messages\n\nLong messages are truncated. Use the ID to read full content:\n\n```bash\nagent-relay read abc123\n```\n\n## Agent Roles\n\nAgent names automatically match role definitions (case-insensitive):\n\n```bash\n# If .claude/agents/lead.md exists:\nagent-relay -n Lead claude    # matches lead.md\nagent-relay -n LEAD claude    # matches lead.md\nagent-relay -n lead claude    # matches lead.md\n\n# Supported locations:\n# - .claude/agents/<name>.md\n# - .openagents/<name>.md\n```\n\nCreate role agents for your team:\n\n```\n.claude/agents/\n├── lead.md          # Coordinator\n├── implementer.md   # Developer\n├── designer.md      # UI/UX\n└── reviewer.md      # Code review\n```\n\n## Multi-Project Orchestration\n\nBridge multiple projects with a single orchestrator:\n\n```bash\n# Bridge projects (Architect mode)\nagent-relay bridge ~/auth ~/frontend ~/api\n\n# Start as project lead with spawn capability\nagent-relay lead Alice\n```\n\n### Workflow\n\n1. **Start daemons** in each project: `agent-relay up`\n2. **Start leads** in each project: `agent-relay lead Alice`\n3. **Bridge** from anywhere: `agent-relay bridge ~/project1 ~/project2`\n\n### Cross-Project Messaging\n\n```\n->relay:projectId:agent Message to specific agent\n->relay:*:lead Broadcast to all project leads\n```\n\n### Spawn Agents (Lead only)\n\n```\n->relay:spawn Dev1 claude \"Implement login endpoint\"\n->relay:release Dev1\n```\n\nSee [docs/DESIGN_BRIDGE_STAFFING.md](docs/DESIGN_BRIDGE_STAFFING.md) for full details.\n\n## Enabling AI Agents\n\nTo teach your AI agents how to use agent-relay, you have two options:\n\n### Option 1: Install the Skill (Recommended)\n\n```bash\nprpm install using-agent-relay\n```\n\nThis installs the `using-agent-relay` skill which provides agents with messaging patterns, coordination workflows, and troubleshooting guidance.\n\n### Option 2: Copy AGENTS.md\n\nCopy [docs/AGENTS.md](docs/AGENTS.md) to your project's agent instructions file (e.g., `CLAUDE.md`, `AGENTS.md`, or similar). This gives agents the messaging syntax and patterns they need.\n\n## Dashboard\n\n`agent-relay up` starts a web dashboard at http://localhost:3888\n\n![Agent Relay Dashboard](dashboard.png)\n\n## REST API for Spawning Agents\n\nThe dashboard includes a REST API for programmatically spawning and managing agents.\n\n### Endpoints\n\n| Method | Endpoint | Description |\n|--------|----------|-------------|\n| `POST` | `/api/spawn` | Spawn a new agent |\n| `GET` | `/api/spawned` | List spawned agents |\n| `DELETE` | `/api/spawned/:name` | Release an agent |\n\n### Examples\n\n```bash\n# Spawn an agent\ncurl -X POST http://localhost:3888/api/spawn \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"name\": \"Dev1\", \"cli\": \"claude\", \"task\": \"Implement login\"}'\n\n# List spawned agents\ncurl http://localhost:3888/api/spawned\n\n# Release an agent\ncurl -X DELETE http://localhost:3888/api/spawned/Dev1\n```\n\n### Response Format\n\n```json\n{\n  \"success\": true,\n  \"name\": \"Dev1\",\n  \"window\": \"relay-workers:Dev1\"\n}\n```\n\n## Troubleshooting\n\n| Issue | Solution |\n|-------|----------|\n| Messages not sending | `agent-relay status` to check daemon |\n| Socket not found | `agent-relay up` to start daemon |\n| Truncated message | `agent-relay read <id>` |\n\n## Development\n\n```bash\ngit clone https://github.com/khaliqgant/agent-relay.git\ncd agent-relay\nnpm install && npm run build\n```\n\n## Why agent-relay?\n\n### The Composable Approach\n\nMost multi-agent tools try to be complete solutions - handling communication, memory, UI, workflows, and orchestration. agent-relay takes a different approach: **do one thing exceptionally well** (real-time messaging) and integrate with best-of-breed tools for everything else.\n\n```\n┌─────────────────────────────────────────────────────────────┐\n│                    Your Agent System                        │\n├─────────────────────────────────────────────────────────────┤\n│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐         │\n│  │   Mimir     │  │  Maestro    │  │    Beads    │         │\n│  │  (Memory)   │  │    (UI)     │  │ (Workflows) │         │\n│  └──────┬──────┘  └──────┬──────┘  └──────┬──────┘         │\n│         └────────────────┼────────────────┘                 │\n│                ┌─────────▼─────────┐                        │\n│                │   agent-relay     │  ◄── Messaging layer   │\n│                │     <5ms P2P      │                        │\n│                └─────────┬─────────┘                        │\n│         ┌────────────────┼────────────────┐                 │\n│    ┌────▼────┐     ┌────▼────┐     ┌────▼────┐             │\n│    │ Claude  │     │  Codex  │     │  Gemini │             │\n│    └─────────┘     └─────────┘     └─────────┘             │\n└─────────────────────────────────────────────────────────────┘\n```\n\n### Unix Philosophy\n\n- **Do one thing well**: Real-time agent messaging with <5ms latency\n- **Work with others**: Simple `->relay:` pattern, standard I/O\n- **Text streams**: Messages are just text, easy to parse/transform\n- **Composability**: Pipe into other tools, wrap any CLI\n\n### When to Use agent-relay\n\n| Use Case | agent-relay? |\n|----------|--------------|\n| Quick prototyping with multiple agents | **Yes** - 1 min setup |\n| Real-time agent collaboration | **Yes** - fastest option |\n| CLI-native workflows | **Yes** - no Electron/desktop needed |\n| Need persistent knowledge graph | Combine with Mimir |\n| Need rich desktop UI | Combine with Maestro |\n| Enterprise compliance | Combine with governance layer |\n\nSee [docs/COMPETITIVE_ANALYSIS.md](docs/COMPETITIVE_ANALYSIS.md) for detailed comparisons with 16 other multi-agent tools.\n\n---\n\n## Inspiration\n\nThis project was inspired by some excellent work in the multi-agent coordination space:\n\n- **[mcp_agent_mail](https://github.com/Dicklesworthstone/mcp_agent_mail)** - A brilliant MCP-based approach to agent messaging with file-based inboxes and structured message handling. Great patterns for durable, asynchronous agent communication.\n\n- **[swarm-tools / swarm-mail](https://github.com/joelhooks/swarm-tools)** - An exceptional event-sourced coordination system with durable cursors, locks, deferred responses, and ask/respond patterns. The gold standard for robust multi-agent workflows with full audit trails.\n\nBoth projects informed our thinking around durability, message threading, and coordination primitives. Check them out!\n\n## License\n\nMIT\n",
  "installCommand": "git clone https://github.com/khaliqgant/agent-relay ~/.claude/skills/agent-relay",
  "defaultBranch": "main",
  "hasMarketplaceJson": false,
  "skillPath": "README.md"
}