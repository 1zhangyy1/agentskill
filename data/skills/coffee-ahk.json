{
  "id": "9843a1e7f6646664",
  "slug": "coffee-ahk",
  "name": "Coffee Ahk",
  "description": "Coffeescript -> AHK",
  "author": "phonowell",
  "authorAvatar": "https://avatars.githubusercontent.com/u/4003634?v=4",
  "repoUrl": "https://github.com/phonowell/coffee-ahk",
  "repoFullName": "phonowell/coffee-ahk",
  "stars": 22,
  "forks": 2,
  "category": "automation",
  "categories": [
    "automation"
  ],
  "tags": [
    "ahk",
    "javascript"
  ],
  "tier": 2,
  "status": "active",
  "createdAt": "2020-09-08T08:06:56Z",
  "updatedAt": "2025-12-12T08:50:27Z",
  "lastCommitAt": "2025-12-12T08:50:23Z",
  "source": "github-search",
  "collectedAt": "2025-12-13T03:26:16.061Z",
  "authorUrl": "https://github.com/phonowell",
  "license": "MIT",
  "readme": "# coffee-ahk\n\nTranslate `coffeescript` to `ahk`.\n\n[Documentation](./docs/documentation.md) | [æ–‡æ¡£](./docs/cn/documentation.md) | [AI Agent ä½¿ç”¨æŒ‡å—](./USAGE.md)\n\n> **For AI Agents**: See [USAGE.md](./USAGE.md) for a comprehensive guide on writing CoffeeScript for AHK transpilation. The document is in Chinese, but AI agents can read and understand it without issues.\n\n## Features\n\n- Transpiles CoffeeScript to AutoHotkey v1 scripts\n- Supports class syntax, inheritance, and method binding\n- Import/export syntax for modules (including `.coffee`, `.ahk`, `.json`, `.yaml`)\n  - `import './module'` (side-effect), `import m from './module'` (default), `import { a, b } from './module'` (named), `import m, { a } from './module'` (mixed)\n  - `export default` (single expression, multiline block, or object literal)\n  - `export { named, exports }` (named exports with optional key-value pairs)\n  - Recursive import resolution and namespace isolation\n- Partial npm package management support (install and import local/third-party modules)\n- Functional programming support; functions are first-class citizens\n- Arrow functions (`->`, `=>`) and `this` binding\n- Function parameter binding, default values, and rest parameters\n- Destructuring assignment for arrays and objects\n- Supports various syntactic sugar, such as destructuring, splats, chained comparisons, negative indexing, and if-then-else expressions\n- Try/catch/finally error handling\n- Chained and implicit function calls\n- Anonymous and higher-order functions\n- Native AHK code embedding with backticks\n- Strict variable and reserved word checking\n- Optional TypeScript static type system support via plugins\n\n## Usage\n\n```shell\npnpm i coffee-ahk\n```\n\n```typescript\nimport c2a from \"coffee-ahk\";\n\nawait c2a(\"./script/toolkit/index.coffee\", {\n  salt: \"toolkit\",\n  save: true,\n  verbose: false,\n});\n```\n\n## Options\n\n| Option     | Type    | Default | Description                                    |\n| ---------- | ------- | ------- | ---------------------------------------------- |\n| `salt`     | string  | random  | Identifier prefix for generated functions      |\n| `save`     | boolean | true    | Write output to `.ahk` file                    |\n| `string`   | boolean | false   | Return compiled string instead of writing file |\n| `comments` | boolean | false   | Preserve comments in output                    |\n| `metadata` | boolean | true    | Include timestamp comment in output            |\n| `verbose`  | boolean | false   | Enable debug logging                           |\n\n## Limitations\n\n- AutoHotkey is case-insensitive; variable and function names are not case-sensitive.\n  **Class names are simulated as case-sensitive:**\n  - Class names must start with an uppercase letter.\n  - All class identifiers are rendered with uppercase letters replaced by full-width Unicode for AHK v1 case simulation (e.g., `Animal` â†’ `ï¼¡nimal`).\n- No support for getter/setter\n- **Implicit return is limited**:\n  - Maximum 2 newlines (3 lines of code) for regular functions\n  - Maximum 1 newline (2 lines) for object literals without braces\n  - Functions with `for`/`if`/`while`/`try` as last statement require explicit `return`\n  - Exceeding these limits requires explicit `return` statement\n- No true boolean type in AHK; `true`, `false`, `on`, and `off` are syntactic sugar\n- Character and number distinction is blurred in AHK; `'0'` is falsy\n- `NaN`, `null`, and `undefined` are converted to the empty string `''`\n- Optional chaining (`?`) is not supported (compiler error)\n- Unsigned right shift (`>>>`) is not supported (compiler error)\n- `async`/`await` and generators (`yield`) are not supported (compiler error)\n- For-loop destructuring (`for [a, b] in arr`) is not supported (compiler error). Workaround: `for item in arr` then `[a, b] = item`\n- Nested array destructuring (`[a, [b, c]] = x`) is not supported (compiler error). Workaround: flatten manually\n- Nested if-then-else expressions (`if a then (if b then c else d) else e`) are not supported (compiler error). Workaround: use temporary variables or separate statements\n- Floor division (`//`) and modulo (`%%`) operators conflict with AHK syntax (compiler error)\n- Avoid using `=>` outside classes; pure functions in AHK lack `this`\n- `.coffee` files must be UTF-8; `.ahk` files must be UTF-8 with BOM\n- Import/export and npm package management are incomplete\n- **Class + Export conflict**: AHK v1 classes must be defined at top-level (not inside functions/closures). Since exported modules are wrapped in `do ->` for scope isolation, classes cannot be exported directly. Workaround: define classes in separate files without `export`, then use side-effect imports (`import './myclass'`) to include them at top-level.\n- **Array/Object index limitation**: In AHK v1, `[]` is syntactic sugar for `{}` (`[a,b]` equals `{1:a, 2:b}`), and there is no native way to distinguish arrays from objects. The index converter (`â„“ci`) assumes arrays use numeric indices and objects use string keys. If you use numeric keys on objects (e.g., `obj[0]`), it will be incorrectly converted to `obj[1]`. Note: In AHK v1, `obj[0]` and `obj[\"0\"]` access **different keys** (numeric vs string). Variables are an exception: `i := \"0\"; obj[i]` accesses the numeric key (pure numeric strings are auto-converted). Workaround: use `obj[\"0\"]` for string keys, or use Native embedding for direct AHK access.\n- **Native variable references**: Inside functions, Native code automatically uses temporary variables (`Î»_var`) to bridge closure variables. Before a Native block: `Î»_var := Î».var`, after: `Î».var := Î»_var`. This allows AHK commands like `Sort`, `StringUpper` to work with simple variables.\n\n---\n\n## Language Feature Compatibility\n\n| Feature / Syntax                        | CoffeeScript |     AutoHotkey v1     | coffee-ahk |\n| --------------------------------------- | :----------: | :-------------------: | :--------: |\n| **coffee-ahk Advantages** (AHK âŒ â†’ âœ…) |\n| Arrow functions (`->`, `=>`)            |      âœ…      |          âŒ           |     âœ…     |\n| Anonymous functions                     |      âœ…      | âš ï¸ (Func object only) |     âœ…     |\n| `this` binding with `=>`                |      âœ…      |          âŒ           |     âœ…     |\n| Array destructuring                     |      âœ…      |          âŒ           |     âœ…     |\n| Object destructuring                    |      âœ…      |          âŒ           |     ğŸŸ¡     |\n| String interpolation (`\"#{}\"`)          |      âœ…      |   âš ï¸ (`%var%` only)   |     âœ…     |\n| Multiline strings (`\"\"\"`)               |      âœ…      |   âš ï¸ (continuation)   |     âœ…     |\n| `unless` (negated if)                   |      âœ…      |          âŒ           |     âœ…     |\n| `until` (negated while)                 |      âœ…      |          âŒ           |     âœ…     |\n| Implicit return                         |      âœ…      |          âŒ           |     ğŸŸ¡     |\n| `do` (IIFE)                             |      âœ…      |          âŒ           |     âœ…     |\n| Implicit function calls                 |      âœ…      |  âš ï¸ (commands only)   |     âœ…     |\n| `import`/`export`                       |      âœ…      |    âš ï¸ (`#Include`)    |     ğŸŸ¡     |\n| **Fully Supported**                     |\n| Class declaration & inheritance         |      âœ…      |          âœ…           |     âœ…     |\n| Constructor (`__New`)                   |      âœ…      |          âœ…           |     âœ…     |\n| `super` / `base`                        |      âœ…      |          âœ…           |     âœ…     |\n| Static methods/properties               |      âœ…      |          âœ…           |     âœ…     |\n| Function default parameters             |      âœ…      |  âœ… (literals only)   |     âœ…     |\n| `if`/`else`, `switch`/`case`            |      âœ…      |          âœ…           |     âœ…     |\n| `for key, value in obj`                 |      âœ…      |          âœ…           |     âœ…     |\n| `while`/`loop`                          |      âœ…      |          âœ…           |     âœ…     |\n| `break`/`continue`                      |      âœ…      |          âœ…           |     âœ…     |\n| `try`/`catch`/`finally`/`throw`         |      âœ…      |          âœ…           |     âœ…     |\n| Array/Object literals                   |      âœ…      |          âœ…           |     âœ…     |\n| Boolean, Comparison, Logical ops        |      âœ…      |          âœ…           |     âœ…     |\n| Bitwise operators (`&\\|^~<<>>`)         |      âœ…      |          âœ…           |     âœ…     |\n| `new` operator                          |      âœ…      |          âœ…           |     âœ…     |\n| Chained method calls                    |      âœ…      |          âœ…           |     âœ…     |\n| Native AHK embedding (backticks)        |      âŒ      |          âœ…           |     âœ…     |\n| **Partial Support**                     |\n| Rest parameters (`...args`)             |      âœ…      |     âš ï¸ (variadic)     |     ğŸŸ¡     |\n| Spread in function calls                |      âœ…      |     âš ï¸ (variadic)     |     ğŸŸ¡     |\n| `typeof`                                |      âœ…      |          âŒ           |     âœ…     |\n| `instanceof`                            |      âœ…      |          âŒ           |     âœ…     |\n| Chained comparison (`1<y<10`)           |      âœ…      |          âŒ           |     âœ…     |\n| Negative indexing (`arr[-1]`)           |      âœ…      |          âŒ           |     âœ…     |\n| If-then-else expr (`if a then b else c`)|      âœ…      |          âŒ           |     âœ…     |\n| **Not Supported**                       |\n| Optional chaining (`?.`)                |      âœ…      |          âŒ           |     âŒ     |\n| Nullish coalescing (`??`)               |      âœ…      |          âŒ           |     âŒ     |\n| Getter/Setter                           |      âœ…      |    âš ï¸ (meta-funcs)    |     âŒ     |\n| `async`/`await`                         |      âœ…      |          âŒ           |     âŒ     |\n| Generator/`yield`                       |      âœ…      |          âŒ           |     âŒ     |\n| `Map`/`Set`/`Symbol`                    |      âœ…      |          âŒ           |     âŒ     |\n\nNote: Features marked âŒ in the coffee-ahk column will produce a **compiler error** with a helpful message.\n\nLegend:\nâœ… Supported & equivalentâ€ƒâ€ƒğŸŸ¡ Partially supported / limitedâ€ƒâ€ƒâš ï¸ Supported with caveatsâ€ƒâ€ƒâŒ Not supported\n",
  "installCommand": "git clone https://github.com/phonowell/coffee-ahk ~/.claude/skills/coffee-ahk",
  "defaultBranch": "main",
  "hasMarketplaceJson": false,
  "skillPath": "README.md"
}