{
  "id": "155fe3e650d41c8f",
  "slug": "sgcarstrends",
  "name": "Sgcarstrends",
  "description": "Monorepo for SG Cars Trends backend services",
  "author": "sgcarstrends",
  "authorAvatar": "https://avatars.githubusercontent.com/u/169606012?v=4",
  "repoUrl": "https://github.com/sgcarstrends/sgcarstrends",
  "repoFullName": "sgcarstrends/sgcarstrends",
  "stars": 12,
  "forks": 1,
  "category": "other",
  "categories": [
    "other"
  ],
  "tags": [
    "api",
    "aws-lambda",
    "backend",
    "hono",
    "job-scheduler",
    "neon-postgres",
    "neondb",
    "sst",
    "typescript",
    "upstash",
    "upstash-qstash",
    "upstash-redis",
    "upstash-workflow",
    "zod"
  ],
  "tier": 3,
  "status": "active",
  "createdAt": "2023-11-05T06:41:21Z",
  "updatedAt": "2025-12-24T05:57:42Z",
  "lastCommitAt": "2025-12-24T14:25:11Z",
  "source": "github-search",
  "collectedAt": "2025-12-26T03:41:31.578Z",
  "authorUrl": "https://github.com/sgcarstrends",
  "license": "MIT",
  "readme": "# SG Cars Trends\n\n[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](https://opensource.org/licenses/MIT)\n\n## Overview\n\nThis monorepo provides a complete platform for SG Cars Trends, tracking Singapore's car registration statistics and Certificate of Entitlement (COE) data. The system includes:\n\n- **Web Application**: Next.js 16 frontend with Cache Components, co-located route components, enhanced homepage featuring latest COE results, interactive charts, analytics, and AI-generated blog content with responsive design\n- **REST API**: Hono-based API with type-safe endpoints for car registrations and COE results\n- **Integrated Data Updater**: QStash workflow-based system for fetching and processing LTA data\n- **LLM Blog Generation**: Automated blog post creation using Vercel AI SDK with Google Gemini for market insights\n- **Social Media Integration**: Automated posting to Discord, LinkedIn, Telegram, and Twitter with trackable redirect routes\n- **Infrastructure**: SST v3 serverless deployment on AWS with multi-stage environments\n\n## System Overview\n\n```mermaid\ngraph TB\n    subgraph \"Frontend\"\n        WEB[Web App<br/>Next.js 16]\n        BLOG[Blog Posts<br/>AI Generated]\n    end\n    \n    subgraph \"Backend Services\"\n        API[API Service<br/>Hono Framework]\n        WORKFLOWS[Data Workflows<br/>QStash]\n        LLM[Vercel AI SDK<br/>Blog Generation]\n    end\n    \n    subgraph \"Data Layer\"\n        DB[(PostgreSQL<br/>Neon)]\n        REDIS[(Redis Cache<br/>Upstash)]\n    end\n    \n    subgraph \"External APIs\"\n        LTA[LTA DataMall<br/>Gov Data]\n    end\n    \n    subgraph \"Social Platforms\"\n        DISCORD[Discord]\n        LINKEDIN[LinkedIn]\n        TWITTER[Twitter]\n        TELEGRAM[Telegram]\n    end\n    \n    subgraph \"Infrastructure\"\n        AWS[AWS Lambda<br/>SST v3]\n    end\n    \n    WEB --> API\n    API --> DB\n    API --> REDIS\n    API --> WORKFLOWS\n    \n    WORKFLOWS --> LTA\n    WORKFLOWS --> DB\n    WORKFLOWS --> LLM\n    LLM --> BLOG\n    \n    WORKFLOWS --> DISCORD\n    WORKFLOWS --> LINKEDIN  \n    WORKFLOWS --> TWITTER\n    WORKFLOWS --> TELEGRAM\n    \n    API --> AWS\n    WEB --> AWS\n    \n    classDef frontend fill:#e1f5fe\n    classDef backend fill:#f3e5f5\n    classDef data fill:#e8f5e8\n    classDef external fill:#fff3e0\n    classDef social fill:#fce4ec\n    classDef infra fill:#f1f8e9\n    \n    class WEB,BLOG frontend\n    class API,WORKFLOWS,LLM backend\n    class DB,REDIS data\n    class LTA external\n    class DISCORD,LINKEDIN,TWITTER,TELEGRAM social\n    class AWS infra\n```\n\n## Project Structure\n\n```\nsgcarstrends/\n├── apps/\n│   ├── api/          # Unified API service with integrated updater\n│   │   ├── src/v1/          # API endpoints for data access\n│   │   ├── src/lib/         # Workflows, social media, and LLM blog generation\n│   │   ├── src/routes/      # Workflow endpoints and webhooks\n│   │   └── src/config/      # Database, Redis, QStash configurations\n│   ├── web/          # Next.js 16 frontend application\n│   │   ├── src/app/         # Next.js App Router pages and layouts\n│   │   │   ├── (social)/    # Social media redirect routes with UTM tracking\n│   │   │   └── blog/        # Blog pages with AI-generated content\n│   │   ├── src/queries/     # Data fetching queries (cars, COE, logos) with comprehensive tests\n│   │   ├── src/actions/     # Server actions (newsletter subscription)\n│   │   ├── src/components/  # React components with comprehensive tests\n│   │   └── src/utils/       # Web-specific utility functions\n│   └── admin/        # Administrative interface for content management (unreleased)\n├── packages/\n│   ├── database/     # Database schema and migrations (Drizzle ORM)\n│   │   ├── src/schema/      # Schema definitions for all tables\n│   │   └── migrations/      # Database migration files\n│   ├── types/        # Shared TypeScript types\n│   ├── ui/           # Shared UI component library (shadcn/ui, Radix UI, Tailwind CSS)\n│   │   ├── src/components/  # shadcn/ui components\n│   │   ├── src/hooks/       # Custom React hooks\n│   │   ├── src/lib/         # Utility functions\n│   │   └── src/styles/      # Global styles\n│   └── utils/        # Shared utility functions and Redis configuration\n├── infra/            # SST v3 infrastructure configuration\n│   ├── api.ts              # API service configuration\n│   ├── web.ts              # Web application configuration\n│   └── router.ts           # Domain routing and DNS management\n```\n\n## Technologies\n\n- **Frontend**: Next.js 16 with Cache Components, React 19, TypeScript\n- **UI Library**: HeroUI (NextUI successor) with professional design system\n- **Styling**: Tailwind CSS v4 with custom configuration\n- **Backend**: Node.js 22, TypeScript with strict mode\n- **API Framework**: Hono with OpenAPI documentation\n- **Database**: Neon Serverless PostgreSQL with Drizzle ORM\n- **Caching**: Upstash Redis for API responses and analytics\n- **Infrastructure**: SST v3 (Serverless Stack) on AWS\n- **Scheduling**: QStash Workflows for data processing\n- **LLM Integration**: Vercel AI SDK with Google Gemini for blog content generation\n- **Package Management**: pnpm v10.22.0 workspace with catalog for centralised dependency management\n- **Build Tools**: Turbopack for fast development builds\n- **Testing**: Vitest (unit), Playwright (E2E) with comprehensive coverage\n- **Linting & Formatting**: Biome v2.3.0 for consistent code style, formatting, and import organisation\n\n## Documentation\n\nFor developers working on this codebase, detailed component-specific guidance is available:\n\n- **[Root CLAUDE.md](CLAUDE.md)** - Overall project guidance and conventions\n- **[API Service](apps/api/CLAUDE.md)** - Hono framework, workflows, and social media integration\n- **[Web Application](apps/web/CLAUDE.md)** - Next.js development, HeroUI components, and blog features\n- **[Database Package](packages/database/CLAUDE.md)** - Schema management, migrations, and TypeScript integration\n- **[UI Package](packages/ui/CLAUDE.md)** - Shared component library with shadcn/ui and Tailwind CSS\n- **[Infrastructure](infra/CLAUDE.md)** - SST deployment, AWS configuration, and domain management\n\n### Architecture Documentation\n\nSystem architecture diagrams are available in the `docs/` directory:\n\n- **[docs/architecture/](docs/architecture/)** - Architecture documentation with Mermaid diagrams\n- **[docs/diagrams/](docs/diagrams/)** - Source Mermaid diagram files\n\n## Getting Started\n\n### Prerequisites\n\n- Node.js >= 22\n- pnpm v10.22.0\n\n### Installation\n\n```bash\n# Clone the repository\ngit clone https://github.com/sgcarstrends/sgcarstrends.git\ncd sgcarstrends\n\n# Install dependencies\npnpm install\n```\n\n#### Dependency Management\n\nThis project uses **pnpm catalog** for centralised dependency version management. Shared dependencies (React, Next.js, TypeScript, testing tools, etc.) are defined in `pnpm-workspace.yaml` and referenced by workspace packages using the `catalog:` protocol.\n\n**Key catalog packages:**\n- React ecosystem: `react` (^19.2.3), `react-dom` (^19.2.3), `next` (^16.0.10)\n- TypeScript & types: `typescript` (^5.8.3), `@types/node` (^22.16.4), `@types/react` (^19.2.0), `@types/react-dom` (^19.2.0)\n- Testing tools: `vitest` (^4.0.15), `@vitest/coverage-v8` (^4.0.15)\n- AI & LLM: `ai` (^5.0.105), `@ai-sdk/google` (^2.0.44), `@langfuse/otel` (^4.4.2)\n- Utilities: `date-fns` (^3.6.0), `zod` (^4.1.13), `resend` (^6.1.2), `sonner` (^2.0.7)\n- Workflows: `@upstash/workflow` (0.3.0-rc)\n\n**Root-level dependencies** (not in catalog):\n- Build tools: `sst` (3.17.21), `turbo` (^2.6.1)\n- Code quality: `@biomejs/biome` (2.3.0), `husky` (^9.1.7), `lint-staged` (^16.1.5)\n- Release management: `semantic-release` (^24.0.0)\n\nThis ensures version consistency across all workspace packages and simplifies dependency upgrades.\n\n### Development\n\n```bash\n# Development\npnpm dev                    # Run all applications in development mode\npnpm dev:api               # API service only\npnpm dev:web               # Web application only\n\n# Build\npnpm build                 # Build all applications\npnpm build:web             # Build web application only\npnpm build:admin           # Build admin interface only\n\n# Testing\npnpm test                  # Run all unit tests\npnpm test:watch            # Run tests in watch mode\npnpm test:coverage         # Run tests with coverage\npnpm test:api              # Run API tests only\npnpm test:web              # Run web tests only\n\n# E2E Testing (Web App)\npnpm -F @sgcarstrends/web test:e2e       # Run Playwright E2E tests\npnpm -F @sgcarstrends/web test:e2e:ui    # Run E2E tests with Playwright UI\n\n# Code Quality\npnpm lint                  # Run Biome linting on all packages\npnpm format                # Run Biome formatting on all packages\npnpm lint:api              # Lint API service only\npnpm lint:web              # Lint web application only\npnpm lint:admin            # Lint admin application only\n\n# Database\npnpm db:migrate            # Run database migrations\npnpm db:migrate:check      # Check migration status\npnpm db:generate           # Generate new migrations\npnpm db:push               # Push schema changes\npnpm db:drop               # Drop database\n\n# Deployment\npnpm deploy:dev            # Deploy all to dev environment\npnpm deploy:staging        # Deploy all to staging environment\npnpm deploy:prod           # Deploy all to production environment\n\n# Service-specific deployment\npnpm deploy:api:dev        # Deploy API to dev\npnpm deploy:web:dev        # Deploy web to dev\n```\n\n## API Endpoints\n\n### Public Endpoints\n- `GET /` - Scalar API documentation interface\n- `GET /docs` - OpenAPI specification\n- `GET /health` - Health check endpoint\n\n### Data Access (Authenticated)\n- `GET /v1/cars` - Car registration data with filtering\n- `GET /v1/coe` - COE bidding results\n- `GET /v1/coe/pqp` - COE Prevailing Quota Premium rates\n- `GET /v1/makes` - Car manufacturers\n- `GET /v1/months/latest` - Latest month with data\n\n### Workflow System (Authenticated)\n- `POST /workflows/trigger` - Trigger data update workflows\n- `POST /workflows/cars` - Car data processing workflow\n- `POST /workflows/coe` - COE data processing workflow\n- `POST /workflows/linkedin` - LinkedIn posting webhook\n- `POST /workflows/twitter` - Twitter posting webhook\n- `POST /workflows/discord` - Discord posting webhook\n- `POST /workflows/telegram` - Telegram posting webhook\n\n## Repo Activity\n\n![Alt](https://repobeats.axiom.co/api/embed/01e0d81ecb779bfb5be18d4c7f79a33d75db9e7b.svg \"Repobeats analytics image\")\n\n## License\n\n[MIT](LICENSE)\n",
  "installCommand": "git clone https://github.com/sgcarstrends/sgcarstrends ~/.claude/skills/sgcarstrends",
  "defaultBranch": "main",
  "hasMarketplaceJson": false,
  "skillPath": "README.md"
}