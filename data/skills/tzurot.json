{
  "id": "61754a0fe8119dc4",
  "slug": "tzurot",
  "name": "Tzurot",
  "description": "A Discord bot that uses webhooks to represent multiple AI personalities.",
  "author": "lbds137",
  "authorAvatar": "https://avatars.githubusercontent.com/u/692161?v=4",
  "repoUrl": "https://github.com/lbds137/tzurot",
  "repoFullName": "lbds137/tzurot",
  "stars": 7,
  "forks": 1,
  "category": "ai-ml",
  "categories": [
    "ai-ml"
  ],
  "tags": [],
  "tier": 3,
  "status": "active",
  "createdAt": "2025-05-17T20:38:13Z",
  "updatedAt": "2025-12-15T06:07:06Z",
  "lastCommitAt": "2025-12-15T16:55:10Z",
  "source": "github-search",
  "collectedAt": "2025-12-17T03:32:25.620Z",
  "authorUrl": "https://github.com/lbds137",
  "license": "MIT",
  "readme": "# Tzurot v3\n\n[![codecov](https://codecov.io/gh/lbds137/tzurot/branch/develop/graph/badge.svg)](https://codecov.io/gh/lbds137/tzurot)\n[![CI](https://github.com/lbds137/tzurot/workflows/CI/badge.svg)](https://github.com/lbds137/tzurot/actions)\n\n> **ğŸš€ Status**: Public beta - BYOK (Bring Your Own Key) enabled\n\nA modern, scalable Discord bot with customizable AI personalities, powered by microservices architecture with long-term memory.\n\n## Why v3?\n\nShapes.inc (v2's AI provider) killed their API to force users to their website only, forcing a complete rewrite. v3 is better in every way:\n\n- **Vendor Independence**: Clean abstraction for AI providers (OpenRouter primary)\n- **TypeScript Throughout**: Full type safety and better IDE support\n- **True Microservices**: Each service has a single, clear responsibility\n- **Long-term Memory**: pgvector for personality memory across conversations\n- **Multiple Providers**: OpenRouter (400+ models including free tier)\n- **Clean Architecture**: No over-engineered DDD - just simple, maintainable code\n\n## Architecture\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  Discord    â”‚â”€â”€â”€â”€â–¶â”‚  Bot Client  â”‚â”€â”€â”€â”€â–¶â”‚    API     â”‚\nâ”‚   Users     â”‚â—€â”€â”€â”€â”€â”‚   Service    â”‚â—€â”€â”€â”€â”€â”‚  Gateway   â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜\n                                               â”‚\n                                               â–¼\n                                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n                                         â”‚   Queue    â”‚\n                                         â”‚  (Redis    â”‚\n                                         â”‚  +BullMQ)  â”‚\n                                         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜\n                                               â”‚\n                                               â–¼\n                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n                    â”‚                                                      â”‚\n                    â–¼                                                      â–¼\n              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n              â”‚ AI Worker  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ PostgreSQL â”‚\n              â”‚  Service   â”‚                                        â”‚ (pgvector) â”‚\n              â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                    â”‚\n                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n                    â–¼            â–¼\n              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n              â”‚OpenRouterâ”‚ â”‚  OpenAI  â”‚\n              â”‚   API    â”‚ â”‚(Whisper, â”‚\n              â”‚(400+     â”‚ â”‚Embedding)â”‚\n              â”‚ models)  â”‚ â”‚          â”‚\n              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n**Services:**\n\n- **bot-client**: Discord.js interface, webhook management, slash commands\n- **api-gateway**: HTTP API, request routing, job queue management\n- **ai-worker**: AI processing, memory retrieval, prompt building, response generation\n\n**Data Stores:**\n\n- **PostgreSQL + pgvector**: User data, personalities, conversation history, vector embeddings for long-term memory\n- **Redis**: BullMQ job queue for async processing, ioredis client\n\n**External APIs:**\n\n- **OpenRouter**: 400+ AI models via unified API (primary provider, includes free models)\n- **OpenAI**: Whisper (voice transcription) + text-embedding-3-small (vectors)\n\n## Quick Start\n\n### Prerequisites\n\n- Node.js 20+\n- pnpm 8+\n- Redis (for BullMQ)\n- Discord Bot Token\n- OpenRouter API Key\n\n### Setup\n\n1. **Install dependencies:**\n\n   ```bash\n   pnpm install\n   ```\n\n2. **Configure environment:**\n\n   ```bash\n   cp .env.example .env\n   # Edit .env with your tokens and keys\n   # Required: DISCORD_TOKEN, DATABASE_URL (PostgreSQL with pgvector)\n   # Required: AI provider keys (OpenRouter or Gemini), OPENAI_API_KEY (for embeddings)\n   # Optional: REDIS_URL (Railway provides this automatically)\n   ```\n\n3. **Start services:**\n\n   ```bash\n   # Development mode (all services)\n   pnpm dev\n\n   # Or start individually:\n   pnpm --filter @tzurot/bot-client dev\n   pnpm --filter @tzurot/api-gateway dev\n   pnpm --filter @tzurot/ai-worker dev\n   ```\n\n## Project Structure\n\n- **`services/`** - Microservices\n  - `bot-client/` - Discord bot interface\n  - `api-gateway/` - HTTP API and request routing\n  - `ai-worker/` - Background AI processing\n- **`packages/`** - Shared code\n  - `common-types/` - TypeScript types and schemas\n  - `api-clients/` - External API client libraries\n\n- **`personalities/`** - Personality configurations (JSON)\n- **`tzurot-legacy/`** - Archived v2 codebase\n\n## AI Provider System\n\nThe system is designed to be vendor-agnostic:\n\n```typescript\n// Easy to switch providers\nconst provider = AIProviderFactory.create('openrouter', {\n  apiKey: process.env.OPENROUTER_API_KEY,\n});\n\n// Or use a different provider\nconst provider = AIProviderFactory.create('openai', {\n  apiKey: process.env.OPENAI_API_KEY,\n});\n```\n\n### Currently Supported\n\n- âœ… OpenRouter (400+ models via one API, including free tier)\n\n### Planned Support\n\n- â³ Direct Anthropic Claude\n- â³ Direct OpenAI\n- â³ Direct Gemini\n- â³ Local models (Ollama)\n- â³ Custom endpoints\n\n## Features\n\n### âœ… Working in Production\n\n- **Multiple Personalities**: @mention different personalities (@lilith, @default, @sarcastic)\n- **Reply Detection**: Reply to bot messages to continue conversations\n- **Message References**: Reference other messages via Discord links or replies\n- **Long-term Memory**: pgvector stores personality memories across sessions\n- **Conversation History**: Contextual responses using recent message history\n- **Webhook Avatars**: Each personality has unique name and avatar\n- **Image Support**: Send images to personalities for analysis\n- **Voice Support**: Send voice messages for transcription\n- **Message Chunking**: Automatically handles Discord's 2000 character limit\n- **Model Indicators**: Shows which AI model generated each response\n- **BYOK (Bring Your Own Key)**: Users provide their own OpenRouter API keys\n- **Guest Mode**: Free model access for users without API keys\n- **Slash Commands**:\n  - `/wallet set/list/remove/test` - Manage your API keys (BYOK)\n  - `/llm-config create/list/delete` - Create custom LLM configurations\n  - `/model set/set-default` - Choose AI models per personality\n  - `/personality create/edit/import` - Manage personalities\n  - `/settings timezone/usage` - User settings\n  - `/admin servers/kick/usage` - Bot administration (owner only)\n  - `/ping`, `/help` - Utility commands\n\n### ğŸ“‹ Planned Features\n\n- Auto-response in activated channels (v2 feature not yet ported)\n- Rate limiting per user/channel\n- NSFW verification system\n- User persona management\n\n## Development\n\n### Build all services:\n\n```bash\npnpm build\n```\n\n### Run tests:\n\n```bash\npnpm test\n```\n\n### Type checking:\n\n```bash\npnpm typecheck\n```\n\n### Formatting:\n\n```bash\npnpm format\n```\n\n## Deployment\n\n### Railway Deployment\n\n**Current Status**: Public beta running on Railway\n\n- **API Gateway**: https://api-gateway-development-83e8.up.railway.app\n- **Health Check**: https://api-gateway-development-83e8.up.railway.app/health\n\n**BYOK Enabled**: Users can bring their own API keys via `/wallet` commands. Guest users without keys get access to free models only.\n\nSee [Railway Deployment Guide](docs/deployment/RAILWAY_DEPLOYMENT.md) for detailed deployment guide.\n\n```bash\n# Deploy updates (auto-deploys on push to develop)\ngit push origin develop\n\n# View logs\nrailway logs --service api-gateway\nrailway logs --service ai-worker\nrailway logs --service bot-client\n\n# Check status\nrailway status\n```\n\n### Local Development with Docker\n\nLocal development uses Docker Compose for Redis:\n\n```bash\ndocker-compose up -d\npnpm dev\n```\n\n## Documentation\n\n### Project Status & Planning\n\n- **[CURRENT_WORK.md](CURRENT_WORK.md)** - Current project status and what's being worked on\n- **[GitHub Releases](https://github.com/lbds137/tzurot/releases)** - Version history and changelogs\n- **[V2 Feature Tracking](docs/planning/V2_FEATURE_TRACKING.md)** - What's been ported from v2\n\n### Architecture & Design\n\n- **[Architecture Decisions](docs/architecture/ARCHITECTURE_DECISIONS.md)** - Why v3 is designed this way\n- **[Independent Component Timeouts](packages/common-types/src/constants/timing.ts)** - Component-specific timeout configuration\n- **[CLAUDE.md](CLAUDE.md)** - Project configuration for AI assistants\n\n### Development Guides\n\n- **[Development Guide](docs/guides/DEVELOPMENT.md)** - Local development setup\n- **[Testing Guide](docs/guides/TESTING.md)** - Testing philosophy and patterns\n- **[Deployment Guide](docs/deployment/RAILWAY_DEPLOYMENT.md)** - Railway deployment guide\n\n## Project History\n\n**v2** (archived in `tzurot-legacy/`): JavaScript, DDD architecture, Shapes.inc AI provider\n\n- API Shutdown: Shapes.inc killed their API to force users to their website, forcing migration\n- Lessons: Over-engineered architecture, vendor lock-in\n\n**v3** (current): TypeScript, microservices, vendor-agnostic\n\n- Complete rewrite with modern patterns\n- Production deployment: 2025-10\n- Focus: Simple, maintainable, scalable\n\n## License\n\nMIT License - See [LICENSE](LICENSE) file for details\n\n## Maintainer\n\nSingle-developer project by Vladlena Costescu\n",
  "installCommand": "git clone https://github.com/lbds137/tzurot ~/.claude/skills/tzurot",
  "defaultBranch": "main",
  "hasMarketplaceJson": false,
  "skillPath": "README.md"
}